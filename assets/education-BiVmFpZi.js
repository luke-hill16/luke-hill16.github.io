import{ref as e,reactive as l,onMounted as a,resolveComponent as t,resolveDirective as o,openBlock as u,createElementBlock as d,createVNode as i,withCtx as n,createElementVNode as r,createTextVNode as s,withDirectives as p,createBlock as c,toDisplayString as m,Fragment as f,createCommentVNode as v}from"vue";import{ElMessage as b,ElMessageBox as _}from"element-plus";import{_ as y}from"./_plugin-vue_export-helper-BCo6x5W8.js";const g={class:"education-container"},h={class:"tab-content"},V={class:"search-area"},w={class:"action-bar"},C={class:"pagination-container"},k={class:"tab-content"},x={class:"search-area"},U={class:"action-bar"},j={class:"pagination-container"},S={class:"dialog-footer"},z={class:"dialog-footer"},q=y({__name:"education",setup(y){const q=e("exam"),T=e(!1),B=e(!1),D=e("新增试卷"),I=e(1),O=e(10),A=e(0),E=e(),$=e(!1),F=e(!1),J=e("新增试题"),M=e(1),N=e(10),P=e(0),R=e(),G=l({name:"",type:"",status:""}),H=l({content:"",type:"",difficulty:""}),K=e([{id:1,name:"2024年春季期中考试",type:"midterm",totalScore:100,duration:120,questionCount:25,createTime:"2024-03-15",status:"published",description:"春季学期期中考试试卷"},{id:2,name:"数学单元测试一",type:"unit",totalScore:50,duration:60,questionCount:15,createTime:"2024-03-10",status:"draft",description:"第一章函数单元测试"},{id:3,name:"高考模拟考试",type:"mock",totalScore:150,duration:180,questionCount:35,createTime:"2024-03-01",status:"ended",description:"高考模拟考试试卷"}]),L=e([{id:1,content:"下列哪个是JavaScript的基本数据类型？",type:"single",difficulty:"easy",score:5,subject:"计算机科学",createTime:"2024-03-15",answer:"A",analysis:"JavaScript的基本数据类型包括：Number、String、Boolean、Undefined、Null、Symbol、BigInt"},{id:2,content:"请简述面向对象编程的三大特性。",type:"short",difficulty:"medium",score:10,subject:"计算机科学",createTime:"2024-03-14",answer:"封装、继承、多态",analysis:"面向对象编程的三大特性是封装、继承和多态，这是面向对象编程的核心概念。"},{id:3,content:"1 + 1 = 2",type:"judge",difficulty:"easy",score:2,subject:"数学",createTime:"2024-03-13",answer:"正确",analysis:"1加1等于2是基本的数学运算。"}]),Q=l({id:null,name:"",type:"",totalScore:100,duration:120,status:"draft",description:""}),W=l({id:null,content:"",type:"",difficulty:"",score:5,subject:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:"",analysis:""}),X={name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}],type:[{required:!0,message:"请选择试卷类型",trigger:"change"}],totalScore:[{required:!0,message:"请输入总分",trigger:"blur"}],duration:[{required:!0,message:"请输入考试时长",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},Y={content:[{required:!0,message:"请输入题目内容",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],score:[{required:!0,message:"请输入分值",trigger:"blur"}],subject:[{required:!0,message:"请输入科目",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},Z=e=>({midterm:"期中考试",final:"期末考试",mock:"模拟考试",unit:"单元测试"}[e]||"未知"),ee=e=>({draft:"草稿",published:"已发布",ended:"已结束"}[e]||"未知"),le=e=>({single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",short:"简答题"}[e]||"未知"),ae=e=>({easy:"简单",medium:"中等",hard:"困难"}[e]||"未知"),te=()=>{I.value=1,_e()},oe=()=>{Object.keys(G).forEach((e=>{G[e]=""})),te()},ue=()=>{M.value=1,ye()},de=()=>{Object.keys(H).forEach((e=>{H[e]=""})),ue()},ie=()=>{D.value="新增试卷",pe(),B.value=!0},ne=()=>{J.value="新增试题",ce(),F.value=!0},re=()=>{E.value.validate((e=>{if(e){if(Q.id){const e=K.value.findIndex((e=>e.id===Q.id));e>-1&&Object.assign(K.value[e],{...Q}),b.success("编辑成功")}else{const e=Math.max(...K.value.map((e=>e.id)))+1;K.value.push({...Q,id:e,questionCount:0,createTime:(new Date).toISOString().split("T")[0]}),b.success("新增成功")}B.value=!1}}))},se=()=>{R.value.validate((e=>{if(e){if(W.id){const e=L.value.findIndex((e=>e.id===W.id));e>-1&&Object.assign(L.value[e],{...W}),b.success("编辑成功")}else{const e=Math.max(...L.value.map((e=>e.id)))+1;L.value.push({...W,id:e,createTime:(new Date).toISOString().split("T")[0]}),b.success("新增成功")}F.value=!1}}))},pe=()=>{Object.keys(Q).forEach((e=>{Q[e]="totalScore"===e?100:"duration"===e?120:"status"===e?"draft":""})),Q.id=null},ce=()=>{Object.keys(W).forEach((e=>{W[e]="score"===e?5:""})),W.id=null},me=e=>{O.value=e,_e()},fe=e=>{I.value=e,_e()},ve=e=>{N.value=e,ye()},be=e=>{M.value=e,ye()},_e=()=>{T.value=!0,setTimeout((()=>{T.value=!1,A.value=K.value.length}),500)},ye=()=>{$.value=!0,setTimeout((()=>{$.value=!1,P.value=L.value.length}),500)};return a((()=>{_e(),ye()})),(e,l)=>{const a=t("el-input"),y=t("el-form-item"),pe=t("el-option"),ce=t("el-select"),_e=t("el-button"),ye=t("el-form"),ge=t("el-table-column"),he=t("el-tag"),Ve=t("el-table"),we=t("el-pagination"),Ce=t("el-tab-pane"),ke=t("el-tabs"),xe=t("el-card"),Ue=t("el-input-number"),je=t("el-dialog"),Se=o("loading");return u(),d("div",g,[i(xe,{class:"box-card"},{header:n((()=>l[32]||(l[32]=[r("div",{class:"card-header"},[r("span",null,"教育管理")],-1)]))),default:n((()=>[i(ke,{modelValue:q.value,"onUpdate:modelValue":l[10]||(l[10]=e=>q.value=e),type:"card",class:"education-tabs"},{default:n((()=>[i(Ce,{label:"试卷管理",name:"exam"},{default:n((()=>[r("div",h,[r("div",V,[i(ye,{inline:!0,model:G,class:"search-form"},{default:n((()=>[i(y,{label:"试卷名称"},{default:n((()=>[i(a,{modelValue:G.name,"onUpdate:modelValue":l[0]||(l[0]=e=>G.name=e),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])])),_:1}),i(y,{label:"试卷类型"},{default:n((()=>[i(ce,{modelValue:G.type,"onUpdate:modelValue":l[1]||(l[1]=e=>G.type=e),placeholder:"请选择试卷类型",clearable:"",style:{width:"180px"}},{default:n((()=>[i(pe,{label:"期中考试",value:"midterm"}),i(pe,{label:"期末考试",value:"final"}),i(pe,{label:"模拟考试",value:"mock"}),i(pe,{label:"单元测试",value:"unit"})])),_:1},8,["modelValue"])])),_:1}),i(y,{label:"状态"},{default:n((()=>[i(ce,{modelValue:G.status,"onUpdate:modelValue":l[2]||(l[2]=e=>G.status=e),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:n((()=>[i(pe,{label:"草稿",value:"draft"}),i(pe,{label:"已发布",value:"published"}),i(pe,{label:"已结束",value:"ended"})])),_:1},8,["modelValue"])])),_:1}),i(y,null,{default:n((()=>[i(_e,{type:"primary",onClick:te},{default:n((()=>l[33]||(l[33]=[s("搜索")]))),_:1,__:[33]}),i(_e,{onClick:oe},{default:n((()=>l[34]||(l[34]=[s("重置")]))),_:1,__:[34]})])),_:1})])),_:1},8,["model"])]),r("div",w,[i(_e,{type:"primary",onClick:ie},{default:n((()=>l[35]||(l[35]=[s("新增试卷")]))),_:1,__:[35]})]),p((u(),c(Ve,{data:K.value,style:{width:"100%"}},{default:n((()=>[i(ge,{prop:"id",label:"ID",width:"80"}),i(ge,{prop:"name",label:"试卷名称"}),i(ge,{prop:"type",label:"试卷类型",width:"120"},{default:n((e=>{return[i(he,{type:(l=e.row.type,{midterm:"warning",final:"danger",mock:"info",unit:"success"}[l]||"info")},{default:n((()=>[s(m(Z(e.row.type)),1)])),_:2},1032,["type"])];var l})),_:1}),i(ge,{prop:"totalScore",label:"总分",width:"80"}),i(ge,{prop:"duration",label:"考试时长(分钟)",width:"120"}),i(ge,{prop:"questionCount",label:"题目数量",width:"100"}),i(ge,{prop:"createTime",label:"创建时间",width:"120"}),i(ge,{prop:"status",label:"状态",width:"100"},{default:n((e=>{return[i(he,{type:(l=e.row.status,{draft:"info",published:"success",ended:"warning"}[l]||"info")},{default:n((()=>[s(m(ee(e.row.status)),1)])),_:2},1032,["type"])];var l})),_:1}),i(ge,{label:"操作",width:"250",fixed:"right"},{default:n((e=>[i(_e,{size:"small",onClick:l=>{return a=e.row,D.value="编辑试卷",Object.assign(Q,a),void(B.value=!0);var a}},{default:n((()=>l[36]||(l[36]=[s("编辑")]))),_:2,__:[36]},1032,["onClick"]),i(_e,{size:"small",type:"success",onClick:l=>{return a=e.row,void b.info(`查看试卷：${a.name}`);var a}},{default:n((()=>l[37]||(l[37]=[s("查看")]))),_:2,__:[37]},1032,["onClick"]),i(_e,{size:"small",type:"warning",onClick:l=>{return a=e.row,void b.info(`管理试卷"${a.name}"的题目`);var a}},{default:n((()=>l[38]||(l[38]=[s("管理题目")]))),_:2,__:[38]},1032,["onClick"]),i(_e,{size:"small",type:"danger",onClick:l=>{return a=e.row,void _.confirm(`确定要删除试卷"${a.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=K.value.findIndex((e=>e.id===a.id));e>-1&&(K.value.splice(e,1),b.success("删除成功"))})).catch((()=>{b.info("已取消删除")}));var a}},{default:n((()=>l[39]||(l[39]=[s("删除")]))),_:2,__:[39]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Se,T.value]]),r("div",C,[i(we,{"current-page":I.value,"onUpdate:currentPage":l[3]||(l[3]=e=>I.value=e),"page-size":O.value,"onUpdate:pageSize":l[4]||(l[4]=e=>O.value=e),"page-sizes":[10,20,50,100],total:A.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:me,onCurrentChange:fe},null,8,["current-page","page-size","total"])])])])),_:1}),i(Ce,{label:"试题管理",name:"question"},{default:n((()=>[r("div",k,[r("div",x,[i(ye,{inline:!0,model:H,class:"search-form"},{default:n((()=>[i(y,{label:"题目内容"},{default:n((()=>[i(a,{modelValue:H.content,"onUpdate:modelValue":l[5]||(l[5]=e=>H.content=e),placeholder:"请输入题目内容",clearable:""},null,8,["modelValue"])])),_:1}),i(y,{label:"题目类型"},{default:n((()=>[i(ce,{modelValue:H.type,"onUpdate:modelValue":l[6]||(l[6]=e=>H.type=e),placeholder:"请选择题目类型",clearable:"",style:{width:"180px"}},{default:n((()=>[i(pe,{label:"单选题",value:"single"}),i(pe,{label:"多选题",value:"multiple"}),i(pe,{label:"判断题",value:"judge"}),i(pe,{label:"填空题",value:"fill"}),i(pe,{label:"简答题",value:"short"})])),_:1},8,["modelValue"])])),_:1}),i(y,{label:"难度"},{default:n((()=>[i(ce,{modelValue:H.difficulty,"onUpdate:modelValue":l[7]||(l[7]=e=>H.difficulty=e),placeholder:"请选择难度",clearable:"",style:{width:"180px"}},{default:n((()=>[i(pe,{label:"简单",value:"easy"}),i(pe,{label:"中等",value:"medium"}),i(pe,{label:"困难",value:"hard"})])),_:1},8,["modelValue"])])),_:1}),i(y,null,{default:n((()=>[i(_e,{type:"primary",onClick:ue},{default:n((()=>l[40]||(l[40]=[s("搜索")]))),_:1,__:[40]}),i(_e,{onClick:de},{default:n((()=>l[41]||(l[41]=[s("重置")]))),_:1,__:[41]})])),_:1})])),_:1},8,["model"])]),r("div",U,[i(_e,{type:"primary",onClick:ne},{default:n((()=>l[42]||(l[42]=[s("新增试题")]))),_:1,__:[42]})]),p((u(),c(Ve,{data:L.value,style:{width:"100%"}},{default:n((()=>[i(ge,{prop:"id",label:"ID",width:"80"}),i(ge,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),i(ge,{prop:"type",label:"题目类型",width:"100"},{default:n((e=>{return[i(he,{type:(l=e.row.type,{single:"primary",multiple:"success",judge:"warning",fill:"info",short:"danger"}[l]||"info")},{default:n((()=>[s(m(le(e.row.type)),1)])),_:2},1032,["type"])];var l})),_:1}),i(ge,{prop:"difficulty",label:"难度",width:"80"},{default:n((e=>{return[i(he,{type:(l=e.row.difficulty,{easy:"success",medium:"warning",hard:"danger"}[l]||"info")},{default:n((()=>[s(m(ae(e.row.difficulty)),1)])),_:2},1032,["type"])];var l})),_:1}),i(ge,{prop:"score",label:"分值",width:"80"}),i(ge,{prop:"subject",label:"科目",width:"100"}),i(ge,{prop:"createTime",label:"创建时间",width:"120"}),i(ge,{label:"操作",width:"200",fixed:"right"},{default:n((e=>[i(_e,{size:"small",onClick:l=>{return a=e.row,J.value="编辑试题",Object.assign(W,a),void(F.value=!0);var a}},{default:n((()=>l[43]||(l[43]=[s("编辑")]))),_:2,__:[43]},1032,["onClick"]),i(_e,{size:"small",type:"success",onClick:l=>{return a=e.row,void b.info(`查看试题：${a.content.substring(0,20)}...`);var a}},{default:n((()=>l[44]||(l[44]=[s("查看")]))),_:2,__:[44]},1032,["onClick"]),i(_e,{size:"small",type:"danger",onClick:l=>{return a=e.row,void _.confirm("确定要删除这道试题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=L.value.findIndex((e=>e.id===a.id));e>-1&&(L.value.splice(e,1),b.success("删除成功"))})).catch((()=>{b.info("已取消删除")}));var a}},{default:n((()=>l[45]||(l[45]=[s("删除")]))),_:2,__:[45]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Se,$.value]]),r("div",j,[i(we,{"current-page":M.value,"onUpdate:currentPage":l[8]||(l[8]=e=>M.value=e),"page-size":N.value,"onUpdate:pageSize":l[9]||(l[9]=e=>N.value=e),"page-sizes":[10,20,50,100],total:P.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ve,onCurrentChange:be},null,8,["current-page","page-size","total"])])])])),_:1})])),_:1},8,["modelValue"])])),_:1}),i(je,{modelValue:B.value,"onUpdate:modelValue":l[18]||(l[18]=e=>B.value=e),title:D.value,width:"700px"},{footer:n((()=>[r("span",S,[i(_e,{onClick:l[17]||(l[17]=e=>B.value=!1)},{default:n((()=>l[46]||(l[46]=[s("取消")]))),_:1,__:[46]}),i(_e,{type:"primary",onClick:re},{default:n((()=>l[47]||(l[47]=[s("确定")]))),_:1,__:[47]})])])),default:n((()=>[i(ye,{model:Q,rules:X,ref_key:"examFormRef",ref:E,"label-width":"100px"},{default:n((()=>[i(y,{label:"试卷名称",prop:"name"},{default:n((()=>[i(a,{modelValue:Q.name,"onUpdate:modelValue":l[11]||(l[11]=e=>Q.name=e),placeholder:"请输入试卷名称"},null,8,["modelValue"])])),_:1}),i(y,{label:"试卷类型",prop:"type"},{default:n((()=>[i(ce,{modelValue:Q.type,"onUpdate:modelValue":l[12]||(l[12]=e=>Q.type=e),placeholder:"请选择试卷类型",style:{width:"100%"}},{default:n((()=>[i(pe,{label:"期中考试",value:"midterm"}),i(pe,{label:"期末考试",value:"final"}),i(pe,{label:"模拟考试",value:"mock"}),i(pe,{label:"单元测试",value:"unit"})])),_:1},8,["modelValue"])])),_:1}),i(y,{label:"总分",prop:"totalScore"},{default:n((()=>[i(Ue,{modelValue:Q.totalScore,"onUpdate:modelValue":l[13]||(l[13]=e=>Q.totalScore=e),min:0,max:200,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),i(y,{label:"考试时长(分钟)",prop:"duration"},{default:n((()=>[i(Ue,{modelValue:Q.duration,"onUpdate:modelValue":l[14]||(l[14]=e=>Q.duration=e),min:30,max:300,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),i(y,{label:"状态",prop:"status"},{default:n((()=>[i(ce,{modelValue:Q.status,"onUpdate:modelValue":l[15]||(l[15]=e=>Q.status=e),placeholder:"请选择状态",style:{width:"100%"}},{default:n((()=>[i(pe,{label:"草稿",value:"draft"}),i(pe,{label:"已发布",value:"published"}),i(pe,{label:"已结束",value:"ended"})])),_:1},8,["modelValue"])])),_:1}),i(y,{label:"试卷说明",prop:"description"},{default:n((()=>[i(a,{modelValue:Q.description,"onUpdate:modelValue":l[16]||(l[16]=e=>Q.description=e),type:"textarea",rows:3,placeholder:"请输入试卷说明"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),i(je,{modelValue:F.value,"onUpdate:modelValue":l[31]||(l[31]=e=>F.value=e),title:J.value,width:"800px"},{footer:n((()=>[r("span",z,[i(_e,{onClick:l[30]||(l[30]=e=>F.value=!1)},{default:n((()=>l[48]||(l[48]=[s("取消")]))),_:1,__:[48]}),i(_e,{type:"primary",onClick:se},{default:n((()=>l[49]||(l[49]=[s("确定")]))),_:1,__:[49]})])])),default:n((()=>[i(ye,{model:W,rules:Y,ref_key:"questionFormRef",ref:R,"label-width":"100px"},{default:n((()=>[i(y,{label:"题目内容",prop:"content"},{default:n((()=>[i(a,{modelValue:W.content,"onUpdate:modelValue":l[19]||(l[19]=e=>W.content=e),type:"textarea",rows:4,placeholder:"请输入题目内容"},null,8,["modelValue"])])),_:1}),i(y,{label:"题目类型",prop:"type"},{default:n((()=>[i(ce,{modelValue:W.type,"onUpdate:modelValue":l[20]||(l[20]=e=>W.type=e),placeholder:"请选择题目类型",style:{width:"100%"}},{default:n((()=>[i(pe,{label:"单选题",value:"single"}),i(pe,{label:"多选题",value:"multiple"}),i(pe,{label:"判断题",value:"judge"}),i(pe,{label:"填空题",value:"fill"}),i(pe,{label:"简答题",value:"short"})])),_:1},8,["modelValue"])])),_:1}),i(y,{label:"难度",prop:"difficulty"},{default:n((()=>[i(ce,{modelValue:W.difficulty,"onUpdate:modelValue":l[21]||(l[21]=e=>W.difficulty=e),placeholder:"请选择难度",style:{width:"100%"}},{default:n((()=>[i(pe,{label:"简单",value:"easy"}),i(pe,{label:"中等",value:"medium"}),i(pe,{label:"困难",value:"hard"})])),_:1},8,["modelValue"])])),_:1}),i(y,{label:"分值",prop:"score"},{default:n((()=>[i(Ue,{modelValue:W.score,"onUpdate:modelValue":l[22]||(l[22]=e=>W.score=e),min:1,max:50,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),i(y,{label:"科目",prop:"subject"},{default:n((()=>[i(a,{modelValue:W.subject,"onUpdate:modelValue":l[23]||(l[23]=e=>W.subject=e),placeholder:"请输入科目"},null,8,["modelValue"])])),_:1}),"single"===W.type||"multiple"===W.type?(u(),d(f,{key:0},[i(y,{label:"选项A",prop:"optionA"},{default:n((()=>[i(a,{modelValue:W.optionA,"onUpdate:modelValue":l[24]||(l[24]=e=>W.optionA=e),placeholder:"请输入选项A"},null,8,["modelValue"])])),_:1}),i(y,{label:"选项B",prop:"optionB"},{default:n((()=>[i(a,{modelValue:W.optionB,"onUpdate:modelValue":l[25]||(l[25]=e=>W.optionB=e),placeholder:"请输入选项B"},null,8,["modelValue"])])),_:1}),i(y,{label:"选项C",prop:"optionC"},{default:n((()=>[i(a,{modelValue:W.optionC,"onUpdate:modelValue":l[26]||(l[26]=e=>W.optionC=e),placeholder:"请输入选项C"},null,8,["modelValue"])])),_:1}),i(y,{label:"选项D",prop:"optionD"},{default:n((()=>[i(a,{modelValue:W.optionD,"onUpdate:modelValue":l[27]||(l[27]=e=>W.optionD=e),placeholder:"请输入选项D"},null,8,["modelValue"])])),_:1})],64)):v("",!0),i(y,{label:"正确答案",prop:"answer"},{default:n((()=>[i(a,{modelValue:W.answer,"onUpdate:modelValue":l[28]||(l[28]=e=>W.answer=e),placeholder:"请输入正确答案"},null,8,["modelValue"])])),_:1}),i(y,{label:"解析",prop:"analysis"},{default:n((()=>[i(a,{modelValue:W.analysis,"onUpdate:modelValue":l[29]||(l[29]=e=>W.analysis=e),type:"textarea",rows:3,placeholder:"请输入题目解析"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-e0c16c50"]]);export{q as default};
