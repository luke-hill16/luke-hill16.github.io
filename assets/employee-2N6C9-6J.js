import"./http-DNDk3rbG.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{z as w,A as N}from"./element-plus-B_exy3hO.js";import{r as g,k as R,z as E,A as n,P as l,H as t,O as T,ag as _,y as d,L as o,M as m,G as u,K as D}from"./vue-vendor-CnY5n9_A.js";import"./axios-DWwaMX5J.js";import"./index-BoDoPx40.js";const q={class:"employee-list-container"},A={class:"header"},P=["onClick"],W={key:0,class:"employee-detail"},F={class:"card-header"},G={class:"detail-item"},H={class:"detail-item"},I={class:"detail-item"},K={class:"detail-item"},L={class:"detail-item"},O={class:"detail-item"},S={class:"card-header"},U={class:"header-actions"},J={__name:"employee",setup(Q){const V=[{uid:"emp001",realname:"张三",email:"zhangsan@company.com",telephone:"13800138001",department:{name:"技术部"},status:1,date_joined:"2023-01-15"},{uid:"emp002",realname:"李四",email:"lisi@company.com",telephone:"13800138002",department:{name:"人事部"},status:1,date_joined:"2023-02-20"},{uid:"emp003",realname:"王五",email:"wangwu@company.com",telephone:"13800138003",department:{name:"财务部"},status:2,date_joined:"2023-03-10"},{uid:"emp004",realname:"赵六",email:"zhaoliu@company.com",telephone:"13800138004",department:{name:"市场部"},status:1,date_joined:"2023-04-05"},{uid:"emp005",realname:"钱七",email:"qianqi@company.com",telephone:"13800138005",department:{name:"技术部"},status:3,date_joined:"2023-05-12"},{uid:"emp006",realname:"孙八",email:"sunba@company.com",telephone:"13800138006",department:{name:"人事部"},status:1,date_joined:"2023-06-18"},{uid:"emp007",realname:"周九",email:"zhoujiu@company.com",telephone:"13800138007",department:{name:"财务部"},status:1,date_joined:"2023-07-22"},{uid:"emp008",realname:"吴十",email:"wushi@company.com",telephone:"13800138008",department:{name:"市场部"},status:2,date_joined:"2023-08-30"}],v=g([]),k=g(!1),p=g(null),B=s=>{p.value=s,k.value=!0},C=async()=>{try{await new Promise(s=>setTimeout(s,500)),v.value=V,w.success("员工列表加载成功")}catch{w.error("获取员工列表失败")}},h=s=>{w.info(`编辑员工: ${s.realname}`)},$=async s=>{try{await N.confirm(`确定要删除员工 ${s.realname} 吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),v.value=v.value.filter(e=>e.uid!==s.uid),w.success("删除成功")}catch{w.info("已取消删除")}};return R(C),(s,e)=>{const y=_("el-button"),i=_("el-table-column"),r=_("el-tag"),z=_("el-table"),c=_("el-card"),f=_("el-col"),j=_("el-row"),x=_("el-dialog");return d(),E(T,null,[n("div",q,[l(c,null,{default:t(()=>[n("div",A,[e[3]||(e[3]=n("span",null,"员工列表",-1)),l(y,{type:"primary",onClick:C,size:"small",style:{float:"right"}},{default:t(()=>e[2]||(e[2]=[o("刷新")])),_:1,__:[2]})]),l(z,{data:v.value,style:{width:"100%","margin-top":"20px"},fit:"true"},{default:t(()=>[l(i,{prop:"realname",label:"姓名","min-width":"120"},{default:t(a=>[n("span",{class:"clickable-name",onClick:b=>B(a.row)},m(a.row.realname),9,P)]),_:1}),l(i,{prop:"email",label:"邮箱","min-width":"200"}),l(i,{prop:"department.name",label:"部门","min-width":"120"}),l(i,{prop:"status",label:"状态","min-width":"100"},{default:t(a=>[a.row.status===1?(d(),u(r,{key:0,type:"success"},{default:t(()=>e[4]||(e[4]=[o("已激活")])),_:1,__:[4]})):a.row.status===2?(d(),u(r,{key:1,type:"info"},{default:t(()=>e[5]||(e[5]=[o("未激活")])),_:1,__:[5]})):(d(),u(r,{key:2,type:"danger"},{default:t(()=>e[6]||(e[6]=[o("锁定")])),_:1,__:[6]}))]),_:1}),l(i,{prop:"date_joined",label:"入职时间","min-width":"120"}),l(i,{label:"操作","min-width":"200"},{default:t(a=>[l(y,{size:"small",type:"primary",onClick:b=>h(a.row)},{default:t(()=>e[7]||(e[7]=[o("编辑")])),_:2,__:[7]},1032,["onClick"]),l(y,{size:"small",type:"danger",onClick:b=>$(a.row)},{default:t(()=>e[8]||(e[8]=[o("删除")])),_:2,__:[8]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),l(x,{modelValue:k.value,"onUpdate:modelValue":e[1]||(e[1]=a=>k.value=a),title:"员工详情",width:"900px","before-close":s.handleClose},{default:t(()=>[p.value?(d(),E("div",W,[l(c,{class:"info-card",shadow:"never"},{header:t(()=>[n("div",F,[e[10]||(e[10]=n("span",null,"基本信息",-1)),l(y,{type:"primary",size:"small",onClick:e[0]||(e[0]=a=>h(p.value))},{default:t(()=>e[9]||(e[9]=[o("编辑信息")])),_:1,__:[9]})])]),default:t(()=>[l(j,{gutter:20},{default:t(()=>[l(f,{span:8},{default:t(()=>[n("div",G,[e[11]||(e[11]=n("label",null,"姓名：",-1)),n("span",null,m(p.value.realname),1)])]),_:1}),l(f,{span:8},{default:t(()=>[n("div",H,[e[12]||(e[12]=n("label",null,"邮箱：",-1)),n("span",null,m(p.value.email),1)])]),_:1}),l(f,{span:8},{default:t(()=>[n("div",I,[e[13]||(e[13]=n("label",null,"电话：",-1)),n("span",null,m(p.value.telephone),1)])]),_:1})]),_:1}),l(j,{gutter:20},{default:t(()=>[l(f,{span:8},{default:t(()=>{var a;return[n("div",K,[e[14]||(e[14]=n("label",null,"部门：",-1)),n("span",null,m((a=p.value.department)==null?void 0:a.name),1)])]}),_:1}),l(f,{span:8},{default:t(()=>[n("div",L,[e[18]||(e[18]=n("label",null,"状态：",-1)),p.value.status===1?(d(),u(r,{key:0,type:"success"},{default:t(()=>e[15]||(e[15]=[o("已激活")])),_:1,__:[15]})):p.value.status===2?(d(),u(r,{key:1,type:"info"},{default:t(()=>e[16]||(e[16]=[o("未激活")])),_:1,__:[16]})):(d(),u(r,{key:2,type:"danger"},{default:t(()=>e[17]||(e[17]=[o("锁定")])),_:1,__:[17]}))])]),_:1}),l(f,{span:8},{default:t(()=>[n("div",O,[e[19]||(e[19]=n("label",null,"入职时间：",-1)),n("span",null,m(p.value.date_joined),1)])]),_:1})]),_:1})]),_:1}),l(c,{class:"work-record-card",shadow:"never"},{header:t(()=>[n("div",S,[e[22]||(e[22]=n("span",null,"工作记录",-1)),n("div",U,[l(y,{type:"success",size:"small",onClick:s.addWorkRecord},{default:t(()=>e[20]||(e[20]=[o("添加记录")])),_:1,__:[20]},8,["onClick"]),l(y,{type:"primary",size:"small",onClick:s.refreshWorkRecords},{default:t(()=>e[21]||(e[21]=[o("刷新")])),_:1,__:[21]},8,["onClick"])])])]),default:t(()=>[l(z,{data:s.workRecords,style:{width:"100%"},stripe:""},{default:t(()=>[l(i,{prop:"date",label:"日期",width:"120"}),l(i,{prop:"type",label:"类型",width:"100"},{default:t(a=>[a.row.type==="请假"?(d(),u(r,{key:0,type:"warning"},{default:t(()=>[o(m(a.row.type),1)]),_:2},1024)):a.row.type==="加班"?(d(),u(r,{key:1,type:"danger"},{default:t(()=>[o(m(a.row.type),1)]),_:2},1024)):(d(),u(r,{key:2,type:"success"},{default:t(()=>[o(m(a.row.type),1)]),_:2},1024))]),_:1}),l(i,{prop:"title",label:"标题","min-width":"150"}),l(i,{prop:"description",label:"描述","min-width":"200"}),l(i,{prop:"status",label:"状态",width:"100"},{default:t(a=>[a.row.status==="已批准"?(d(),u(r,{key:0,type:"success"},{default:t(()=>[o(m(a.row.status),1)]),_:2},1024)):a.row.status==="待审批"?(d(),u(r,{key:1,type:"warning"},{default:t(()=>[o(m(a.row.status),1)]),_:2},1024)):(d(),u(r,{key:2,type:"danger"},{default:t(()=>[o(m(a.row.status),1)]),_:2},1024))]),_:1}),l(i,{prop:"approver",label:"审批人",width:"100"}),l(i,{label:"操作",width:"120",fixed:"right"},{default:t(a=>[l(y,{size:"small",type:"primary",onClick:b=>s.viewRecordDetail(a.row)},{default:t(()=>e[23]||(e[23]=[o("查看")])),_:2,__:[23]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])):D("",!0)]),_:1},8,["modelValue","before-close"])],64)}}},ae=M(J,[["__scopeId","data-v-0e3be16b"]]);export{ae as default};
