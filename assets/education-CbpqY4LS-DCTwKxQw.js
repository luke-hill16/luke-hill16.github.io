import{C as e,V as l,u as a,o as t,B as o,v as u,b as d,M as i,c as n,W as r,k as s,e as p,x as c,i as m,a as f,z as b,f as y,J as _,g as v}from"./index-DyjvvSaJ.js";const g={class:"education-container"},h={class:"tab-content"},V={class:"search-area"},w={class:"action-bar"},C={class:"pagination-container"},k={class:"tab-content"},x={class:"search-area"},U={class:"action-bar"},j={class:"pagination-container"},S={class:"dialog-footer"},z={class:"dialog-footer"},q=e({__name:"education",setup(e){const q=l("exam"),T=l(!1),B=l(!1),D=l("新增试卷"),I=l(1),O=l(10),A=l(0),E=l(),$=l(!1),J=l(!1),F=l("新增试题"),M=l(1),N=l(10),P=l(0),R=l(),G=a({name:"",type:"",status:""}),H=a({content:"",type:"",difficulty:""}),K=l([{id:1,name:"2024年春季期中考试",type:"midterm",totalScore:100,duration:120,questionCount:25,createTime:"2024-03-15",status:"published",description:"春季学期期中考试试卷"},{id:2,name:"数学单元测试一",type:"unit",totalScore:50,duration:60,questionCount:15,createTime:"2024-03-10",status:"draft",description:"第一章函数单元测试"},{id:3,name:"高考模拟考试",type:"mock",totalScore:150,duration:180,questionCount:35,createTime:"2024-03-01",status:"ended",description:"高考模拟考试试卷"}]),L=l([{id:1,content:"下列哪个是JavaScript的基本数据类型？",type:"single",difficulty:"easy",score:5,subject:"计算机科学",createTime:"2024-03-15",answer:"A",analysis:"JavaScript的基本数据类型包括：Number、String、Boolean、Undefined、Null、Symbol、BigInt"},{id:2,content:"请简述面向对象编程的三大特性。",type:"short",difficulty:"medium",score:10,subject:"计算机科学",createTime:"2024-03-14",answer:"封装、继承、多态",analysis:"面向对象编程的三大特性是封装、继承和多态，这是面向对象编程的核心概念。"},{id:3,content:"1 + 1 = 2",type:"judge",difficulty:"easy",score:2,subject:"数学",createTime:"2024-03-13",answer:"正确",analysis:"1加1等于2是基本的数学运算。"}]),Q=a({id:null,name:"",type:"",totalScore:100,duration:120,status:"draft",description:""}),W=a({id:null,content:"",type:"",difficulty:"",score:5,subject:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:"",analysis:""}),X={name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}],type:[{required:!0,message:"请选择试卷类型",trigger:"change"}],totalScore:[{required:!0,message:"请输入总分",trigger:"blur"}],duration:[{required:!0,message:"请输入考试时长",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},Y={content:[{required:!0,message:"请输入题目内容",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],score:[{required:!0,message:"请输入分值",trigger:"blur"}],subject:[{required:!0,message:"请输入科目",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},Z=e=>({midterm:"warning",final:"danger",mock:"info",unit:"success"}[e]||"info"),ee=e=>({midterm:"期中考试",final:"期末考试",mock:"模拟考试",unit:"单元测试"}[e]||"未知"),le=e=>({draft:"info",published:"success",ended:"warning"}[e]||"info"),ae=e=>({draft:"草稿",published:"已发布",ended:"已结束"}[e]||"未知"),te=e=>({single:"primary",multiple:"success",judge:"warning",fill:"info",short:"danger"}[e]||"info"),oe=e=>({single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",short:"简答题"}[e]||"未知"),ue=e=>({easy:"success",medium:"warning",hard:"danger"}[e]||"info"),de=e=>({easy:"简单",medium:"中等",hard:"困难"}[e]||"未知"),ie=()=>{I.value=1,Ve()},ne=()=>{Object.keys(G).forEach((e=>{G[e]=""})),ie()},re=()=>{M.value=1,we()},se=()=>{Object.keys(H).forEach((e=>{H[e]=""})),re()},pe=()=>{D.value="新增试卷",be(),B.value=!0},ce=()=>{F.value="新增试题",ye(),J.value=!0},me=()=>{E.value.validate((e=>{if(e){if(Q.id){const e=K.value.findIndex((e=>e.id===Q.id));e>-1&&Object.assign(K.value[e],{...Q}),_.success("编辑成功")}else{const e=Math.max(...K.value.map((e=>e.id)))+1;K.value.push({...Q,id:e,questionCount:0,createTime:(new Date).toISOString().split("T")[0]}),_.success("新增成功")}B.value=!1}}))},fe=()=>{R.value.validate((e=>{if(e){if(W.id){const e=L.value.findIndex((e=>e.id===W.id));e>-1&&Object.assign(L.value[e],{...W}),_.success("编辑成功")}else{const e=Math.max(...L.value.map((e=>e.id)))+1;L.value.push({...W,id:e,createTime:(new Date).toISOString().split("T")[0]}),_.success("新增成功")}J.value=!1}}))},be=()=>{Object.keys(Q).forEach((e=>{Q[e]="totalScore"===e?100:"duration"===e?120:"status"===e?"draft":""})),Q.id=null},ye=()=>{Object.keys(W).forEach((e=>{W[e]="score"===e?5:""})),W.id=null},_e=e=>{O.value=e,Ve()},ve=e=>{I.value=e,Ve()},ge=e=>{N.value=e,we()},he=e=>{M.value=e,we()},Ve=()=>{T.value=!0,setTimeout((()=>{T.value=!1,A.value=K.value.length}),500)},we=()=>{$.value=!0,setTimeout((()=>{$.value=!1,P.value=L.value.length}),500)};return t((()=>{Ve(),we()})),(e,l)=>{const a=o("el-input"),t=o("el-form-item"),be=o("el-option"),ye=o("el-select"),Ve=o("el-button"),we=o("el-form"),Ce=o("el-table-column"),ke=o("el-tag"),xe=o("el-table"),Ue=o("el-pagination"),je=o("el-tab-pane"),Se=o("el-tabs"),ze=o("el-card"),qe=o("el-input-number"),Te=o("el-dialog"),Be=u("loading");return d(),i("div",g,[n(ze,{class:"box-card"},{header:r((()=>l[32]||(l[32]=[s("div",{class:"card-header"},[s("span",null,"教育管理")],-1)]))),default:r((()=>[n(Se,{modelValue:q.value,"onUpdate:modelValue":l[10]||(l[10]=e=>q.value=e),type:"card",class:"education-tabs"},{default:r((()=>[n(je,{label:"试卷管理",name:"exam"},{default:r((()=>[s("div",h,[s("div",V,[n(we,{inline:!0,model:G,class:"search-form"},{default:r((()=>[n(t,{label:"试卷名称"},{default:r((()=>[n(a,{modelValue:G.name,"onUpdate:modelValue":l[0]||(l[0]=e=>G.name=e),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])])),_:1}),n(t,{label:"试卷类型"},{default:r((()=>[n(ye,{modelValue:G.type,"onUpdate:modelValue":l[1]||(l[1]=e=>G.type=e),placeholder:"请选择试卷类型",clearable:"",style:{width:"180px"}},{default:r((()=>[n(be,{label:"期中考试",value:"midterm"}),n(be,{label:"期末考试",value:"final"}),n(be,{label:"模拟考试",value:"mock"}),n(be,{label:"单元测试",value:"unit"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"状态"},{default:r((()=>[n(ye,{modelValue:G.status,"onUpdate:modelValue":l[2]||(l[2]=e=>G.status=e),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:r((()=>[n(be,{label:"草稿",value:"draft"}),n(be,{label:"已发布",value:"published"}),n(be,{label:"已结束",value:"ended"})])),_:1},8,["modelValue"])])),_:1}),n(t,null,{default:r((()=>[n(Ve,{type:"primary",onClick:ie},{default:r((()=>l[33]||(l[33]=[p("搜索")]))),_:1,__:[33]}),n(Ve,{onClick:ne},{default:r((()=>l[34]||(l[34]=[p("重置")]))),_:1,__:[34]})])),_:1})])),_:1},8,["model"])]),s("div",w,[n(Ve,{type:"primary",onClick:pe},{default:r((()=>l[35]||(l[35]=[p("新增试卷")]))),_:1,__:[35]})]),c((d(),m(xe,{data:K.value,style:{width:"100%"}},{default:r((()=>[n(Ce,{prop:"id",label:"ID",width:"80"}),n(Ce,{prop:"name",label:"试卷名称"}),n(Ce,{prop:"type",label:"试卷类型",width:"120"},{default:r((e=>[n(ke,{type:Z(e.row.type)},{default:r((()=>[p(f(ee(e.row.type)),1)])),_:2},1032,["type"])])),_:1}),n(Ce,{prop:"totalScore",label:"总分",width:"80"}),n(Ce,{prop:"duration",label:"考试时长(分钟)",width:"120"}),n(Ce,{prop:"questionCount",label:"题目数量",width:"100"}),n(Ce,{prop:"createTime",label:"创建时间",width:"120"}),n(Ce,{prop:"status",label:"状态",width:"100"},{default:r((e=>[n(ke,{type:le(e.row.status)},{default:r((()=>[p(f(ae(e.row.status)),1)])),_:2},1032,["type"])])),_:1}),n(Ce,{label:"操作",width:"250",fixed:"right"},{default:r((e=>[n(Ve,{size:"small",onClick:l=>(e=>{D.value="编辑试卷",Object.assign(Q,e),B.value=!0})(e.row)},{default:r((()=>l[36]||(l[36]=[p("编辑")]))),_:2,__:[36]},1032,["onClick"]),n(Ve,{size:"small",type:"success",onClick:l=>(e=>{_.info(`查看试卷：${e.name}`)})(e.row)},{default:r((()=>l[37]||(l[37]=[p("查看")]))),_:2,__:[37]},1032,["onClick"]),n(Ve,{size:"small",type:"warning",onClick:l=>(e=>{_.info(`管理试卷"${e.name}"的题目`)})(e.row)},{default:r((()=>l[38]||(l[38]=[p("管理题目")]))),_:2,__:[38]},1032,["onClick"]),n(Ve,{size:"small",type:"danger",onClick:l=>(e=>{v.confirm(`确定要删除试卷"${e.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=K.value.findIndex((l=>l.id===e.id));l>-1&&(K.value.splice(l,1),_.success("删除成功"))})).catch((()=>{_.info("已取消删除")}))})(e.row)},{default:r((()=>l[39]||(l[39]=[p("删除")]))),_:2,__:[39]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Be,T.value]]),s("div",C,[n(Ue,{"current-page":I.value,"onUpdate:currentPage":l[3]||(l[3]=e=>I.value=e),"page-size":O.value,"onUpdate:pageSize":l[4]||(l[4]=e=>O.value=e),"page-sizes":[10,20,50,100],total:A.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:_e,onCurrentChange:ve},null,8,["current-page","page-size","total"])])])])),_:1}),n(je,{label:"试题管理",name:"question"},{default:r((()=>[s("div",k,[s("div",x,[n(we,{inline:!0,model:H,class:"search-form"},{default:r((()=>[n(t,{label:"题目内容"},{default:r((()=>[n(a,{modelValue:H.content,"onUpdate:modelValue":l[5]||(l[5]=e=>H.content=e),placeholder:"请输入题目内容",clearable:""},null,8,["modelValue"])])),_:1}),n(t,{label:"题目类型"},{default:r((()=>[n(ye,{modelValue:H.type,"onUpdate:modelValue":l[6]||(l[6]=e=>H.type=e),placeholder:"请选择题目类型",clearable:"",style:{width:"180px"}},{default:r((()=>[n(be,{label:"单选题",value:"single"}),n(be,{label:"多选题",value:"multiple"}),n(be,{label:"判断题",value:"judge"}),n(be,{label:"填空题",value:"fill"}),n(be,{label:"简答题",value:"short"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"难度"},{default:r((()=>[n(ye,{modelValue:H.difficulty,"onUpdate:modelValue":l[7]||(l[7]=e=>H.difficulty=e),placeholder:"请选择难度",clearable:"",style:{width:"180px"}},{default:r((()=>[n(be,{label:"简单",value:"easy"}),n(be,{label:"中等",value:"medium"}),n(be,{label:"困难",value:"hard"})])),_:1},8,["modelValue"])])),_:1}),n(t,null,{default:r((()=>[n(Ve,{type:"primary",onClick:re},{default:r((()=>l[40]||(l[40]=[p("搜索")]))),_:1,__:[40]}),n(Ve,{onClick:se},{default:r((()=>l[41]||(l[41]=[p("重置")]))),_:1,__:[41]})])),_:1})])),_:1},8,["model"])]),s("div",U,[n(Ve,{type:"primary",onClick:ce},{default:r((()=>l[42]||(l[42]=[p("新增试题")]))),_:1,__:[42]})]),c((d(),m(xe,{data:L.value,style:{width:"100%"}},{default:r((()=>[n(Ce,{prop:"id",label:"ID",width:"80"}),n(Ce,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),n(Ce,{prop:"type",label:"题目类型",width:"100"},{default:r((e=>[n(ke,{type:te(e.row.type)},{default:r((()=>[p(f(oe(e.row.type)),1)])),_:2},1032,["type"])])),_:1}),n(Ce,{prop:"difficulty",label:"难度",width:"80"},{default:r((e=>[n(ke,{type:ue(e.row.difficulty)},{default:r((()=>[p(f(de(e.row.difficulty)),1)])),_:2},1032,["type"])])),_:1}),n(Ce,{prop:"score",label:"分值",width:"80"}),n(Ce,{prop:"subject",label:"科目",width:"100"}),n(Ce,{prop:"createTime",label:"创建时间",width:"120"}),n(Ce,{label:"操作",width:"200",fixed:"right"},{default:r((e=>[n(Ve,{size:"small",onClick:l=>(e=>{F.value="编辑试题",Object.assign(W,e),J.value=!0})(e.row)},{default:r((()=>l[43]||(l[43]=[p("编辑")]))),_:2,__:[43]},1032,["onClick"]),n(Ve,{size:"small",type:"success",onClick:l=>(e=>{_.info(`查看试题：${e.content.substring(0,20)}...`)})(e.row)},{default:r((()=>l[44]||(l[44]=[p("查看")]))),_:2,__:[44]},1032,["onClick"]),n(Ve,{size:"small",type:"danger",onClick:l=>(e=>{v.confirm("确定要删除这道试题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=L.value.findIndex((l=>l.id===e.id));l>-1&&(L.value.splice(l,1),_.success("删除成功"))})).catch((()=>{_.info("已取消删除")}))})(e.row)},{default:r((()=>l[45]||(l[45]=[p("删除")]))),_:2,__:[45]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Be,$.value]]),s("div",j,[n(Ue,{"current-page":M.value,"onUpdate:currentPage":l[8]||(l[8]=e=>M.value=e),"page-size":N.value,"onUpdate:pageSize":l[9]||(l[9]=e=>N.value=e),"page-sizes":[10,20,50,100],total:P.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ge,onCurrentChange:he},null,8,["current-page","page-size","total"])])])])),_:1})])),_:1},8,["modelValue"])])),_:1}),n(Te,{modelValue:B.value,"onUpdate:modelValue":l[18]||(l[18]=e=>B.value=e),title:D.value,width:"700px"},{footer:r((()=>[s("span",S,[n(Ve,{onClick:l[17]||(l[17]=e=>B.value=!1)},{default:r((()=>l[46]||(l[46]=[p("取消")]))),_:1,__:[46]}),n(Ve,{type:"primary",onClick:me},{default:r((()=>l[47]||(l[47]=[p("确定")]))),_:1,__:[47]})])])),default:r((()=>[n(we,{model:Q,rules:X,ref_key:"examFormRef",ref:E,"label-width":"100px"},{default:r((()=>[n(t,{label:"试卷名称",prop:"name"},{default:r((()=>[n(a,{modelValue:Q.name,"onUpdate:modelValue":l[11]||(l[11]=e=>Q.name=e),placeholder:"请输入试卷名称"},null,8,["modelValue"])])),_:1}),n(t,{label:"试卷类型",prop:"type"},{default:r((()=>[n(ye,{modelValue:Q.type,"onUpdate:modelValue":l[12]||(l[12]=e=>Q.type=e),placeholder:"请选择试卷类型",style:{width:"100%"}},{default:r((()=>[n(be,{label:"期中考试",value:"midterm"}),n(be,{label:"期末考试",value:"final"}),n(be,{label:"模拟考试",value:"mock"}),n(be,{label:"单元测试",value:"unit"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"总分",prop:"totalScore"},{default:r((()=>[n(qe,{modelValue:Q.totalScore,"onUpdate:modelValue":l[13]||(l[13]=e=>Q.totalScore=e),min:0,max:200,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(t,{label:"考试时长(分钟)",prop:"duration"},{default:r((()=>[n(qe,{modelValue:Q.duration,"onUpdate:modelValue":l[14]||(l[14]=e=>Q.duration=e),min:30,max:300,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(t,{label:"状态",prop:"status"},{default:r((()=>[n(ye,{modelValue:Q.status,"onUpdate:modelValue":l[15]||(l[15]=e=>Q.status=e),placeholder:"请选择状态",style:{width:"100%"}},{default:r((()=>[n(be,{label:"草稿",value:"draft"}),n(be,{label:"已发布",value:"published"}),n(be,{label:"已结束",value:"ended"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"试卷说明",prop:"description"},{default:r((()=>[n(a,{modelValue:Q.description,"onUpdate:modelValue":l[16]||(l[16]=e=>Q.description=e),type:"textarea",rows:3,placeholder:"请输入试卷说明"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),n(Te,{modelValue:J.value,"onUpdate:modelValue":l[31]||(l[31]=e=>J.value=e),title:F.value,width:"800px"},{footer:r((()=>[s("span",z,[n(Ve,{onClick:l[30]||(l[30]=e=>J.value=!1)},{default:r((()=>l[48]||(l[48]=[p("取消")]))),_:1,__:[48]}),n(Ve,{type:"primary",onClick:fe},{default:r((()=>l[49]||(l[49]=[p("确定")]))),_:1,__:[49]})])])),default:r((()=>[n(we,{model:W,rules:Y,ref_key:"questionFormRef",ref:R,"label-width":"100px"},{default:r((()=>[n(t,{label:"题目内容",prop:"content"},{default:r((()=>[n(a,{modelValue:W.content,"onUpdate:modelValue":l[19]||(l[19]=e=>W.content=e),type:"textarea",rows:4,placeholder:"请输入题目内容"},null,8,["modelValue"])])),_:1}),n(t,{label:"题目类型",prop:"type"},{default:r((()=>[n(ye,{modelValue:W.type,"onUpdate:modelValue":l[20]||(l[20]=e=>W.type=e),placeholder:"请选择题目类型",style:{width:"100%"}},{default:r((()=>[n(be,{label:"单选题",value:"single"}),n(be,{label:"多选题",value:"multiple"}),n(be,{label:"判断题",value:"judge"}),n(be,{label:"填空题",value:"fill"}),n(be,{label:"简答题",value:"short"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"难度",prop:"difficulty"},{default:r((()=>[n(ye,{modelValue:W.difficulty,"onUpdate:modelValue":l[21]||(l[21]=e=>W.difficulty=e),placeholder:"请选择难度",style:{width:"100%"}},{default:r((()=>[n(be,{label:"简单",value:"easy"}),n(be,{label:"中等",value:"medium"}),n(be,{label:"困难",value:"hard"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"分值",prop:"score"},{default:r((()=>[n(qe,{modelValue:W.score,"onUpdate:modelValue":l[22]||(l[22]=e=>W.score=e),min:1,max:50,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(t,{label:"科目",prop:"subject"},{default:r((()=>[n(a,{modelValue:W.subject,"onUpdate:modelValue":l[23]||(l[23]=e=>W.subject=e),placeholder:"请输入科目"},null,8,["modelValue"])])),_:1}),"single"===W.type||"multiple"===W.type?(d(),i(b,{key:0},[n(t,{label:"选项A",prop:"optionA"},{default:r((()=>[n(a,{modelValue:W.optionA,"onUpdate:modelValue":l[24]||(l[24]=e=>W.optionA=e),placeholder:"请输入选项A"},null,8,["modelValue"])])),_:1}),n(t,{label:"选项B",prop:"optionB"},{default:r((()=>[n(a,{modelValue:W.optionB,"onUpdate:modelValue":l[25]||(l[25]=e=>W.optionB=e),placeholder:"请输入选项B"},null,8,["modelValue"])])),_:1}),n(t,{label:"选项C",prop:"optionC"},{default:r((()=>[n(a,{modelValue:W.optionC,"onUpdate:modelValue":l[26]||(l[26]=e=>W.optionC=e),placeholder:"请输入选项C"},null,8,["modelValue"])])),_:1}),n(t,{label:"选项D",prop:"optionD"},{default:r((()=>[n(a,{modelValue:W.optionD,"onUpdate:modelValue":l[27]||(l[27]=e=>W.optionD=e),placeholder:"请输入选项D"},null,8,["modelValue"])])),_:1})],64)):y("",!0),n(t,{label:"正确答案",prop:"answer"},{default:r((()=>[n(a,{modelValue:W.answer,"onUpdate:modelValue":l[28]||(l[28]=e=>W.answer=e),placeholder:"请输入正确答案"},null,8,["modelValue"])])),_:1}),n(t,{label:"解析",prop:"analysis"},{default:r((()=>[n(a,{modelValue:W.analysis,"onUpdate:modelValue":l[29]||(l[29]=e=>W.analysis=e),type:"textarea",rows:3,placeholder:"请输入题目解析"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-e0c16c50"]]);export{q as default};
