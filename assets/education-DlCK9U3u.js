import{_ as Me}from"./chunk-DlAUqK2U.js";import{z as g,A as Z}from"./chunk-BtzBX2c4.js";import{r as f,X as D,k as Be,z as ee,P as e,H as a,ag as c,y as j,A as b,L as r,I as le,G as te,M as E,O as Qe,K as Ie,aq as $e}from"./chunk-CnY5n9_A.js";const Ae={class:"education-container"},Fe={class:"tab-content"},Oe={class:"search-area"},Re={class:"action-bar"},Le={class:"pagination-container"},Pe={class:"tab-content"},Ne={class:"search-area"},Je={class:"action-bar"},Ge={class:"pagination-container"},He={class:"dialog-footer"},Ke={class:"dialog-footer"},Xe={__name:"education",setup(We){const O=f("exam"),M=f(!1),x=f(!1),B=f("新增试卷"),T=f(1),Q=f(10),R=f(0),L=f(),I=f(!1),C=f(!1),$=f("新增试题"),k=f(1),A=f(10),P=f(0),N=f(),y=D({name:"",type:"",status:""}),v=D({content:"",type:"",difficulty:""}),_=f([{id:1,name:"2024年春季期中考试",type:"midterm",totalScore:100,duration:120,questionCount:25,createTime:"2024-03-15",status:"published",description:"春季学期期中考试试卷"},{id:2,name:"数学单元测试一",type:"unit",totalScore:50,duration:60,questionCount:15,createTime:"2024-03-10",status:"draft",description:"第一章函数单元测试"},{id:3,name:"高考模拟考试",type:"mock",totalScore:150,duration:180,questionCount:35,createTime:"2024-03-01",status:"ended",description:"高考模拟考试试卷"}]),V=f([{id:1,content:"下列哪个是JavaScript的基本数据类型？",type:"single",difficulty:"easy",score:5,subject:"计算机科学",createTime:"2024-03-15",answer:"A",analysis:"JavaScript的基本数据类型包括：Number、String、Boolean、Undefined、Null、Symbol、BigInt"},{id:2,content:"请简述面向对象编程的三大特性。",type:"short",difficulty:"medium",score:10,subject:"计算机科学",createTime:"2024-03-14",answer:"封装、继承、多态",analysis:"面向对象编程的三大特性是封装、继承和多态，这是面向对象编程的核心概念。"},{id:3,content:"1 + 1 = 2",type:"judge",difficulty:"easy",score:2,subject:"数学",createTime:"2024-03-13",answer:"正确",analysis:"1加1等于2是基本的数学运算。"}]),d=D({id:null,name:"",type:"",totalScore:100,duration:120,status:"draft",description:""}),n=D({id:null,content:"",type:"",difficulty:"",score:5,subject:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:"",analysis:""}),ae={name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}],type:[{required:!0,message:"请选择试卷类型",trigger:"change"}],totalScore:[{required:!0,message:"请输入总分",trigger:"blur"}],duration:[{required:!0,message:"请输入考试时长",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},oe={content:[{required:!0,message:"请输入题目内容",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],score:[{required:!0,message:"请输入分值",trigger:"blur"}],subject:[{required:!0,message:"请输入科目",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},ne=o=>({midterm:"warning",final:"danger",mock:"info",unit:"success"})[o]||"info",ue=o=>({midterm:"期中考试",final:"期末考试",mock:"模拟考试",unit:"单元测试"})[o]||"未知",se=o=>({draft:"info",published:"success",ended:"warning"})[o]||"info",ie=o=>({draft:"草稿",published:"已发布",ended:"已结束"})[o]||"未知",de=o=>({single:"primary",multiple:"success",judge:"warning",fill:"info",short:"danger"})[o]||"info",re=o=>({single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",short:"简答题"})[o]||"未知",pe=o=>({easy:"success",medium:"warning",hard:"danger"})[o]||"info",me=o=>({easy:"简单",medium:"中等",hard:"困难"})[o]||"未知",J=()=>{T.value=1,S()},fe=()=>{Object.keys(y).forEach(o=>{y[o]=""}),J()},G=()=>{k.value=1,U()},ce=()=>{Object.keys(v).forEach(o=>{v[o]=""}),G()},be=()=>{B.value="新增试卷",ke(),x.value=!0},ge=o=>{B.value="编辑试卷",Object.assign(d,o),x.value=!0},ye=o=>{g.info(`查看试卷：${o.name}`)},ve=o=>{g.info(`管理试卷"${o.name}"的题目`)},_e=o=>{Z.confirm(`确定要删除试卷"${o.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=_.value.findIndex(i=>i.id===o.id);l>-1&&(_.value.splice(l,1),g.success("删除成功"))}).catch(()=>{g.info("已取消删除")})},Ve=()=>{$.value="新增试题",Se(),C.value=!0},we=o=>{$.value="编辑试题",Object.assign(n,o),C.value=!0},xe=o=>{g.info(`查看试题：${o.content.substring(0,20)}...`)},Ce=o=>{Z.confirm("确定要删除这道试题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=V.value.findIndex(i=>i.id===o.id);l>-1&&(V.value.splice(l,1),g.success("删除成功"))}).catch(()=>{g.info("已取消删除")})},he=()=>{L.value.validate(o=>{if(o){if(d.id){const l=_.value.findIndex(i=>i.id===d.id);l>-1&&Object.assign(_.value[l],{...d}),g.success("编辑成功")}else{const l=Math.max(..._.value.map(i=>i.id))+1;_.value.push({...d,id:l,questionCount:0,createTime:new Date().toISOString().split("T")[0]}),g.success("新增成功")}x.value=!1}})},Te=()=>{N.value.validate(o=>{if(o){if(n.id){const l=V.value.findIndex(i=>i.id===n.id);l>-1&&Object.assign(V.value[l],{...n}),g.success("编辑成功")}else{const l=Math.max(...V.value.map(i=>i.id))+1;V.value.push({...n,id:l,createTime:new Date().toISOString().split("T")[0]}),g.success("新增成功")}C.value=!1}})},ke=()=>{Object.keys(d).forEach(o=>{d[o]=o==="totalScore"?100:o==="duration"?120:o==="status"?"draft":""}),d.id=null},Se=()=>{Object.keys(n).forEach(o=>{n[o]=o==="score"?5:""}),n.id=null},Ue=o=>{Q.value=o,S()},qe=o=>{T.value=o,S()},ze=o=>{A.value=o,U()},De=o=>{k.value=o,U()},S=()=>{M.value=!0,setTimeout(()=>{M.value=!1,R.value=_.value.length},500)},U=()=>{I.value=!0,setTimeout(()=>{I.value=!1,P.value=V.value.length},500)};return Be(()=>{S(),U()}),(o,l)=>{const i=c("el-input"),s=c("el-form-item"),u=c("el-option"),w=c("el-select"),p=c("el-button"),q=c("el-form"),m=c("el-table-column"),z=c("el-tag"),H=c("el-table"),K=c("el-pagination"),X=c("el-tab-pane"),je=c("el-tabs"),Ee=c("el-card"),F=c("el-input-number"),W=c("el-dialog"),Y=$e("loading");return j(),ee("div",Ae,[e(Ee,{class:"box-card"},{header:a(()=>l[32]||(l[32]=[b("div",{class:"card-header"},[b("span",null,"教育管理")],-1)])),default:a(()=>[e(je,{modelValue:O.value,"onUpdate:modelValue":l[10]||(l[10]=t=>O.value=t),type:"card",class:"education-tabs"},{default:a(()=>[e(X,{label:"试卷管理",name:"exam"},{default:a(()=>[b("div",Fe,[b("div",Oe,[e(q,{inline:!0,model:y,class:"search-form"},{default:a(()=>[e(s,{label:"试卷名称"},{default:a(()=>[e(i,{modelValue:y.name,"onUpdate:modelValue":l[0]||(l[0]=t=>y.name=t),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{label:"试卷类型"},{default:a(()=>[e(w,{modelValue:y.type,"onUpdate:modelValue":l[1]||(l[1]=t=>y.type=t),placeholder:"请选择试卷类型",clearable:"",style:{width:"180px"}},{default:a(()=>[e(u,{label:"期中考试",value:"midterm"}),e(u,{label:"期末考试",value:"final"}),e(u,{label:"模拟考试",value:"mock"}),e(u,{label:"单元测试",value:"unit"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"状态"},{default:a(()=>[e(w,{modelValue:y.status,"onUpdate:modelValue":l[2]||(l[2]=t=>y.status=t),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:a(()=>[e(u,{label:"草稿",value:"draft"}),e(u,{label:"已发布",value:"published"}),e(u,{label:"已结束",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(s,null,{default:a(()=>[e(p,{type:"primary",onClick:J},{default:a(()=>l[33]||(l[33]=[r("搜索")])),_:1,__:[33]}),e(p,{onClick:fe},{default:a(()=>l[34]||(l[34]=[r("重置")])),_:1,__:[34]})]),_:1})]),_:1},8,["model"])]),b("div",Re,[e(p,{type:"primary",onClick:be},{default:a(()=>l[35]||(l[35]=[r("新增试卷")])),_:1,__:[35]})]),le((j(),te(H,{data:_.value,style:{width:"100%"}},{default:a(()=>[e(m,{prop:"id",label:"ID",width:"80"}),e(m,{prop:"name",label:"试卷名称"}),e(m,{prop:"type",label:"试卷类型",width:"120"},{default:a(t=>[e(z,{type:ne(t.row.type)},{default:a(()=>[r(E(ue(t.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"totalScore",label:"总分",width:"80"}),e(m,{prop:"duration",label:"考试时长(分钟)",width:"120"}),e(m,{prop:"questionCount",label:"题目数量",width:"100"}),e(m,{prop:"createTime",label:"创建时间",width:"120"}),e(m,{prop:"status",label:"状态",width:"100"},{default:a(t=>[e(z,{type:se(t.row.status)},{default:a(()=>[r(E(ie(t.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(m,{label:"操作",width:"250",fixed:"right"},{default:a(t=>[e(p,{size:"small",onClick:h=>ge(t.row)},{default:a(()=>l[36]||(l[36]=[r("编辑")])),_:2,__:[36]},1032,["onClick"]),e(p,{size:"small",type:"success",onClick:h=>ye(t.row)},{default:a(()=>l[37]||(l[37]=[r("查看")])),_:2,__:[37]},1032,["onClick"]),e(p,{size:"small",type:"warning",onClick:h=>ve(t.row)},{default:a(()=>l[38]||(l[38]=[r("管理题目")])),_:2,__:[38]},1032,["onClick"]),e(p,{size:"small",type:"danger",onClick:h=>_e(t.row)},{default:a(()=>l[39]||(l[39]=[r("删除")])),_:2,__:[39]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Y,M.value]]),b("div",Le,[e(K,{"current-page":T.value,"onUpdate:currentPage":l[3]||(l[3]=t=>T.value=t),"page-size":Q.value,"onUpdate:pageSize":l[4]||(l[4]=t=>Q.value=t),"page-sizes":[10,20,50,100],total:R.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Ue,onCurrentChange:qe},null,8,["current-page","page-size","total"])])])]),_:1}),e(X,{label:"试题管理",name:"question"},{default:a(()=>[b("div",Pe,[b("div",Ne,[e(q,{inline:!0,model:v,class:"search-form"},{default:a(()=>[e(s,{label:"题目内容"},{default:a(()=>[e(i,{modelValue:v.content,"onUpdate:modelValue":l[5]||(l[5]=t=>v.content=t),placeholder:"请输入题目内容",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{label:"题目类型"},{default:a(()=>[e(w,{modelValue:v.type,"onUpdate:modelValue":l[6]||(l[6]=t=>v.type=t),placeholder:"请选择题目类型",clearable:"",style:{width:"180px"}},{default:a(()=>[e(u,{label:"单选题",value:"single"}),e(u,{label:"多选题",value:"multiple"}),e(u,{label:"判断题",value:"judge"}),e(u,{label:"填空题",value:"fill"}),e(u,{label:"简答题",value:"short"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"难度"},{default:a(()=>[e(w,{modelValue:v.difficulty,"onUpdate:modelValue":l[7]||(l[7]=t=>v.difficulty=t),placeholder:"请选择难度",clearable:"",style:{width:"180px"}},{default:a(()=>[e(u,{label:"简单",value:"easy"}),e(u,{label:"中等",value:"medium"}),e(u,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),_:1}),e(s,null,{default:a(()=>[e(p,{type:"primary",onClick:G},{default:a(()=>l[40]||(l[40]=[r("搜索")])),_:1,__:[40]}),e(p,{onClick:ce},{default:a(()=>l[41]||(l[41]=[r("重置")])),_:1,__:[41]})]),_:1})]),_:1},8,["model"])]),b("div",Je,[e(p,{type:"primary",onClick:Ve},{default:a(()=>l[42]||(l[42]=[r("新增试题")])),_:1,__:[42]})]),le((j(),te(H,{data:V.value,style:{width:"100%"}},{default:a(()=>[e(m,{prop:"id",label:"ID",width:"80"}),e(m,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),e(m,{prop:"type",label:"题目类型",width:"100"},{default:a(t=>[e(z,{type:de(t.row.type)},{default:a(()=>[r(E(re(t.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"difficulty",label:"难度",width:"80"},{default:a(t=>[e(z,{type:pe(t.row.difficulty)},{default:a(()=>[r(E(me(t.row.difficulty)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"score",label:"分值",width:"80"}),e(m,{prop:"subject",label:"科目",width:"100"}),e(m,{prop:"createTime",label:"创建时间",width:"120"}),e(m,{label:"操作",width:"200",fixed:"right"},{default:a(t=>[e(p,{size:"small",onClick:h=>we(t.row)},{default:a(()=>l[43]||(l[43]=[r("编辑")])),_:2,__:[43]},1032,["onClick"]),e(p,{size:"small",type:"success",onClick:h=>xe(t.row)},{default:a(()=>l[44]||(l[44]=[r("查看")])),_:2,__:[44]},1032,["onClick"]),e(p,{size:"small",type:"danger",onClick:h=>Ce(t.row)},{default:a(()=>l[45]||(l[45]=[r("删除")])),_:2,__:[45]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Y,I.value]]),b("div",Ge,[e(K,{"current-page":k.value,"onUpdate:currentPage":l[8]||(l[8]=t=>k.value=t),"page-size":A.value,"onUpdate:pageSize":l[9]||(l[9]=t=>A.value=t),"page-sizes":[10,20,50,100],total:P.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ze,onCurrentChange:De},null,8,["current-page","page-size","total"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(W,{modelValue:x.value,"onUpdate:modelValue":l[18]||(l[18]=t=>x.value=t),title:B.value,width:"700px"},{footer:a(()=>[b("span",He,[e(p,{onClick:l[17]||(l[17]=t=>x.value=!1)},{default:a(()=>l[46]||(l[46]=[r("取消")])),_:1,__:[46]}),e(p,{type:"primary",onClick:he},{default:a(()=>l[47]||(l[47]=[r("确定")])),_:1,__:[47]})])]),default:a(()=>[e(q,{model:d,rules:ae,ref_key:"examFormRef",ref:L,"label-width":"100px"},{default:a(()=>[e(s,{label:"试卷名称",prop:"name"},{default:a(()=>[e(i,{modelValue:d.name,"onUpdate:modelValue":l[11]||(l[11]=t=>d.name=t),placeholder:"请输入试卷名称"},null,8,["modelValue"])]),_:1}),e(s,{label:"试卷类型",prop:"type"},{default:a(()=>[e(w,{modelValue:d.type,"onUpdate:modelValue":l[12]||(l[12]=t=>d.type=t),placeholder:"请选择试卷类型",style:{width:"100%"}},{default:a(()=>[e(u,{label:"期中考试",value:"midterm"}),e(u,{label:"期末考试",value:"final"}),e(u,{label:"模拟考试",value:"mock"}),e(u,{label:"单元测试",value:"unit"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"总分",prop:"totalScore"},{default:a(()=>[e(F,{modelValue:d.totalScore,"onUpdate:modelValue":l[13]||(l[13]=t=>d.totalScore=t),min:0,max:200,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(s,{label:"考试时长(分钟)",prop:"duration"},{default:a(()=>[e(F,{modelValue:d.duration,"onUpdate:modelValue":l[14]||(l[14]=t=>d.duration=t),min:30,max:300,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(s,{label:"状态",prop:"status"},{default:a(()=>[e(w,{modelValue:d.status,"onUpdate:modelValue":l[15]||(l[15]=t=>d.status=t),placeholder:"请选择状态",style:{width:"100%"}},{default:a(()=>[e(u,{label:"草稿",value:"draft"}),e(u,{label:"已发布",value:"published"}),e(u,{label:"已结束",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"试卷说明",prop:"description"},{default:a(()=>[e(i,{modelValue:d.description,"onUpdate:modelValue":l[16]||(l[16]=t=>d.description=t),type:"textarea",rows:3,placeholder:"请输入试卷说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(W,{modelValue:C.value,"onUpdate:modelValue":l[31]||(l[31]=t=>C.value=t),title:$.value,width:"800px"},{footer:a(()=>[b("span",Ke,[e(p,{onClick:l[30]||(l[30]=t=>C.value=!1)},{default:a(()=>l[48]||(l[48]=[r("取消")])),_:1,__:[48]}),e(p,{type:"primary",onClick:Te},{default:a(()=>l[49]||(l[49]=[r("确定")])),_:1,__:[49]})])]),default:a(()=>[e(q,{model:n,rules:oe,ref_key:"questionFormRef",ref:N,"label-width":"100px"},{default:a(()=>[e(s,{label:"题目内容",prop:"content"},{default:a(()=>[e(i,{modelValue:n.content,"onUpdate:modelValue":l[19]||(l[19]=t=>n.content=t),type:"textarea",rows:4,placeholder:"请输入题目内容"},null,8,["modelValue"])]),_:1}),e(s,{label:"题目类型",prop:"type"},{default:a(()=>[e(w,{modelValue:n.type,"onUpdate:modelValue":l[20]||(l[20]=t=>n.type=t),placeholder:"请选择题目类型",style:{width:"100%"}},{default:a(()=>[e(u,{label:"单选题",value:"single"}),e(u,{label:"多选题",value:"multiple"}),e(u,{label:"判断题",value:"judge"}),e(u,{label:"填空题",value:"fill"}),e(u,{label:"简答题",value:"short"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"难度",prop:"difficulty"},{default:a(()=>[e(w,{modelValue:n.difficulty,"onUpdate:modelValue":l[21]||(l[21]=t=>n.difficulty=t),placeholder:"请选择难度",style:{width:"100%"}},{default:a(()=>[e(u,{label:"简单",value:"easy"}),e(u,{label:"中等",value:"medium"}),e(u,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"分值",prop:"score"},{default:a(()=>[e(F,{modelValue:n.score,"onUpdate:modelValue":l[22]||(l[22]=t=>n.score=t),min:1,max:50,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(s,{label:"科目",prop:"subject"},{default:a(()=>[e(i,{modelValue:n.subject,"onUpdate:modelValue":l[23]||(l[23]=t=>n.subject=t),placeholder:"请输入科目"},null,8,["modelValue"])]),_:1}),n.type==="single"||n.type==="multiple"?(j(),ee(Qe,{key:0},[e(s,{label:"选项A",prop:"optionA"},{default:a(()=>[e(i,{modelValue:n.optionA,"onUpdate:modelValue":l[24]||(l[24]=t=>n.optionA=t),placeholder:"请输入选项A"},null,8,["modelValue"])]),_:1}),e(s,{label:"选项B",prop:"optionB"},{default:a(()=>[e(i,{modelValue:n.optionB,"onUpdate:modelValue":l[25]||(l[25]=t=>n.optionB=t),placeholder:"请输入选项B"},null,8,["modelValue"])]),_:1}),e(s,{label:"选项C",prop:"optionC"},{default:a(()=>[e(i,{modelValue:n.optionC,"onUpdate:modelValue":l[26]||(l[26]=t=>n.optionC=t),placeholder:"请输入选项C"},null,8,["modelValue"])]),_:1}),e(s,{label:"选项D",prop:"optionD"},{default:a(()=>[e(i,{modelValue:n.optionD,"onUpdate:modelValue":l[27]||(l[27]=t=>n.optionD=t),placeholder:"请输入选项D"},null,8,["modelValue"])]),_:1})],64)):Ie("",!0),e(s,{label:"正确答案",prop:"answer"},{default:a(()=>[e(i,{modelValue:n.answer,"onUpdate:modelValue":l[28]||(l[28]=t=>n.answer=t),placeholder:"请输入正确答案"},null,8,["modelValue"])]),_:1}),e(s,{label:"解析",prop:"analysis"},{default:a(()=>[e(i,{modelValue:n.analysis,"onUpdate:modelValue":l[29]||(l[29]=t=>n.analysis=t),type:"textarea",rows:3,placeholder:"请输入题目解析"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ll=Me(Xe,[["__scopeId","data-v-e0c16c50"]]);export{ll as default};
