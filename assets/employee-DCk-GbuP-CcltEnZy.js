import{A as R,V as b,o as q,B as c,b as i,M as x,k as n,c as l,W as a,e as d,a as r,i as p,f as A,z as J,J as f,Y as T}from"./index-Cu5WJHTx.js";const Y={class:"employee-list-container"},I={class:"header"},P=["onClick"],U={key:0,class:"employee-detail"},D={class:"card-header"},F={class:"detail-item"},G={class:"detail-item"},H={class:"detail-item"},K={class:"detail-item"},L={class:"detail-item"},M={class:"detail-item"},O={class:"card-header"},Q={class:"header-actions"},S={__name:"employee",setup(E){const $=[{uid:"emp001",realname:"张三",email:"zhangsan@company.com",telephone:"13800138001",department:{name:"技术部"},status:1,date_joined:"2023-01-15"},{uid:"emp002",realname:"李四",email:"lisi@company.com",telephone:"13800138002",department:{name:"人事部"},status:1,date_joined:"2023-02-20"},{uid:"emp003",realname:"王五",email:"wangwu@company.com",telephone:"13800138003",department:{name:"财务部"},status:2,date_joined:"2023-03-10"},{uid:"emp004",realname:"赵六",email:"zhaoliu@company.com",telephone:"13800138004",department:{name:"市场部"},status:1,date_joined:"2023-04-05"},{uid:"emp005",realname:"钱七",email:"qianqi@company.com",telephone:"13800138005",department:{name:"技术部"},status:3,date_joined:"2023-05-12"},{uid:"emp006",realname:"孙八",email:"sunba@company.com",telephone:"13800138006",department:{name:"人事部"},status:1,date_joined:"2023-06-18"},{uid:"emp007",realname:"周九",email:"zhoujiu@company.com",telephone:"13800138007",department:{name:"财务部"},status:1,date_joined:"2023-07-22"},{uid:"emp008",realname:"吴十",email:"wushi@company.com",telephone:"13800138008",department:{name:"市场部"},status:2,date_joined:"2023-08-30"}],w=b([]),h=b(!1),m=b(null),B=s=>{m.value=s,h.value=!0},g=async()=>{try{await new Promise(s=>setTimeout(s,500)),w.value=$,f.success("员工列表加载成功")}catch{f.error("获取员工列表失败")}},C=s=>{f.info(`编辑员工: ${s.realname}`)},W=async s=>{try{await T.confirm(`确定要删除员工 ${s.realname} 吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),w.value=w.value.filter(e=>e.uid!==s.uid),f.success("删除成功")}catch{f.info("已取消删除")}};return q(g),(s,e)=>{const _=c("el-button"),o=c("el-table-column"),u=c("el-tag"),z=c("el-table"),v=c("el-card"),y=c("el-col"),j=c("el-row"),V=c("el-dialog");return i(),x(J,null,[n("div",Y,[l(v,null,{default:a(()=>[n("div",I,[e[3]||(e[3]=n("span",null,"员工列表",-1)),l(_,{type:"primary",onClick:g,size:"small",style:{float:"right"}},{default:a(()=>e[2]||(e[2]=[d("刷新")])),_:1,__:[2]})]),l(z,{data:w.value,style:{width:"100%","margin-top":"20px"},fit:"true"},{default:a(()=>[l(o,{prop:"realname",label:"姓名","min-width":"120"},{default:a(t=>[n("span",{class:"clickable-name",onClick:k=>B(t.row)},r(t.row.realname),9,P)]),_:1}),l(o,{prop:"email",label:"邮箱","min-width":"200"}),l(o,{prop:"department.name",label:"部门","min-width":"120"}),l(o,{prop:"status",label:"状态","min-width":"100"},{default:a(t=>[t.row.status===1?(i(),p(u,{key:0,type:"success"},{default:a(()=>e[4]||(e[4]=[d("已激活")])),_:1,__:[4]})):t.row.status===2?(i(),p(u,{key:1,type:"info"},{default:a(()=>e[5]||(e[5]=[d("未激活")])),_:1,__:[5]})):(i(),p(u,{key:2,type:"danger"},{default:a(()=>e[6]||(e[6]=[d("锁定")])),_:1,__:[6]}))]),_:1}),l(o,{prop:"date_joined",label:"入职时间","min-width":"120"}),l(o,{label:"操作","min-width":"200"},{default:a(t=>[l(_,{size:"small",type:"primary",onClick:k=>C(t.row)},{default:a(()=>e[7]||(e[7]=[d("编辑")])),_:2,__:[7]},1032,["onClick"]),l(_,{size:"small",type:"danger",onClick:k=>W(t.row)},{default:a(()=>e[8]||(e[8]=[d("删除")])),_:2,__:[8]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),l(V,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=t=>h.value=t),title:"员工详情",width:"900px","before-close":s.handleClose},{default:a(()=>[m.value?(i(),x("div",U,[l(v,{class:"info-card",shadow:"never"},{header:a(()=>[n("div",D,[e[10]||(e[10]=n("span",null,"基本信息",-1)),l(_,{type:"primary",size:"small",onClick:e[0]||(e[0]=t=>C(m.value))},{default:a(()=>e[9]||(e[9]=[d("编辑信息")])),_:1,__:[9]})])]),default:a(()=>[l(j,{gutter:20},{default:a(()=>[l(y,{span:8},{default:a(()=>[n("div",F,[e[11]||(e[11]=n("label",null,"姓名：",-1)),n("span",null,r(m.value.realname),1)])]),_:1}),l(y,{span:8},{default:a(()=>[n("div",G,[e[12]||(e[12]=n("label",null,"邮箱：",-1)),n("span",null,r(m.value.email),1)])]),_:1}),l(y,{span:8},{default:a(()=>[n("div",H,[e[13]||(e[13]=n("label",null,"电话：",-1)),n("span",null,r(m.value.telephone),1)])]),_:1})]),_:1}),l(j,{gutter:20},{default:a(()=>[l(y,{span:8},{default:a(()=>{var t;return[n("div",K,[e[14]||(e[14]=n("label",null,"部门：",-1)),n("span",null,r((t=m.value.department)==null?void 0:t.name),1)])]}),_:1}),l(y,{span:8},{default:a(()=>[n("div",L,[e[18]||(e[18]=n("label",null,"状态：",-1)),m.value.status===1?(i(),p(u,{key:0,type:"success"},{default:a(()=>e[15]||(e[15]=[d("已激活")])),_:1,__:[15]})):m.value.status===2?(i(),p(u,{key:1,type:"info"},{default:a(()=>e[16]||(e[16]=[d("未激活")])),_:1,__:[16]})):(i(),p(u,{key:2,type:"danger"},{default:a(()=>e[17]||(e[17]=[d("锁定")])),_:1,__:[17]}))])]),_:1}),l(y,{span:8},{default:a(()=>[n("div",M,[e[19]||(e[19]=n("label",null,"入职时间：",-1)),n("span",null,r(m.value.date_joined),1)])]),_:1})]),_:1})]),_:1}),l(v,{class:"work-record-card",shadow:"never"},{header:a(()=>[n("div",O,[e[22]||(e[22]=n("span",null,"工作记录",-1)),n("div",Q,[l(_,{type:"success",size:"small",onClick:s.addWorkRecord},{default:a(()=>e[20]||(e[20]=[d("添加记录")])),_:1,__:[20]},8,["onClick"]),l(_,{type:"primary",size:"small",onClick:s.refreshWorkRecords},{default:a(()=>e[21]||(e[21]=[d("刷新")])),_:1,__:[21]},8,["onClick"])])])]),default:a(()=>[l(z,{data:s.workRecords,style:{width:"100%"},stripe:""},{default:a(()=>[l(o,{prop:"date",label:"日期",width:"120"}),l(o,{prop:"type",label:"类型",width:"100"},{default:a(t=>[t.row.type==="请假"?(i(),p(u,{key:0,type:"warning"},{default:a(()=>[d(r(t.row.type),1)]),_:2},1024)):t.row.type==="加班"?(i(),p(u,{key:1,type:"danger"},{default:a(()=>[d(r(t.row.type),1)]),_:2},1024)):(i(),p(u,{key:2,type:"success"},{default:a(()=>[d(r(t.row.type),1)]),_:2},1024))]),_:1}),l(o,{prop:"title",label:"标题","min-width":"150"}),l(o,{prop:"description",label:"描述","min-width":"200"}),l(o,{prop:"status",label:"状态",width:"100"},{default:a(t=>[t.row.status==="已批准"?(i(),p(u,{key:0,type:"success"},{default:a(()=>[d(r(t.row.status),1)]),_:2},1024)):t.row.status==="待审批"?(i(),p(u,{key:1,type:"warning"},{default:a(()=>[d(r(t.row.status),1)]),_:2},1024)):(i(),p(u,{key:2,type:"danger"},{default:a(()=>[d(r(t.row.status),1)]),_:2},1024))]),_:1}),l(o,{prop:"approver",label:"审批人",width:"100"}),l(o,{label:"操作",width:"120",fixed:"right"},{default:a(t=>[l(_,{size:"small",type:"primary",onClick:k=>s.viewRecordDetail(t.row)},{default:a(()=>e[23]||(e[23]=[d("查看")])),_:2,__:[23]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])):A("",!0)]),_:1},8,["modelValue","before-close"])],64)}}},X=R(S,[["__scopeId","data-v-0e3be16b"]]);export{X as default};
