import{r as f,X as L,k as Ge,z as j,P as l,H as t,ag as _,y as D,A as s,L as m,O as re,a4 as pe,V as z,M as r,C as ce,u as Ke,I as Ze,G as me,K as el,aq as ll}from"./chunk-CnY5n9_A.js";import{T as tl,z as V,A as Q}from"./chunk-BtzBX2c4.js";import{_ as al}from"./chunk-DlAUqK2U.js";const sl={class:"enterprise-container"},ol={class:"card-header"},nl={class:"search-area"},il={class:"enterprise-list"},dl=["onClick"],ul={class:"enterprise-header"},rl={class:"enterprise-name"},pl=["onClick"],cl={class:"enterprise-actions"},ml={class:"enterprise-info"},vl={class:"info-row"},fl={class:"info-item"},gl={class:"value"},_l={class:"info-item"},bl={class:"value"},yl={class:"info-row"},Vl={class:"info-item"},Cl={class:"value"},hl={class:"info-item"},wl={class:"value"},xl={class:"info-row"},Tl={class:"info-item"},Ul={class:"value"},kl={class:"info-item"},Rl={class:"value"},Dl={class:"info-row"},Fl={class:"info-item full-width"},$l={class:"value"},Ml={class:"info-row"},zl={class:"info-item"},Sl={class:"value"},jl={class:"info-item"},Nl={class:"value"},ql={class:"enterprise-footer"},El={class:"footer-item"},Il={class:"value"},Al={class:"pagination-container"},Bl={class:"enterprise-detail"},Ll={class:"detail-section"},Ol={class:"detail-item"},Pl={class:"value"},Xl={class:"detail-item"},Hl={class:"value"},Yl={class:"detail-item"},Jl={class:"value"},Ql={class:"detail-item"},Wl={class:"value"},Gl={class:"detail-item"},Kl={class:"value"},Zl={class:"detail-item"},et={class:"value"},lt={class:"detail-item"},tt={class:"value"},at={class:"detail-item"},st={class:"detail-item"},ot={class:"value"},nt={class:"detail-item"},it={class:"value"},dt={class:"detail-section"},ut={class:"detail-item"},rt={class:"value"},pt={class:"detail-item"},ct={class:"value"},mt={class:"detail-section"},vt={class:"section-header"},ft={class:"contact-list"},gt=["onClick"],_t={class:"contact-header"},bt={class:"contact-info"},yt={class:"contact-name"},Vt={class:"contact-position"},Ct={class:"contact-actions"},ht={class:"contact-details"},wt={class:"contact-phone"},xt={class:"contact-email"},Tt={class:"call-records-section"},Ut={class:"section-header"},kt={class:"sub-section-title"},Rt={class:"dialog-footer"},Dt={class:"dialog-footer"},Ft={class:"dialog-footer"},$t={__name:"enterprise",setup(Mt){const W=f(!1),F=f(!1),O=f("新增企业"),N=f(1),P=f(10),G=f(0),K=f(),X=f(!1),y=f({}),$=f(!1),H=f("新增联系人"),Z=f(!1),ee=f(),w=f([]),R=f(null),M=f(!1),Y=f("新增通话记录"),S=f(!1),le=f(),h=f([]),b=L({name:"",creditCode:"",type:"",industry:"",capitalRange:"",status:""}),T=f([{id:1,name:"北京科技有限公司",creditCode:"91110000123456789X",type:"limited",industry:"it",registeredCapital:1e3,establishDate:"2020-01-15",legalRepresentative:"张三",status:"active",address:"北京市海淀区中关村大街1号",phone:"010-12345678",email:"contact@techcompany.com",businessScope:"软件开发、技术服务、技术咨询、技术转让；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"},{id:2,name:"上海制造有限公司",creditCode:"91310000123456789Y",type:"limited",industry:"manufacturing",registeredCapital:5e3,establishDate:"2018-06-20",legalRepresentative:"李四",status:"active",address:"上海市浦东新区张江高科技园区",phone:"021-87654321",email:"info@manufacturing.com",businessScope:"机械设备制造、销售；电子产品制造、销售；货物进出口、技术进出口；机械设备租赁；技术开发、技术咨询、技术服务。"},{id:3,name:"深圳金融服务有限公司",creditCode:"91440300123456789Z",type:"joint",industry:"finance",registeredCapital:1e4,establishDate:"2019-03-10",legalRepresentative:"王五",status:"active",address:"深圳市福田区金融中心",phone:"0755-12345678",email:"service@finance.com",businessScope:"金融信息服务；投资咨询；企业管理咨询；财务咨询；税务咨询；法律咨询；商务信息咨询；市场调研；企业形象策划；市场营销策划；会展服务；翻译服务；计算机软件开发；网络技术开发；技术服务。"},{id:4,name:"广州教育科技有限公司",creditCode:"91440100123456789A",type:"limited",industry:"education",registeredCapital:500,establishDate:"2021-09-01",legalRepresentative:"赵六",status:"active",address:"广州市天河区珠江新城",phone:"020-87654321",email:"contact@education.com",businessScope:"教育软件开发；教育信息咨询；教育技术开发、技术咨询、技术服务；计算机软件开发；网络技术开发；技术服务；技术转让；技术推广；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"},{id:5,name:"杭州医疗健康有限公司",creditCode:"91330100123456789B",type:"limited",industry:"healthcare",registeredCapital:2e3,establishDate:"2020-12-15",legalRepresentative:"钱七",status:"active",address:"杭州市西湖区文三路",phone:"0571-12345678",email:"info@healthcare.com",businessScope:"医疗技术开发、技术咨询、技术服务；医疗器械销售；健康管理咨询；营养健康咨询服务；心理咨询；康复理疗；保健服务；医疗信息咨询；医疗设备租赁；医疗软件开发；网络技术开发；技术服务；技术转让；技术推广；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"}]),d=L({id:null,name:"",creditCode:"",type:"",industry:"",registeredCapital:0,establishDate:"",legalRepresentative:"",status:"active",address:"",phone:"",email:"",businessScope:""}),c=L({id:null,name:"",position:"",phone:"",email:"",department:"",lastContactDate:"",notes:""}),v=L({id:null,callTime:"",duration:0,callType:"",result:"",nextFollowUp:"",notes:""}),ve={name:[{required:!0,message:"请输入企业名称",trigger:"blur"}],creditCode:[{required:!0,message:"请输入统一社会信用代码",trigger:"blur"},{pattern:/^[0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}$/,message:"请输入正确的统一社会信用代码",trigger:"blur"}],type:[{required:!0,message:"请选择企业类型",trigger:"change"}],industry:[{required:!0,message:"请选择行业",trigger:"change"}],registeredCapital:[{required:!0,message:"请输入注册资本",trigger:"blur"}],establishDate:[{required:!0,message:"请选择成立日期",trigger:"change"}],legalRepresentative:[{required:!0,message:"请输入法定代表人",trigger:"blur"}],status:[{required:!0,message:"请选择经营状态",trigger:"change"}],address:[{required:!0,message:"请输入注册地址",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$|^0\d{2,3}-?\d{7,8}$/,message:"请输入正确的联系电话",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},fe={name:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],position:[{required:!0,message:"请输入职位",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$|^0\d{2,3}-?\d{7,8}$/,message:"请输入正确的联系电话",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},ge={callTime:[{required:!0,message:"请选择通话时间",trigger:"change"}],duration:[{required:!0,message:"请输入通话时长",trigger:"blur"}],callType:[{required:!0,message:"请选择通话类型",trigger:"change"}],result:[{required:!0,message:"请选择通话结果",trigger:"change"}],notes:[{required:!0,message:"请输入通话记录",trigger:"blur"}]},te=o=>({active:"success",existing:"primary",revoked:"warning",cancelled:"danger",moved:"info"})[o]||"info",ae=o=>({active:"在业",existing:"存续",revoked:"吊销",cancelled:"注销",moved:"迁出"})[o]||"未知",se=o=>({limited:"有限责任公司",joint:"股份有限公司",individual:"个人独资企业",partnership:"合伙企业",state:"国有企业",foreign:"外资企业"})[o]||"未知",oe=o=>({manufacturing:"制造业",it:"信息技术",finance:"金融业",realestate:"房地产业",education:"教育",healthcare:"医疗健康",retail:"零售业",other:"其他"})[o]||"未知",ne=o=>o>=1e4?`${(o/1e4).toFixed(2)}亿元`:`${o.toFixed(2)}万元`,_e=o=>({incoming:"success",outgoing:"primary",missed:"warning",rejected:"danger"})[o]||"info",be=o=>({incoming:"呼入",outgoing:"呼出",missed:"未接",rejected:"拒接"})[o]||"未知",ye=o=>({success:"success",failed:"danger",pending:"warning",closed:"primary",no_interest:"info"})[o]||"info",Ve=o=>({success:"成功",failed:"失败",pending:"待跟进",closed:"已成交",no_interest:"无兴趣"})[o]||"未知",ie=()=>{N.value=1,q()},Ce=()=>{Object.keys(b).forEach(o=>{b[o]=""}),ie()},he=()=>{O.value="新增企业",Re(),F.value=!0},we=o=>{O.value="编辑企业",Object.assign(d,o),F.value=!0},xe=o=>{y.value={...o},X.value=!0,De(o.id)},Te=o=>{V.info(`查看企业：${o.name}`)},Ue=o=>{Q.confirm(`确定要删除企业"${o.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=T.value.findIndex(i=>i.id===o.id);e>-1&&(T.value.splice(e,1),V.success("删除成功"))}).catch(()=>{V.info("已取消删除")})},ke=()=>{K.value.validate(o=>{if(o){if(d.id){const e=T.value.findIndex(i=>i.id===d.id);e>-1&&Object.assign(T.value[e],{...d}),V.success("编辑成功")}else{const e=Math.max(...T.value.map(i=>i.id))+1;T.value.push({...d,id:e}),V.success("新增成功")}F.value=!1}})},Re=()=>{Object.keys(d).forEach(o=>{d[o]=o==="registeredCapital"?0:o==="status"?"active":""}),d.id=null},De=o=>{Z.value=!0,setTimeout(()=>{w.value=[{id:1,name:"张经理",position:"销售经理",phone:"13800138001",email:"zhang@company.com",department:"销售部",lastContactDate:"2024-03-15",notes:"主要联系人，负责产品采购"},{id:2,name:"李总监",position:"技术总监",phone:"13800138002",email:"li@company.com",department:"技术部",lastContactDate:"2024-03-10",notes:"技术对接负责人"}],Z.value=!1,de()},500)},Fe=o=>{R.value=o,Me(o.id)},$e=()=>{R.value=null,de()},de=()=>{S.value=!0,setTimeout(()=>{h.value=[{id:1,contactName:"张经理",callTime:"2024-03-15 14:30:00",duration:15,callType:"outgoing",result:"success",nextFollowUp:"2024-03-20 10:00:00",notes:"客户对我们的产品很感兴趣，需要进一步了解技术细节。约定下周再次通话讨论具体合作方案。"},{id:2,contactName:"张经理",callTime:"2024-03-10 09:15:00",duration:8,callType:"incoming",result:"pending",nextFollowUp:"2024-03-15 14:00:00",notes:"客户来电咨询产品价格，已发送报价单，需要跟进确认。"},{id:3,contactName:"张经理",callTime:"2024-03-05 16:45:00",duration:0,callType:"missed",result:"failed",nextFollowUp:"2024-03-08 10:00:00",notes:"客户未接电话，需要重新安排时间联系。"},{id:4,contactName:"李总监",callTime:"2024-03-12 11:20:00",duration:25,callType:"outgoing",result:"success",nextFollowUp:"2024-03-18 15:00:00",notes:"技术对接会议，讨论了产品技术架构和集成方案。客户对技术方案满意，准备进入商务谈判阶段。"},{id:5,contactName:"李总监",callTime:"2024-03-08 16:30:00",duration:12,callType:"incoming",result:"pending",nextFollowUp:"2024-03-12 11:00:00",notes:"客户咨询技术文档和API接口，已发送相关资料，约定下周进行技术对接。"}],S.value=!1},300)},Me=o=>{S.value=!0,setTimeout(()=>{const e=[{id:1,contactName:"张经理",callTime:"2024-03-15 14:30:00",duration:15,callType:"outgoing",result:"success",nextFollowUp:"2024-03-20 10:00:00",notes:"客户对我们的产品很感兴趣，需要进一步了解技术细节。约定下周再次通话讨论具体合作方案。"},{id:2,contactName:"张经理",callTime:"2024-03-10 09:15:00",duration:8,callType:"incoming",result:"pending",nextFollowUp:"2024-03-15 14:00:00",notes:"客户来电咨询产品价格，已发送报价单，需要跟进确认。"},{id:3,contactName:"张经理",callTime:"2024-03-05 16:45:00",duration:0,callType:"missed",result:"failed",nextFollowUp:"2024-03-08 10:00:00",notes:"客户未接电话，需要重新安排时间联系。"},{id:4,contactName:"李总监",callTime:"2024-03-12 11:20:00",duration:25,callType:"outgoing",result:"success",nextFollowUp:"2024-03-18 15:00:00",notes:"技术对接会议，讨论了产品技术架构和集成方案。客户对技术方案满意，准备进入商务谈判阶段。"},{id:5,contactName:"李总监",callTime:"2024-03-08 16:30:00",duration:12,callType:"incoming",result:"pending",nextFollowUp:"2024-03-12 11:00:00",notes:"客户咨询技术文档和API接口，已发送相关资料，约定下周进行技术对接。"}],i=w.value.find(g=>g.id===o);i?h.value=e.filter(g=>g.contactName===i.name):h.value=[],S.value=!1},300)},ze=o=>{V.success(`正在拨打 ${o.name} 的电话：${o.phone}`)},Se=()=>{H.value="新增联系人",Ee(),$.value=!0},je=o=>{H.value="编辑联系人",Object.assign(c,o),$.value=!0},Ne=o=>{Q.confirm(`确定要删除联系人"${o.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=w.value.findIndex(i=>i.id===o.id);e>-1&&(w.value.splice(e,1),V.success("删除成功"))}).catch(()=>{V.info("已取消删除")})},qe=()=>{ee.value.validate(o=>{if(o){if(c.id){const e=w.value.findIndex(i=>i.id===c.id);e>-1&&Object.assign(w.value[e],{...c}),V.success("编辑成功")}else{const e=Math.max(...w.value.map(i=>i.id))+1;w.value.push({...c,id:e}),V.success("新增成功")}$.value=!1}})},Ee=()=>{Object.keys(c).forEach(o=>{c[o]=""}),c.id=null},Ie=()=>{Y.value="新增通话记录",Oe(),M.value=!0},Ae=o=>{Y.value="编辑通话记录",Object.assign(v,o),M.value=!0},Be=o=>{Q.confirm("确定要删除这条通话记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=h.value.findIndex(i=>i.id===o.id);e>-1&&(h.value.splice(e,1),V.success("删除成功"))}).catch(()=>{V.info("已取消删除")})},Le=()=>{le.value.validate(o=>{if(o){if(v.id){const e=h.value.findIndex(i=>i.id===v.id);e>-1&&Object.assign(h.value[e],{...v}),V.success("编辑成功")}else{const e=Math.max(...h.value.map(i=>i.id))+1;h.value.push({...v,id:e}),V.success("新增成功")}M.value=!1}})},Oe=()=>{Object.keys(v).forEach(o=>{v[o]=o==="duration"?0:""}),v.id=null},Pe=o=>{P.value=o,q()},Xe=o=>{N.value=o,q()},q=()=>{W.value=!0,setTimeout(()=>{W.value=!1,G.value=T.value.length},500)};return Ge(()=>{q()}),(o,e)=>{const i=_("el-button"),g=_("el-input"),u=_("el-form-item"),n=_("el-option"),x=_("el-select"),E=_("el-form"),I=_("el-tag"),He=_("el-pagination"),Ye=_("el-card"),p=_("el-col"),C=_("el-row"),Je=_("el-icon"),U=_("el-table-column"),Qe=_("el-table"),A=_("el-dialog"),ue=_("el-input-number"),B=_("el-date-picker"),We=ll("loading");return D(),j("div",sl,[l(Ye,{class:"box-card"},{header:t(()=>[s("div",ol,[e[41]||(e[41]=s("span",null,"企业管理",-1)),l(i,{type:"primary",onClick:he},{default:t(()=>e[40]||(e[40]=[m("新增企业")])),_:1,__:[40]})])]),default:t(()=>[s("div",nl,[l(E,{inline:!0,model:b,class:"search-form"},{default:t(()=>[l(u,{label:"企业名称"},{default:t(()=>[l(g,{modelValue:b.name,"onUpdate:modelValue":e[0]||(e[0]=a=>b.name=a),placeholder:"请输入企业名称",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"统一社会信用代码"},{default:t(()=>[l(g,{modelValue:b.creditCode,"onUpdate:modelValue":e[1]||(e[1]=a=>b.creditCode=a),placeholder:"请输入统一社会信用代码",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"企业类型"},{default:t(()=>[l(x,{modelValue:b.type,"onUpdate:modelValue":e[2]||(e[2]=a=>b.type=a),placeholder:"请选择企业类型",clearable:"",style:{width:"180px"}},{default:t(()=>[l(n,{label:"有限责任公司",value:"limited"}),l(n,{label:"股份有限公司",value:"joint"}),l(n,{label:"个人独资企业",value:"individual"}),l(n,{label:"合伙企业",value:"partnership"}),l(n,{label:"国有企业",value:"state"}),l(n,{label:"外资企业",value:"foreign"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"行业"},{default:t(()=>[l(x,{modelValue:b.industry,"onUpdate:modelValue":e[3]||(e[3]=a=>b.industry=a),placeholder:"请选择行业",clearable:"",style:{width:"180px"}},{default:t(()=>[l(n,{label:"制造业",value:"manufacturing"}),l(n,{label:"信息技术",value:"it"}),l(n,{label:"金融业",value:"finance"}),l(n,{label:"房地产业",value:"realestate"}),l(n,{label:"教育",value:"education"}),l(n,{label:"医疗健康",value:"healthcare"}),l(n,{label:"零售业",value:"retail"}),l(n,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"注册资本"},{default:t(()=>[l(x,{modelValue:b.capitalRange,"onUpdate:modelValue":e[4]||(e[4]=a=>b.capitalRange=a),placeholder:"请选择注册资本",clearable:"",style:{width:"180px"}},{default:t(()=>[l(n,{label:"100万以下",value:"under100"}),l(n,{label:"100-500万",value:"100-500"}),l(n,{label:"500-1000万",value:"500-1000"}),l(n,{label:"1000-5000万",value:"1000-5000"}),l(n,{label:"5000万以上",value:"over5000"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"经营状态"},{default:t(()=>[l(x,{modelValue:b.status,"onUpdate:modelValue":e[5]||(e[5]=a=>b.status=a),placeholder:"请选择经营状态",clearable:"",style:{width:"180px"}},{default:t(()=>[l(n,{label:"在业",value:"active"}),l(n,{label:"存续",value:"existing"}),l(n,{label:"吊销",value:"revoked"}),l(n,{label:"注销",value:"cancelled"}),l(n,{label:"迁出",value:"moved"})]),_:1},8,["modelValue"])]),_:1}),l(u,null,{default:t(()=>[l(i,{type:"primary",onClick:ie},{default:t(()=>e[42]||(e[42]=[m("搜索")])),_:1,__:[42]}),l(i,{onClick:Ce},{default:t(()=>e[43]||(e[43]=[m("重置")])),_:1,__:[43]})]),_:1})]),_:1},8,["model"])]),s("div",il,[(D(!0),j(re,null,pe(T.value,a=>(D(),j("div",{key:a.id,class:"enterprise-item",onClick:k=>Te(a)},[s("div",ul,[s("div",rl,[s("span",{class:"name",onClick:z(k=>xe(a),["stop"])},r(a.name),9,pl),l(I,{type:te(a.status),size:"small"},{default:t(()=>[m(r(ae(a.status)),1)]),_:2},1032,["type"])]),s("div",cl,[l(i,{size:"small",onClick:z(k=>we(a),["stop"])},{default:t(()=>e[44]||(e[44]=[m("编辑")])),_:2,__:[44]},1032,["onClick"]),l(i,{size:"small",type:"danger",onClick:z(k=>Ue(a),["stop"])},{default:t(()=>e[45]||(e[45]=[m("删除")])),_:2,__:[45]},1032,["onClick"])])]),s("div",ml,[s("div",vl,[s("div",fl,[e[46]||(e[46]=s("span",{class:"label"},"统一社会信用代码：",-1)),s("span",gl,r(a.creditCode),1)]),s("div",_l,[e[47]||(e[47]=s("span",{class:"label"},"法定代表人：",-1)),s("span",bl,r(a.legalRepresentative),1)])]),s("div",yl,[s("div",Vl,[e[48]||(e[48]=s("span",{class:"label"},"企业类型：",-1)),s("span",Cl,r(se(a.type)),1)]),s("div",hl,[e[49]||(e[49]=s("span",{class:"label"},"注册资本：",-1)),s("span",wl,r(ne(a.registeredCapital)),1)])]),s("div",xl,[s("div",Tl,[e[50]||(e[50]=s("span",{class:"label"},"成立日期：",-1)),s("span",Ul,r(a.establishDate),1)]),s("div",kl,[e[51]||(e[51]=s("span",{class:"label"},"行业：",-1)),s("span",Rl,r(oe(a.industry)),1)])]),s("div",Dl,[s("div",Fl,[e[52]||(e[52]=s("span",{class:"label"},"注册地址：",-1)),s("span",$l,r(a.address),1)])]),s("div",Ml,[s("div",zl,[e[53]||(e[53]=s("span",{class:"label"},"联系电话：",-1)),s("span",Sl,r(a.phone),1)]),s("div",jl,[e[54]||(e[54]=s("span",{class:"label"},"邮箱：",-1)),s("span",Nl,r(a.email),1)])])]),s("div",ql,[s("div",El,[e[55]||(e[55]=s("span",{class:"label"},"经营范围：",-1)),s("span",Il,r(a.businessScope),1)])])],8,dl))),128))]),s("div",Al,[l(He,{"current-page":N.value,"onUpdate:currentPage":e[6]||(e[6]=a=>N.value=a),"page-size":P.value,"onUpdate:pageSize":e[7]||(e[7]=a=>P.value=a),"page-sizes":[10,20,50,100],total:G.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Pe,onCurrentChange:Xe},null,8,["current-page","page-size","total"])])]),_:1}),l(A,{modelValue:X.value,"onUpdate:modelValue":e[8]||(e[8]=a=>X.value=a),title:"企业详情",width:"1000px",class:"enterprise-detail-dialog"},{default:t(()=>[s("div",Bl,[s("div",Ll,[e[66]||(e[66]=s("h3",{class:"section-title"},"基本信息",-1)),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[s("div",Ol,[e[56]||(e[56]=s("span",{class:"label"},"企业名称：",-1)),s("span",Pl,r(y.value.name),1)])]),_:1}),l(p,{span:12},{default:t(()=>[s("div",Xl,[e[57]||(e[57]=s("span",{class:"label"},"统一社会信用代码：",-1)),s("span",Hl,r(y.value.creditCode),1)])]),_:1})]),_:1}),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[s("div",Yl,[e[58]||(e[58]=s("span",{class:"label"},"企业类型：",-1)),s("span",Jl,r(se(y.value.type)),1)])]),_:1}),l(p,{span:12},{default:t(()=>[s("div",Ql,[e[59]||(e[59]=s("span",{class:"label"},"行业：",-1)),s("span",Wl,r(oe(y.value.industry)),1)])]),_:1})]),_:1}),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[s("div",Gl,[e[60]||(e[60]=s("span",{class:"label"},"注册资本：",-1)),s("span",Kl,r(ne(y.value.registeredCapital)),1)])]),_:1}),l(p,{span:12},{default:t(()=>[s("div",Zl,[e[61]||(e[61]=s("span",{class:"label"},"成立日期：",-1)),s("span",et,r(y.value.establishDate),1)])]),_:1})]),_:1}),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[s("div",lt,[e[62]||(e[62]=s("span",{class:"label"},"法定代表人：",-1)),s("span",tt,r(y.value.legalRepresentative),1)])]),_:1}),l(p,{span:12},{default:t(()=>[s("div",at,[e[63]||(e[63]=s("span",{class:"label"},"经营状态：",-1)),l(I,{type:te(y.value.status)},{default:t(()=>[m(r(ae(y.value.status)),1)]),_:1},8,["type"])])]),_:1})]),_:1}),s("div",st,[e[64]||(e[64]=s("span",{class:"label"},"注册地址：",-1)),s("span",ot,r(y.value.address),1)]),s("div",nt,[e[65]||(e[65]=s("span",{class:"label"},"经营范围：",-1)),s("span",it,r(y.value.businessScope),1)])]),s("div",dt,[e[69]||(e[69]=s("h3",{class:"section-title"},"联系信息",-1)),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[s("div",ut,[e[67]||(e[67]=s("span",{class:"label"},"联系电话：",-1)),s("span",rt,r(y.value.phone),1)])]),_:1}),l(p,{span:12},{default:t(()=>[s("div",pt,[e[68]||(e[68]=s("span",{class:"label"},"邮箱：",-1)),s("span",ct,r(y.value.email),1)])]),_:1})]),_:1})]),s("div",mt,[s("div",vt,[e[71]||(e[71]=s("h3",{class:"section-title"},"联系人记录",-1)),l(i,{type:"primary",size:"small",onClick:Se},{default:t(()=>e[70]||(e[70]=[m("新增联系人")])),_:1,__:[70]})]),s("div",ft,[s("div",{class:ce(["contact-item",{active:!R.value}]),onClick:$e},e[72]||(e[72]=[s("div",{class:"contact-header"},[s("div",{class:"contact-info"},[s("div",{class:"contact-name"},"显示全部通话记录"),s("div",{class:"contact-position"},"查看所有联系人的通话记录")])],-1)]),2),(D(!0),j(re,null,pe(w.value,a=>{var k;return D(),j("div",{key:a.id,class:ce(["contact-item",{active:((k=R.value)==null?void 0:k.id)===a.id}]),onClick:J=>Fe(a)},[s("div",_t,[s("div",bt,[s("div",yt,r(a.name),1),s("div",Vt,r(a.position)+" | "+r(a.department),1)]),s("div",Ct,[l(i,{size:"small",type:"success",onClick:z(J=>ze(a),["stop"])},{default:t(()=>[l(Je,null,{default:t(()=>[l(Ke(tl))]),_:1}),e[73]||(e[73]=m("拨打电话 "))]),_:2,__:[73]},1032,["onClick"]),l(i,{size:"small",onClick:z(J=>je(a),["stop"])},{default:t(()=>e[74]||(e[74]=[m("编辑")])),_:2,__:[74]},1032,["onClick"]),l(i,{size:"small",type:"danger",onClick:z(J=>Ne(a),["stop"])},{default:t(()=>e[75]||(e[75]=[m("删除")])),_:2,__:[75]},1032,["onClick"])])]),s("div",ht,[s("div",wt,r(a.phone),1),s("div",xt,r(a.email),1)])],10,gt)}),128))]),s("div",Tt,[s("div",Ut,[s("h4",kt,r(R.value?R.value.name+" - 通话记录":"全部通话记录"),1),l(i,{type:"primary",size:"small",onClick:Ie},{default:t(()=>e[76]||(e[76]=[m("新增通话记录")])),_:1,__:[76]})]),Ze((D(),me(Qe,{data:h.value,style:{width:"100%"}},{default:t(()=>[R.value?el("",!0):(D(),me(U,{key:0,prop:"contactName",label:"联系人",width:"100"})),l(U,{prop:"callTime",label:"通话时间",width:"160"}),l(U,{prop:"duration",label:"通话时长",width:"100"}),l(U,{prop:"callType",label:"通话类型",width:"100"},{default:t(a=>[l(I,{type:_e(a.row.callType)},{default:t(()=>[m(r(be(a.row.callType)),1)]),_:2},1032,["type"])]),_:1}),l(U,{prop:"result",label:"通话结果",width:"100"},{default:t(a=>[l(I,{type:ye(a.row.result)},{default:t(()=>[m(r(Ve(a.row.result)),1)]),_:2},1032,["type"])]),_:1}),l(U,{prop:"nextFollowUp",label:"下次跟进",width:"120"}),l(U,{prop:"notes",label:"通话记录","show-overflow-tooltip":""}),l(U,{label:"操作",width:"120",fixed:"right"},{default:t(a=>[l(i,{size:"small",onClick:k=>Ae(a.row)},{default:t(()=>e[77]||(e[77]=[m("编辑")])),_:2,__:[77]},1032,["onClick"]),l(i,{size:"small",type:"danger",onClick:k=>Be(a.row)},{default:t(()=>e[78]||(e[78]=[m("删除")])),_:2,__:[78]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[We,S.value]])])])])]),_:1},8,["modelValue"]),l(A,{modelValue:F.value,"onUpdate:modelValue":e[22]||(e[22]=a=>F.value=a),title:O.value,width:"800px"},{footer:t(()=>[s("span",Rt,[l(i,{onClick:e[21]||(e[21]=a=>F.value=!1)},{default:t(()=>e[79]||(e[79]=[m("取消")])),_:1,__:[79]}),l(i,{type:"primary",onClick:ke},{default:t(()=>e[80]||(e[80]=[m("确定")])),_:1,__:[80]})])]),default:t(()=>[l(E,{model:d,rules:ve,ref_key:"formRef",ref:K,"label-width":"140px"},{default:t(()=>[l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[l(u,{label:"企业名称",prop:"name"},{default:t(()=>[l(g,{modelValue:d.name,"onUpdate:modelValue":e[9]||(e[9]=a=>d.name=a),placeholder:"请输入企业名称"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:12},{default:t(()=>[l(u,{label:"统一社会信用代码",prop:"creditCode"},{default:t(()=>[l(g,{modelValue:d.creditCode,"onUpdate:modelValue":e[10]||(e[10]=a=>d.creditCode=a),placeholder:"请输入统一社会信用代码"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[l(u,{label:"企业类型",prop:"type"},{default:t(()=>[l(x,{modelValue:d.type,"onUpdate:modelValue":e[11]||(e[11]=a=>d.type=a),placeholder:"请选择企业类型",style:{width:"100%"}},{default:t(()=>[l(n,{label:"有限责任公司",value:"limited"}),l(n,{label:"股份有限公司",value:"joint"}),l(n,{label:"个人独资企业",value:"individual"}),l(n,{label:"合伙企业",value:"partnership"}),l(n,{label:"国有企业",value:"state"}),l(n,{label:"外资企业",value:"foreign"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(p,{span:12},{default:t(()=>[l(u,{label:"行业",prop:"industry"},{default:t(()=>[l(x,{modelValue:d.industry,"onUpdate:modelValue":e[12]||(e[12]=a=>d.industry=a),placeholder:"请选择行业",style:{width:"100%"}},{default:t(()=>[l(n,{label:"制造业",value:"manufacturing"}),l(n,{label:"信息技术",value:"it"}),l(n,{label:"金融业",value:"finance"}),l(n,{label:"房地产业",value:"realestate"}),l(n,{label:"教育",value:"education"}),l(n,{label:"医疗健康",value:"healthcare"}),l(n,{label:"零售业",value:"retail"}),l(n,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[l(u,{label:"注册资本(万元)",prop:"registeredCapital"},{default:t(()=>[l(ue,{modelValue:d.registeredCapital,"onUpdate:modelValue":e[13]||(e[13]=a=>d.registeredCapital=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:12},{default:t(()=>[l(u,{label:"成立日期",prop:"establishDate"},{default:t(()=>[l(B,{modelValue:d.establishDate,"onUpdate:modelValue":e[14]||(e[14]=a=>d.establishDate=a),type:"date",placeholder:"选择成立日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[l(u,{label:"法定代表人",prop:"legalRepresentative"},{default:t(()=>[l(g,{modelValue:d.legalRepresentative,"onUpdate:modelValue":e[15]||(e[15]=a=>d.legalRepresentative=a),placeholder:"请输入法定代表人"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:12},{default:t(()=>[l(u,{label:"经营状态",prop:"status"},{default:t(()=>[l(x,{modelValue:d.status,"onUpdate:modelValue":e[16]||(e[16]=a=>d.status=a),placeholder:"请选择经营状态",style:{width:"100%"}},{default:t(()=>[l(n,{label:"在业",value:"active"}),l(n,{label:"存续",value:"existing"}),l(n,{label:"吊销",value:"revoked"}),l(n,{label:"注销",value:"cancelled"}),l(n,{label:"迁出",value:"moved"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{label:"注册地址",prop:"address"},{default:t(()=>[l(g,{modelValue:d.address,"onUpdate:modelValue":e[17]||(e[17]=a=>d.address=a),placeholder:"请输入注册地址"},null,8,["modelValue"])]),_:1}),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[l(u,{label:"联系电话",prop:"phone"},{default:t(()=>[l(g,{modelValue:d.phone,"onUpdate:modelValue":e[18]||(e[18]=a=>d.phone=a),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:12},{default:t(()=>[l(u,{label:"邮箱",prop:"email"},{default:t(()=>[l(g,{modelValue:d.email,"onUpdate:modelValue":e[19]||(e[19]=a=>d.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{label:"经营范围",prop:"businessScope"},{default:t(()=>[l(g,{modelValue:d.businessScope,"onUpdate:modelValue":e[20]||(e[20]=a=>d.businessScope=a),type:"textarea",rows:3,placeholder:"请输入经营范围"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(A,{modelValue:$.value,"onUpdate:modelValue":e[31]||(e[31]=a=>$.value=a),title:H.value,width:"600px"},{footer:t(()=>[s("span",Dt,[l(i,{onClick:e[30]||(e[30]=a=>$.value=!1)},{default:t(()=>e[81]||(e[81]=[m("取消")])),_:1,__:[81]}),l(i,{type:"primary",onClick:qe},{default:t(()=>e[82]||(e[82]=[m("确定")])),_:1,__:[82]})])]),default:t(()=>[l(E,{model:c,rules:fe,ref_key:"contactFormRef",ref:ee,"label-width":"100px"},{default:t(()=>[l(u,{label:"姓名",prop:"name"},{default:t(()=>[l(g,{modelValue:c.name,"onUpdate:modelValue":e[23]||(e[23]=a=>c.name=a),placeholder:"请输入联系人姓名"},null,8,["modelValue"])]),_:1}),l(u,{label:"职位",prop:"position"},{default:t(()=>[l(g,{modelValue:c.position,"onUpdate:modelValue":e[24]||(e[24]=a=>c.position=a),placeholder:"请输入职位"},null,8,["modelValue"])]),_:1}),l(u,{label:"联系电话",prop:"phone"},{default:t(()=>[l(g,{modelValue:c.phone,"onUpdate:modelValue":e[25]||(e[25]=a=>c.phone=a),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),l(u,{label:"邮箱",prop:"email"},{default:t(()=>[l(g,{modelValue:c.email,"onUpdate:modelValue":e[26]||(e[26]=a=>c.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),l(u,{label:"部门",prop:"department"},{default:t(()=>[l(g,{modelValue:c.department,"onUpdate:modelValue":e[27]||(e[27]=a=>c.department=a),placeholder:"请输入部门"},null,8,["modelValue"])]),_:1}),l(u,{label:"最后联系时间",prop:"lastContactDate"},{default:t(()=>[l(B,{modelValue:c.lastContactDate,"onUpdate:modelValue":e[28]||(e[28]=a=>c.lastContactDate=a),type:"date",placeholder:"选择最后联系时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(u,{label:"备注",prop:"notes"},{default:t(()=>[l(g,{modelValue:c.notes,"onUpdate:modelValue":e[29]||(e[29]=a=>c.notes=a),type:"textarea",rows:3,placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(A,{modelValue:M.value,"onUpdate:modelValue":e[39]||(e[39]=a=>M.value=a),title:Y.value,width:"700px"},{footer:t(()=>[s("span",Ft,[l(i,{onClick:e[38]||(e[38]=a=>M.value=!1)},{default:t(()=>e[83]||(e[83]=[m("取消")])),_:1,__:[83]}),l(i,{type:"primary",onClick:Le},{default:t(()=>e[84]||(e[84]=[m("确定")])),_:1,__:[84]})])]),default:t(()=>[l(E,{model:v,rules:ge,ref_key:"callRecordFormRef",ref:le,"label-width":"120px"},{default:t(()=>[l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[l(u,{label:"通话时间",prop:"callTime"},{default:t(()=>[l(B,{modelValue:v.callTime,"onUpdate:modelValue":e[32]||(e[32]=a=>v.callTime=a),type:"datetime",placeholder:"选择通话时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{span:12},{default:t(()=>[l(u,{label:"通话时长(分钟)",prop:"duration"},{default:t(()=>[l(ue,{modelValue:v.duration,"onUpdate:modelValue":e[33]||(e[33]=a=>v.duration=a),min:0,max:300,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(C,{gutter:20},{default:t(()=>[l(p,{span:12},{default:t(()=>[l(u,{label:"通话类型",prop:"callType"},{default:t(()=>[l(x,{modelValue:v.callType,"onUpdate:modelValue":e[34]||(e[34]=a=>v.callType=a),placeholder:"请选择通话类型",style:{width:"100%"}},{default:t(()=>[l(n,{label:"呼入",value:"incoming"}),l(n,{label:"呼出",value:"outgoing"}),l(n,{label:"未接",value:"missed"}),l(n,{label:"拒接",value:"rejected"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(p,{span:12},{default:t(()=>[l(u,{label:"通话结果",prop:"result"},{default:t(()=>[l(x,{modelValue:v.result,"onUpdate:modelValue":e[35]||(e[35]=a=>v.result=a),placeholder:"请选择通话结果",style:{width:"100%"}},{default:t(()=>[l(n,{label:"成功",value:"success"}),l(n,{label:"失败",value:"failed"}),l(n,{label:"待跟进",value:"pending"}),l(n,{label:"已成交",value:"closed"}),l(n,{label:"无兴趣",value:"no_interest"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{label:"下次跟进时间",prop:"nextFollowUp"},{default:t(()=>[l(B,{modelValue:v.nextFollowUp,"onUpdate:modelValue":e[36]||(e[36]=a=>v.nextFollowUp=a),type:"datetime",placeholder:"选择下次跟进时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(u,{label:"通话记录",prop:"notes"},{default:t(()=>[l(g,{modelValue:v.notes,"onUpdate:modelValue":e[37]||(e[37]=a=>v.notes=a),type:"textarea",rows:4,placeholder:"请详细记录通话内容、客户反馈、跟进计划等"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},Nt=al($t,[["__scopeId","data-v-dfeb4d98"]]);export{Nt as default};
