import{t as z,L as R,w as j,I as A,E as p,M as s,s as i,ai as L,j as u,S as m,d as w,g as f,aj as b,V,r as W,G as r,b as d}from"./index-Csie3Ubd.js";import"./http-C-_XONwZ-BI6Pfl8z-m3MqG1D0-qGmbdpo1.js";import"./axios-DWwaMX5J-DXTQ3iZI-BeByrt0G-Daa4mr-n.js";const Z=""+new URL(""+new URL(""+new URL(""+new URL("login-5W55mbw4-5W55mbw4-5W55mbw4-5W55mbw4.png",import.meta.url).href,import.meta.url).href,import.meta.url).href,import.meta.url).href,M={class:"dowebok"},_={class:"container-login100"},q={class:"wrap-login100"},C={class:"login100-pic js-tilt","data-tilt":""},E=["src"],G={class:"login100-from validate-form"},I={key:0,class:"dev-mode-notice",style:{background:"#fff3cd",border:"1px solid #ffeaa7",padding:"15px","margin-bottom":"20px","border-radius":"4px","font-size":"14px",color:"#856404"}},O={style:{margin:"10px 0"}},$={key:0},D={key:1},P={class:"wrap-input100 validate-input"},Q={class:"wrap-input100 validate-input"},T={class:"container-login100-form-btn"},B=V({name:"login"}),J=Object.assign(B,{setup(F){const g=z(),v=W(),o={email:"admin@qq.com",password:"123456"},l=R(!0);let e=j({email:o.email,password:o.password});const c=!1,k=async(t,a)=>new Promise(n=>{setTimeout(()=>{n({token:"mock-token-"+Date.now(),user:{id:1,email:t,username:t.split("@")[0],name:"测试用户",role:"admin"}})},1e3)}),x=()=>{l.value=!l.value,l.value?(e.email=o.email,e.password=o.password,r.info("已切换到模拟登录模式")):(e.email="",e.password="",r.info("已切换到真实后端登录模式"))},y=async()=>{let t=/^[0-9a-zA-Z_-]{6,20}/;if(!/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9])+/.test(e.email)){r.info("邮箱格式不满足!");return}if(!t.test(e.password)){r.info("密码格式不满足!");return}try{let a;console.log("使用模拟登录"),a=await k(e.email,e.password),r.success("模拟登录成功！");let n=a.token,U=a.user;g.setUserToken(U,n),v.push({name:"frame"})}catch{r.error("模拟登录失败")}},h=()=>{e.email=o.email,e.password=o.password,r.info("已填入测试账号")};return A(()=>{}),(t,a)=>(d(),p("div",M,[s("div",_,[s("div",q,[s("div",C,[s("img",{src:i(Z),alt:"IMG"},null,8,E)]),s("div",G,[a[9]||(a[9]=s("span",{class:"login100-form-title"},"员工登录的",-1)),i(c)?(d(),p("div",I,[a[3]||(a[3]=s("strong",null,"🧪 开发模式",-1)),a[4]||(a[4]=s("br",null,null,-1)),s("div",O,[s("button",{onClick:x,style:L({background:l.value?"#28a745":"#dc3545",color:"white",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",marginRight:"10px"})},u(l.value?"✅ 模拟登录":"🔗 真实登录"),5),l.value?(d(),p("button",{key:0,onClick:h,style:{background:"#007bff",color:"white",border:"none",padding:"'5px 10px'","border-radius":"3px",cursor:"pointer"}}," 📝 填入测试账号 ")):m("",!0)]),l.value?(d(),p("div",$,[w(" 测试账号："+u(o.email),1),a[2]||(a[2]=s("br",null,null,-1)),w(" 测试密码："+u(o.password),1)])):(d(),p("div",D," 请输入真实的后端账号密码 "))])):m("",!0),s("div",P,[f(s("input",{class:"input100",type:"text",name:"email",placeholder:"邮箱","onUpdate:modelValue":a[0]||(a[0]=n=>i(e).email=n)},null,512),[[b,i(e).email]]),a[5]||(a[5]=s("span",{class:"focus-input100"},null,-1)),a[6]||(a[6]=s("span",{class:"symbol-input100"},[s("i",{class:"iconfont icon-fa-envelope","aria-hidden":"true"})],-1))]),s("div",Q,[f(s("input",{class:"input100",type:"password",name:"password",placeholder:"密码","onUpdate:modelValue":a[1]||(a[1]=n=>i(e).password=n)},null,512),[[b,i(e).password]]),a[7]||(a[7]=s("span",{class:"focus-input100"},null,-1)),a[8]||(a[8]=s("span",{class:"symbol-input100"},[s("i",{class:"iconfont icon-fa-envelope","aria-hidden":"true"})],-1))]),s("div",T,[s("button",{class:"login100-form-btn",onClick:y},u(l.value&&i(c)?"模拟登录":"登录"),1)])])])])]))}});export{J as default};
