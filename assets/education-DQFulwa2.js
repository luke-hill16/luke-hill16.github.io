import{_ as e,r as l,J as a,o as t,c as o,b as u,w as d,d as i,e as n,a as r,g as s,K as p,i as c,t as m,F as f,j as v,E as b,k as _,L as y}from"./index-C3v4GxiK.js";const g={class:"education-container"},h={class:"tab-content"},V={class:"search-area"},w={class:"action-bar"},C={class:"pagination-container"},k={class:"tab-content"},x={class:"search-area"},U={class:"action-bar"},j={class:"pagination-container"},S={class:"dialog-footer"},z={class:"dialog-footer"},q=e({__name:"education",setup(e){const q=l("exam"),T=l(!1),B=l(!1),D=l("新增试卷"),I=l(1),O=l(10),A=l(0),E=l(),$=l(!1),F=l(!1),J=l("新增试题"),M=l(1),N=l(10),P=l(0),R=l(),K=a({name:"",type:"",status:""}),L=a({content:"",type:"",difficulty:""}),G=l([{id:1,name:"2024年春季期中考试",type:"midterm",totalScore:100,duration:120,questionCount:25,createTime:"2024-03-15",status:"published",description:"春季学期期中考试试卷"},{id:2,name:"数学单元测试一",type:"unit",totalScore:50,duration:60,questionCount:15,createTime:"2024-03-10",status:"draft",description:"第一章函数单元测试"},{id:3,name:"高考模拟考试",type:"mock",totalScore:150,duration:180,questionCount:35,createTime:"2024-03-01",status:"ended",description:"高考模拟考试试卷"}]),H=l([{id:1,content:"下列哪个是JavaScript的基本数据类型？",type:"single",difficulty:"easy",score:5,subject:"计算机科学",createTime:"2024-03-15",answer:"A",analysis:"JavaScript的基本数据类型包括：Number、String、Boolean、Undefined、Null、Symbol、BigInt"},{id:2,content:"请简述面向对象编程的三大特性。",type:"short",difficulty:"medium",score:10,subject:"计算机科学",createTime:"2024-03-14",answer:"封装、继承、多态",analysis:"面向对象编程的三大特性是封装、继承和多态，这是面向对象编程的核心概念。"},{id:3,content:"1 + 1 = 2",type:"judge",difficulty:"easy",score:2,subject:"数学",createTime:"2024-03-13",answer:"正确",analysis:"1加1等于2是基本的数学运算。"}]),Q=a({id:null,name:"",type:"",totalScore:100,duration:120,status:"draft",description:""}),W=a({id:null,content:"",type:"",difficulty:"",score:5,subject:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:"",analysis:""}),X={name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}],type:[{required:!0,message:"请选择试卷类型",trigger:"change"}],totalScore:[{required:!0,message:"请输入总分",trigger:"blur"}],duration:[{required:!0,message:"请输入考试时长",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},Y={content:[{required:!0,message:"请输入题目内容",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],score:[{required:!0,message:"请输入分值",trigger:"blur"}],subject:[{required:!0,message:"请输入科目",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},Z=e=>({midterm:"期中考试",final:"期末考试",mock:"模拟考试",unit:"单元测试"}[e]||"未知"),ee=e=>({draft:"草稿",published:"已发布",ended:"已结束"}[e]||"未知"),le=e=>({single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",short:"简答题"}[e]||"未知"),ae=e=>({easy:"简单",medium:"中等",hard:"困难"}[e]||"未知"),te=()=>{I.value=1,_e()},oe=()=>{Object.keys(K).forEach((e=>{K[e]=""})),te()},ue=()=>{M.value=1,ye()},de=()=>{Object.keys(L).forEach((e=>{L[e]=""})),ue()},ie=()=>{D.value="新增试卷",pe(),B.value=!0},ne=()=>{J.value="新增试题",ce(),F.value=!0},re=()=>{E.value.validate((e=>{if(e){if(Q.id){const e=G.value.findIndex((e=>e.id===Q.id));e>-1&&Object.assign(G.value[e],{...Q}),b.success("编辑成功")}else{const e=Math.max(...G.value.map((e=>e.id)))+1;G.value.push({...Q,id:e,questionCount:0,createTime:(new Date).toISOString().split("T")[0]}),b.success("新增成功")}B.value=!1}}))},se=()=>{R.value.validate((e=>{if(e){if(W.id){const e=H.value.findIndex((e=>e.id===W.id));e>-1&&Object.assign(H.value[e],{...W}),b.success("编辑成功")}else{const e=Math.max(...H.value.map((e=>e.id)))+1;H.value.push({...W,id:e,createTime:(new Date).toISOString().split("T")[0]}),b.success("新增成功")}F.value=!1}}))},pe=()=>{Object.keys(Q).forEach((e=>{Q[e]="totalScore"===e?100:"duration"===e?120:"status"===e?"draft":""})),Q.id=null},ce=()=>{Object.keys(W).forEach((e=>{W[e]="score"===e?5:""})),W.id=null},me=e=>{O.value=e,_e()},fe=e=>{I.value=e,_e()},ve=e=>{N.value=e,ye()},be=e=>{M.value=e,ye()},_e=()=>{T.value=!0,setTimeout((()=>{T.value=!1,A.value=G.value.length}),500)},ye=()=>{$.value=!0,setTimeout((()=>{$.value=!1,P.value=H.value.length}),500)};return t((()=>{_e(),ye()})),(e,l)=>{const a=i("el-input"),t=i("el-form-item"),pe=i("el-option"),ce=i("el-select"),_e=i("el-button"),ye=i("el-form"),ge=i("el-table-column"),he=i("el-tag"),Ve=i("el-table"),we=i("el-pagination"),Ce=i("el-tab-pane"),ke=i("el-tabs"),xe=i("el-card"),Ue=i("el-input-number"),je=i("el-dialog"),Se=y("loading");return n(),o("div",g,[u(xe,{class:"box-card"},{header:d((()=>l[32]||(l[32]=[r("div",{class:"card-header"},[r("span",null,"教育管理")],-1)]))),default:d((()=>[u(ke,{modelValue:q.value,"onUpdate:modelValue":l[10]||(l[10]=e=>q.value=e),type:"card",class:"education-tabs"},{default:d((()=>[u(Ce,{label:"试卷管理",name:"exam"},{default:d((()=>[r("div",h,[r("div",V,[u(ye,{inline:!0,model:K,class:"search-form"},{default:d((()=>[u(t,{label:"试卷名称"},{default:d((()=>[u(a,{modelValue:K.name,"onUpdate:modelValue":l[0]||(l[0]=e=>K.name=e),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])])),_:1}),u(t,{label:"试卷类型"},{default:d((()=>[u(ce,{modelValue:K.type,"onUpdate:modelValue":l[1]||(l[1]=e=>K.type=e),placeholder:"请选择试卷类型",clearable:"",style:{width:"180px"}},{default:d((()=>[u(pe,{label:"期中考试",value:"midterm"}),u(pe,{label:"期末考试",value:"final"}),u(pe,{label:"模拟考试",value:"mock"}),u(pe,{label:"单元测试",value:"unit"})])),_:1},8,["modelValue"])])),_:1}),u(t,{label:"状态"},{default:d((()=>[u(ce,{modelValue:K.status,"onUpdate:modelValue":l[2]||(l[2]=e=>K.status=e),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:d((()=>[u(pe,{label:"草稿",value:"draft"}),u(pe,{label:"已发布",value:"published"}),u(pe,{label:"已结束",value:"ended"})])),_:1},8,["modelValue"])])),_:1}),u(t,null,{default:d((()=>[u(_e,{type:"primary",onClick:te},{default:d((()=>l[33]||(l[33]=[s("搜索")]))),_:1,__:[33]}),u(_e,{onClick:oe},{default:d((()=>l[34]||(l[34]=[s("重置")]))),_:1,__:[34]})])),_:1})])),_:1},8,["model"])]),r("div",w,[u(_e,{type:"primary",onClick:ie},{default:d((()=>l[35]||(l[35]=[s("新增试卷")]))),_:1,__:[35]})]),p((n(),c(Ve,{data:G.value,style:{width:"100%"}},{default:d((()=>[u(ge,{prop:"id",label:"ID",width:"80"}),u(ge,{prop:"name",label:"试卷名称"}),u(ge,{prop:"type",label:"试卷类型",width:"120"},{default:d((e=>{return[u(he,{type:(l=e.row.type,{midterm:"warning",final:"danger",mock:"info",unit:"success"}[l]||"info")},{default:d((()=>[s(m(Z(e.row.type)),1)])),_:2},1032,["type"])];var l})),_:1}),u(ge,{prop:"totalScore",label:"总分",width:"80"}),u(ge,{prop:"duration",label:"考试时长(分钟)",width:"120"}),u(ge,{prop:"questionCount",label:"题目数量",width:"100"}),u(ge,{prop:"createTime",label:"创建时间",width:"120"}),u(ge,{prop:"status",label:"状态",width:"100"},{default:d((e=>{return[u(he,{type:(l=e.row.status,{draft:"info",published:"success",ended:"warning"}[l]||"info")},{default:d((()=>[s(m(ee(e.row.status)),1)])),_:2},1032,["type"])];var l})),_:1}),u(ge,{label:"操作",width:"250",fixed:"right"},{default:d((e=>[u(_e,{size:"small",onClick:l=>{return a=e.row,D.value="编辑试卷",Object.assign(Q,a),void(B.value=!0);var a}},{default:d((()=>l[36]||(l[36]=[s("编辑")]))),_:2,__:[36]},1032,["onClick"]),u(_e,{size:"small",type:"success",onClick:l=>{return a=e.row,void b.info(`查看试卷：${a.name}`);var a}},{default:d((()=>l[37]||(l[37]=[s("查看")]))),_:2,__:[37]},1032,["onClick"]),u(_e,{size:"small",type:"warning",onClick:l=>{return a=e.row,void b.info(`管理试卷"${a.name}"的题目`);var a}},{default:d((()=>l[38]||(l[38]=[s("管理题目")]))),_:2,__:[38]},1032,["onClick"]),u(_e,{size:"small",type:"danger",onClick:l=>{return a=e.row,void _.confirm(`确定要删除试卷"${a.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=G.value.findIndex((e=>e.id===a.id));e>-1&&(G.value.splice(e,1),b.success("删除成功"))})).catch((()=>{b.info("已取消删除")}));var a}},{default:d((()=>l[39]||(l[39]=[s("删除")]))),_:2,__:[39]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Se,T.value]]),r("div",C,[u(we,{"current-page":I.value,"onUpdate:currentPage":l[3]||(l[3]=e=>I.value=e),"page-size":O.value,"onUpdate:pageSize":l[4]||(l[4]=e=>O.value=e),"page-sizes":[10,20,50,100],total:A.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:me,onCurrentChange:fe},null,8,["current-page","page-size","total"])])])])),_:1}),u(Ce,{label:"试题管理",name:"question"},{default:d((()=>[r("div",k,[r("div",x,[u(ye,{inline:!0,model:L,class:"search-form"},{default:d((()=>[u(t,{label:"题目内容"},{default:d((()=>[u(a,{modelValue:L.content,"onUpdate:modelValue":l[5]||(l[5]=e=>L.content=e),placeholder:"请输入题目内容",clearable:""},null,8,["modelValue"])])),_:1}),u(t,{label:"题目类型"},{default:d((()=>[u(ce,{modelValue:L.type,"onUpdate:modelValue":l[6]||(l[6]=e=>L.type=e),placeholder:"请选择题目类型",clearable:"",style:{width:"180px"}},{default:d((()=>[u(pe,{label:"单选题",value:"single"}),u(pe,{label:"多选题",value:"multiple"}),u(pe,{label:"判断题",value:"judge"}),u(pe,{label:"填空题",value:"fill"}),u(pe,{label:"简答题",value:"short"})])),_:1},8,["modelValue"])])),_:1}),u(t,{label:"难度"},{default:d((()=>[u(ce,{modelValue:L.difficulty,"onUpdate:modelValue":l[7]||(l[7]=e=>L.difficulty=e),placeholder:"请选择难度",clearable:"",style:{width:"180px"}},{default:d((()=>[u(pe,{label:"简单",value:"easy"}),u(pe,{label:"中等",value:"medium"}),u(pe,{label:"困难",value:"hard"})])),_:1},8,["modelValue"])])),_:1}),u(t,null,{default:d((()=>[u(_e,{type:"primary",onClick:ue},{default:d((()=>l[40]||(l[40]=[s("搜索")]))),_:1,__:[40]}),u(_e,{onClick:de},{default:d((()=>l[41]||(l[41]=[s("重置")]))),_:1,__:[41]})])),_:1})])),_:1},8,["model"])]),r("div",U,[u(_e,{type:"primary",onClick:ne},{default:d((()=>l[42]||(l[42]=[s("新增试题")]))),_:1,__:[42]})]),p((n(),c(Ve,{data:H.value,style:{width:"100%"}},{default:d((()=>[u(ge,{prop:"id",label:"ID",width:"80"}),u(ge,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),u(ge,{prop:"type",label:"题目类型",width:"100"},{default:d((e=>{return[u(he,{type:(l=e.row.type,{single:"primary",multiple:"success",judge:"warning",fill:"info",short:"danger"}[l]||"info")},{default:d((()=>[s(m(le(e.row.type)),1)])),_:2},1032,["type"])];var l})),_:1}),u(ge,{prop:"difficulty",label:"难度",width:"80"},{default:d((e=>{return[u(he,{type:(l=e.row.difficulty,{easy:"success",medium:"warning",hard:"danger"}[l]||"info")},{default:d((()=>[s(m(ae(e.row.difficulty)),1)])),_:2},1032,["type"])];var l})),_:1}),u(ge,{prop:"score",label:"分值",width:"80"}),u(ge,{prop:"subject",label:"科目",width:"100"}),u(ge,{prop:"createTime",label:"创建时间",width:"120"}),u(ge,{label:"操作",width:"200",fixed:"right"},{default:d((e=>[u(_e,{size:"small",onClick:l=>{return a=e.row,J.value="编辑试题",Object.assign(W,a),void(F.value=!0);var a}},{default:d((()=>l[43]||(l[43]=[s("编辑")]))),_:2,__:[43]},1032,["onClick"]),u(_e,{size:"small",type:"success",onClick:l=>{return a=e.row,void b.info(`查看试题：${a.content.substring(0,20)}...`);var a}},{default:d((()=>l[44]||(l[44]=[s("查看")]))),_:2,__:[44]},1032,["onClick"]),u(_e,{size:"small",type:"danger",onClick:l=>{return a=e.row,void _.confirm("确定要删除这道试题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=H.value.findIndex((e=>e.id===a.id));e>-1&&(H.value.splice(e,1),b.success("删除成功"))})).catch((()=>{b.info("已取消删除")}));var a}},{default:d((()=>l[45]||(l[45]=[s("删除")]))),_:2,__:[45]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Se,$.value]]),r("div",j,[u(we,{"current-page":M.value,"onUpdate:currentPage":l[8]||(l[8]=e=>M.value=e),"page-size":N.value,"onUpdate:pageSize":l[9]||(l[9]=e=>N.value=e),"page-sizes":[10,20,50,100],total:P.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ve,onCurrentChange:be},null,8,["current-page","page-size","total"])])])])),_:1})])),_:1},8,["modelValue"])])),_:1}),u(je,{modelValue:B.value,"onUpdate:modelValue":l[18]||(l[18]=e=>B.value=e),title:D.value,width:"700px"},{footer:d((()=>[r("span",S,[u(_e,{onClick:l[17]||(l[17]=e=>B.value=!1)},{default:d((()=>l[46]||(l[46]=[s("取消")]))),_:1,__:[46]}),u(_e,{type:"primary",onClick:re},{default:d((()=>l[47]||(l[47]=[s("确定")]))),_:1,__:[47]})])])),default:d((()=>[u(ye,{model:Q,rules:X,ref_key:"examFormRef",ref:E,"label-width":"100px"},{default:d((()=>[u(t,{label:"试卷名称",prop:"name"},{default:d((()=>[u(a,{modelValue:Q.name,"onUpdate:modelValue":l[11]||(l[11]=e=>Q.name=e),placeholder:"请输入试卷名称"},null,8,["modelValue"])])),_:1}),u(t,{label:"试卷类型",prop:"type"},{default:d((()=>[u(ce,{modelValue:Q.type,"onUpdate:modelValue":l[12]||(l[12]=e=>Q.type=e),placeholder:"请选择试卷类型",style:{width:"100%"}},{default:d((()=>[u(pe,{label:"期中考试",value:"midterm"}),u(pe,{label:"期末考试",value:"final"}),u(pe,{label:"模拟考试",value:"mock"}),u(pe,{label:"单元测试",value:"unit"})])),_:1},8,["modelValue"])])),_:1}),u(t,{label:"总分",prop:"totalScore"},{default:d((()=>[u(Ue,{modelValue:Q.totalScore,"onUpdate:modelValue":l[13]||(l[13]=e=>Q.totalScore=e),min:0,max:200,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),u(t,{label:"考试时长(分钟)",prop:"duration"},{default:d((()=>[u(Ue,{modelValue:Q.duration,"onUpdate:modelValue":l[14]||(l[14]=e=>Q.duration=e),min:30,max:300,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),u(t,{label:"状态",prop:"status"},{default:d((()=>[u(ce,{modelValue:Q.status,"onUpdate:modelValue":l[15]||(l[15]=e=>Q.status=e),placeholder:"请选择状态",style:{width:"100%"}},{default:d((()=>[u(pe,{label:"草稿",value:"draft"}),u(pe,{label:"已发布",value:"published"}),u(pe,{label:"已结束",value:"ended"})])),_:1},8,["modelValue"])])),_:1}),u(t,{label:"试卷说明",prop:"description"},{default:d((()=>[u(a,{modelValue:Q.description,"onUpdate:modelValue":l[16]||(l[16]=e=>Q.description=e),type:"textarea",rows:3,placeholder:"请输入试卷说明"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),u(je,{modelValue:F.value,"onUpdate:modelValue":l[31]||(l[31]=e=>F.value=e),title:J.value,width:"800px"},{footer:d((()=>[r("span",z,[u(_e,{onClick:l[30]||(l[30]=e=>F.value=!1)},{default:d((()=>l[48]||(l[48]=[s("取消")]))),_:1,__:[48]}),u(_e,{type:"primary",onClick:se},{default:d((()=>l[49]||(l[49]=[s("确定")]))),_:1,__:[49]})])])),default:d((()=>[u(ye,{model:W,rules:Y,ref_key:"questionFormRef",ref:R,"label-width":"100px"},{default:d((()=>[u(t,{label:"题目内容",prop:"content"},{default:d((()=>[u(a,{modelValue:W.content,"onUpdate:modelValue":l[19]||(l[19]=e=>W.content=e),type:"textarea",rows:4,placeholder:"请输入题目内容"},null,8,["modelValue"])])),_:1}),u(t,{label:"题目类型",prop:"type"},{default:d((()=>[u(ce,{modelValue:W.type,"onUpdate:modelValue":l[20]||(l[20]=e=>W.type=e),placeholder:"请选择题目类型",style:{width:"100%"}},{default:d((()=>[u(pe,{label:"单选题",value:"single"}),u(pe,{label:"多选题",value:"multiple"}),u(pe,{label:"判断题",value:"judge"}),u(pe,{label:"填空题",value:"fill"}),u(pe,{label:"简答题",value:"short"})])),_:1},8,["modelValue"])])),_:1}),u(t,{label:"难度",prop:"difficulty"},{default:d((()=>[u(ce,{modelValue:W.difficulty,"onUpdate:modelValue":l[21]||(l[21]=e=>W.difficulty=e),placeholder:"请选择难度",style:{width:"100%"}},{default:d((()=>[u(pe,{label:"简单",value:"easy"}),u(pe,{label:"中等",value:"medium"}),u(pe,{label:"困难",value:"hard"})])),_:1},8,["modelValue"])])),_:1}),u(t,{label:"分值",prop:"score"},{default:d((()=>[u(Ue,{modelValue:W.score,"onUpdate:modelValue":l[22]||(l[22]=e=>W.score=e),min:1,max:50,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),u(t,{label:"科目",prop:"subject"},{default:d((()=>[u(a,{modelValue:W.subject,"onUpdate:modelValue":l[23]||(l[23]=e=>W.subject=e),placeholder:"请输入科目"},null,8,["modelValue"])])),_:1}),"single"===W.type||"multiple"===W.type?(n(),o(f,{key:0},[u(t,{label:"选项A",prop:"optionA"},{default:d((()=>[u(a,{modelValue:W.optionA,"onUpdate:modelValue":l[24]||(l[24]=e=>W.optionA=e),placeholder:"请输入选项A"},null,8,["modelValue"])])),_:1}),u(t,{label:"选项B",prop:"optionB"},{default:d((()=>[u(a,{modelValue:W.optionB,"onUpdate:modelValue":l[25]||(l[25]=e=>W.optionB=e),placeholder:"请输入选项B"},null,8,["modelValue"])])),_:1}),u(t,{label:"选项C",prop:"optionC"},{default:d((()=>[u(a,{modelValue:W.optionC,"onUpdate:modelValue":l[26]||(l[26]=e=>W.optionC=e),placeholder:"请输入选项C"},null,8,["modelValue"])])),_:1}),u(t,{label:"选项D",prop:"optionD"},{default:d((()=>[u(a,{modelValue:W.optionD,"onUpdate:modelValue":l[27]||(l[27]=e=>W.optionD=e),placeholder:"请输入选项D"},null,8,["modelValue"])])),_:1})],64)):v("",!0),u(t,{label:"正确答案",prop:"answer"},{default:d((()=>[u(a,{modelValue:W.answer,"onUpdate:modelValue":l[28]||(l[28]=e=>W.answer=e),placeholder:"请输入正确答案"},null,8,["modelValue"])])),_:1}),u(t,{label:"解析",prop:"analysis"},{default:d((()=>[u(a,{modelValue:W.analysis,"onUpdate:modelValue":l[29]||(l[29]=e=>W.analysis=e),type:"textarea",rows:3,placeholder:"请输入题目解析"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-e0c16c50"]]);export{q as default};
