import{d as e,S as a,r as l,m as t,Z as o,s as d,t as u,z as i,I as n,P as s,j as r,c as p,O as c,A as m,q as v,v as f,K as _,X as g,L as b,F as h,R as y,i as V,k as w,x as C,N as D,$ as U,b as k,U as P}from"./index-BEF7uh_8.js";const x={class:"district-container"},z={class:"page-header"},S={class:"header-actions"},T={class:"overview-section"},G={class:"card-content"},j={class:"card-icon primary"},q={class:"card-info"},I={class:"card-value"},F={class:"card-content"},O={class:"card-icon success"},L={class:"card-info"},$={class:"card-value"},B={class:"card-content"},K={class:"card-icon warning"},R={class:"card-info"},A={class:"card-value"},N={class:"card-content"},X={class:"card-icon info"},Z={class:"card-info"},E={class:"card-value"},H={class:"search-section"},J={class:"district-list"},M={class:"pagination-container"},Q={class:"dialog-footer"},W={key:0,class:"district-detail"},Y=e({__name:"dihestrict",setup(e){const Y=a(!1),ee=a(!1),ae=a(!1),le=a(!1),te=a(),oe=a(null),de=l({name:"",level:"",region:""}),ue=l({currentPage:1,pageSize:10,total:0}),ie=l({id:null,name:"",level:"",region:"",postcode:"",population:0,area:0,gdp:0,companies:0,status:"normal",establishDate:"",location:"",description:""}),ne={name:[{required:!0,message:"请输入区县名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],level:[{required:!0,message:"请选择行政级别",trigger:"change"}],region:[{required:!0,message:"请选择所属区域",trigger:"change"}],postcode:[{pattern:/^\d{6}$/,message:"邮政编码格式不正确",trigger:"blur"}],population:[{required:!0,message:"请输入人口数量",trigger:"blur"}],area:[{required:!0,message:"请输入面积",trigger:"blur"}]},se=l({total:0,totalPopulation:0,totalGDP:0,totalCompanies:0}),re=a([{id:1,name:"朝阳区",level:"district",region:"urban",postcode:"100020",population:345.2,area:470.8,gdp:1250.5,companies:15680,status:"normal",establishDate:"1958-05-01",location:"北京市东部",description:"北京市中心城区之一，经济发达，文化繁荣",createTime:"2020-01-01 10:00:00"},{id:2,name:"海淀区",level:"district",region:"urban",postcode:"100080",population:332.1,area:431,gdp:1180.3,companies:14250,status:"normal",establishDate:"1952-09-01",location:"北京市西北部",description:"科技教育中心，中关村科技园区所在地",createTime:"2020-01-01 10:00:00"},{id:3,name:"昌平区",level:"district",region:"suburban",postcode:"102200",population:196.8,area:1343.5,gdp:680.2,companies:8560,status:"developing",establishDate:"1999-09-16",location:"北京市北部",description:"北京市重要的生态涵养区和科技创新基地",createTime:"2020-01-01 10:00:00"},{id:4,name:"密云区",level:"district",region:"rural",postcode:"101500",population:45.6,area:2229.5,gdp:180.5,companies:2340,status:"developing",establishDate:"2015-11-17",location:"北京市东北部",description:"生态涵养区，以旅游业和农业为主",createTime:"2020-01-01 10:00:00"}]),pe=t((()=>ie.id?"编辑区县":"添加区县")),ce=e=>({district:"市辖区",county:"县级市","county-level":"县",autonomous:"自治县"}[e]||"未知"),me=e=>({district:"primary",county:"success","county-level":"warning",autonomous:"info"}[e]||""),ve=e=>({urban:"城区",suburban:"郊区",rural:"农村"}[e]||"未知"),fe=e=>({urban:"primary",suburban:"warning",rural:"success"}[e]||""),_e=e=>({normal:"正常",developing:"发展中",pending:"待开发"}[e]||"未知"),ge=e=>({normal:"success",developing:"warning",pending:"info"}[e]||""),be=e=>e.toLocaleString(),he=()=>{ie.id=null,ae.value=!0},ye=async()=>{if(te.value)try{if(await te.value.validate(),ee.value=!0,await new Promise((e=>setTimeout(e,1e3))),ie.id){const e=re.value.findIndex((e=>e.id===ie.id));e>-1&&(re.value[e]={...ie}),k.success("编辑成功")}else{const e={...ie,id:Date.now(),createTime:(new Date).toLocaleString()};re.value.unshift(e),k.success("添加成功")}Pe(),ae.value=!1,Ve()}catch(e){}finally{ee.value=!1}},Ve=()=>{te.value&&te.value.resetFields(),Object.assign(ie,{id:null,name:"",level:"",region:"",postcode:"",population:0,area:0,gdp:0,companies:0,status:"normal",establishDate:"",location:"",description:""})},we=()=>{ue.currentPage=1},Ce=()=>{Object.assign(de,{name:"",level:"",region:""}),we()},De=e=>{ue.pageSize=e},Ue=e=>{ue.currentPage=e},ke=()=>{k.success("区县数据导出成功")},Pe=()=>{se.total=re.value.length,se.totalPopulation=re.value.reduce(((e,a)=>e+a.population),0),se.totalGDP=re.value.reduce(((e,a)=>e+a.gdp),0),se.totalCompanies=re.value.reduce(((e,a)=>e+a.companies),0)};return o((()=>{Pe(),ue.total=re.value.length})),(e,a)=>{const l=d("el-icon"),t=d("el-button"),o=d("el-card"),xe=d("el-col"),ze=d("el-row"),Se=d("el-input"),Te=d("el-option"),Ge=d("el-select"),je=d("el-table-column"),qe=d("el-tag"),Ie=d("el-table"),Fe=d("el-pagination"),Oe=d("el-form-item"),Le=d("el-input-number"),$e=d("el-date-picker"),Be=d("el-form"),Ke=d("el-dialog"),Re=d("el-descriptions-item"),Ae=d("el-descriptions"),Ne=u("loading");return i(),n("div",x,[s("div",z,[a[22]||(a[22]=s("h2",null,"区县管理系统",-1)),s("div",S,[r(t,{type:"success",onClick:ke},{default:p((()=>[r(l,null,{default:p((()=>[r(c(m))])),_:1}),a[20]||(a[20]=v(" 导出数据 "))])),_:1,__:[20]}),r(t,{type:"primary",onClick:he},{default:p((()=>[r(l,null,{default:p((()=>[r(c(f))])),_:1}),a[21]||(a[21]=v(" 添加区县 "))])),_:1,__:[21]})])]),s("div",T,[r(ze,{gutter:20},{default:p((()=>[r(xe,{span:6},{default:p((()=>[r(o,{class:"overview-card"},{default:p((()=>[s("div",G,[s("div",j,[r(l,null,{default:p((()=>[r(c(_))])),_:1})]),s("div",q,[a[23]||(a[23]=s("div",{class:"card-title"},"区县总数",-1)),s("div",I,g(se.total),1)])])])),_:1})])),_:1}),r(xe,{span:6},{default:p((()=>[r(o,{class:"overview-card"},{default:p((()=>[s("div",F,[s("div",O,[r(l,null,{default:p((()=>[r(c(b))])),_:1})]),s("div",L,[a[24]||(a[24]=s("div",{class:"card-title"},"总人口",-1)),s("div",$,g(be(se.totalPopulation)),1)])])])),_:1})])),_:1}),r(xe,{span:6},{default:p((()=>[r(o,{class:"overview-card"},{default:p((()=>{return[s("div",B,[s("div",K,[r(l,null,{default:p((()=>[r(c(h))])),_:1})]),s("div",R,[a[25]||(a[25]=s("div",{class:"card-title"},"GDP总量",-1)),s("div",A,g((e=se.totalGDP,(e/1e4).toFixed(1)+"万亿")),1)])])];var e})),_:1})])),_:1}),r(xe,{span:6},{default:p((()=>[r(o,{class:"overview-card"},{default:p((()=>[s("div",N,[s("div",X,[r(l,null,{default:p((()=>[r(c(y))])),_:1})]),s("div",Z,[a[26]||(a[26]=s("div",{class:"card-title"},"企业数量",-1)),s("div",E,g(be(se.totalCompanies)),1)])])])),_:1})])),_:1})])),_:1})]),s("div",H,[r(ze,{gutter:20},{default:p((()=>[r(xe,{span:6},{default:p((()=>[r(Se,{modelValue:de.name,"onUpdate:modelValue":a[0]||(a[0]=e=>de.name=e),placeholder:"区县名称",clearable:"",onClear:we,onKeyup:V(we,["enter"])},{prefix:p((()=>[r(l,null,{default:p((()=>[r(c(w))])),_:1})])),_:1},8,["modelValue"])])),_:1}),r(xe,{span:6},{default:p((()=>[r(Ge,{modelValue:de.level,"onUpdate:modelValue":a[1]||(a[1]=e=>de.level=e),placeholder:"行政级别",clearable:"",onChange:we},{default:p((()=>[r(Te,{label:"市辖区",value:"district"}),r(Te,{label:"县级市",value:"county"}),r(Te,{label:"县",value:"county-level"}),r(Te,{label:"自治县",value:"autonomous"})])),_:1},8,["modelValue"])])),_:1}),r(xe,{span:6},{default:p((()=>[r(Ge,{modelValue:de.region,"onUpdate:modelValue":a[2]||(a[2]=e=>de.region=e),placeholder:"所属区域",clearable:"",onChange:we},{default:p((()=>[r(Te,{label:"城区",value:"urban"}),r(Te,{label:"郊区",value:"suburban"}),r(Te,{label:"农村",value:"rural"})])),_:1},8,["modelValue"])])),_:1}),r(xe,{span:6},{default:p((()=>[r(t,{type:"primary",onClick:we},{default:p((()=>[r(l,null,{default:p((()=>[r(c(w))])),_:1}),a[27]||(a[27]=v(" 搜索 "))])),_:1,__:[27]}),r(t,{onClick:Ce},{default:p((()=>a[28]||(a[28]=[v("重置")]))),_:1,__:[28]})])),_:1})])),_:1})]),s("div",J,[C((i(),D(Ie,{data:re.value,stripe:""},{default:p((()=>[r(je,{prop:"id",label:"ID",width:"80"}),r(je,{prop:"name",label:"区县名称"}),r(je,{prop:"level",label:"行政级别",width:"120"},{default:p((e=>[r(qe,{type:me(e.row.level)},{default:p((()=>[v(g(ce(e.row.level)),1)])),_:2},1032,["type"])])),_:1}),r(je,{prop:"region",label:"所属区域",width:"100"},{default:p((e=>[r(qe,{type:fe(e.row.region)},{default:p((()=>[v(g(ve(e.row.region)),1)])),_:2},1032,["type"])])),_:1}),r(je,{prop:"population",label:"人口(万)",width:"100"}),r(je,{prop:"area",label:"面积(km²)",width:"120"}),r(je,{prop:"gdp",label:"GDP(亿元)",width:"120"}),r(je,{prop:"companies",label:"企业数量",width:"100"}),r(je,{prop:"status",label:"状态",width:"100"},{default:p((e=>[r(qe,{type:ge(e.row.status)},{default:p((()=>[v(g(_e(e.row.status)),1)])),_:2},1032,["type"])])),_:1}),r(je,{label:"操作",width:"200",fixed:"right"},{default:p((e=>[r(t,{size:"small",onClick:a=>{return l=e.row,oe.value=l,void(le.value=!0);var l}},{default:p((()=>a[29]||(a[29]=[v("查看")]))),_:2,__:[29]},1032,["onClick"]),r(t,{size:"small",type:"primary",onClick:a=>{return l=e.row,Object.assign(ie,l),void(ae.value=!0);var l}},{default:p((()=>a[30]||(a[30]=[v("编辑")]))),_:2,__:[30]},1032,["onClick"]),r(t,{size:"small",type:"danger",onClick:a=>(async e=>{try{await U.confirm(`确定要删除区县"${e.name}"吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const a=re.value.findIndex((a=>a.id===e.id));a>-1&&(re.value.splice(a,1),Pe(),k.success("删除成功"))}catch(a){}})(e.row)},{default:p((()=>a[31]||(a[31]=[v("删除")]))),_:2,__:[31]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Ne,Y.value]]),s("div",M,[r(Fe,{"current-page":ue.currentPage,"onUpdate:currentPage":a[3]||(a[3]=e=>ue.currentPage=e),"page-size":ue.pageSize,"onUpdate:pageSize":a[4]||(a[4]=e=>ue.pageSize=e),"page-sizes":[10,20,50,100],total:ue.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:De,onCurrentChange:Ue},null,8,["current-page","page-size","total"])])]),r(Ke,{modelValue:ae.value,"onUpdate:modelValue":a[18]||(a[18]=e=>ae.value=e),title:pe.value,width:"700px",onClose:Ve},{footer:p((()=>[s("div",Q,[r(t,{onClick:a[17]||(a[17]=e=>ae.value=!1)},{default:p((()=>a[32]||(a[32]=[v("取消")]))),_:1,__:[32]}),r(t,{type:"primary",onClick:ye,loading:ee.value},{default:p((()=>a[33]||(a[33]=[v("确定")]))),_:1,__:[33]},8,["loading"])])])),default:p((()=>[r(Be,{model:ie,rules:ne,ref_key:"districtFormRef",ref:te,"label-width":"120px"},{default:p((()=>[r(ze,{gutter:20},{default:p((()=>[r(xe,{span:12},{default:p((()=>[r(Oe,{label:"区县名称",prop:"name"},{default:p((()=>[r(Se,{modelValue:ie.name,"onUpdate:modelValue":a[5]||(a[5]=e=>ie.name=e),placeholder:"请输入区县名称"},null,8,["modelValue"])])),_:1})])),_:1}),r(xe,{span:12},{default:p((()=>[r(Oe,{label:"行政级别",prop:"level"},{default:p((()=>[r(Ge,{modelValue:ie.level,"onUpdate:modelValue":a[6]||(a[6]=e=>ie.level=e),placeholder:"请选择行政级别",style:{width:"100%"}},{default:p((()=>[r(Te,{label:"市辖区",value:"district"}),r(Te,{label:"县级市",value:"county"}),r(Te,{label:"县",value:"county-level"}),r(Te,{label:"自治县",value:"autonomous"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),r(ze,{gutter:20},{default:p((()=>[r(xe,{span:12},{default:p((()=>[r(Oe,{label:"所属区域",prop:"region"},{default:p((()=>[r(Ge,{modelValue:ie.region,"onUpdate:modelValue":a[7]||(a[7]=e=>ie.region=e),placeholder:"请选择所属区域",style:{width:"100%"}},{default:p((()=>[r(Te,{label:"城区",value:"urban"}),r(Te,{label:"郊区",value:"suburban"}),r(Te,{label:"农村",value:"rural"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),r(xe,{span:12},{default:p((()=>[r(Oe,{label:"邮政编码",prop:"postcode"},{default:p((()=>[r(Se,{modelValue:ie.postcode,"onUpdate:modelValue":a[8]||(a[8]=e=>ie.postcode=e),placeholder:"请输入邮政编码"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),r(ze,{gutter:20},{default:p((()=>[r(xe,{span:12},{default:p((()=>[r(Oe,{label:"人口(万)",prop:"population"},{default:p((()=>[r(Le,{modelValue:ie.population,"onUpdate:modelValue":a[9]||(a[9]=e=>ie.population=e),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),r(xe,{span:12},{default:p((()=>[r(Oe,{label:"面积(km²)",prop:"area"},{default:p((()=>[r(Le,{modelValue:ie.area,"onUpdate:modelValue":a[10]||(a[10]=e=>ie.area=e),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),r(ze,{gutter:20},{default:p((()=>[r(xe,{span:12},{default:p((()=>[r(Oe,{label:"GDP(亿元)",prop:"gdp"},{default:p((()=>[r(Le,{modelValue:ie.gdp,"onUpdate:modelValue":a[11]||(a[11]=e=>ie.gdp=e),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),r(xe,{span:12},{default:p((()=>[r(Oe,{label:"企业数量",prop:"companies"},{default:p((()=>[r(Le,{modelValue:ie.companies,"onUpdate:modelValue":a[12]||(a[12]=e=>ie.companies=e),min:0,style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),r(ze,{gutter:20},{default:p((()=>[r(xe,{span:12},{default:p((()=>[r(Oe,{label:"区县状态",prop:"status"},{default:p((()=>[r(Ge,{modelValue:ie.status,"onUpdate:modelValue":a[13]||(a[13]=e=>ie.status=e),placeholder:"请选择区县状态",style:{width:"100%"}},{default:p((()=>[r(Te,{label:"正常",value:"normal"}),r(Te,{label:"发展中",value:"developing"}),r(Te,{label:"待开发",value:"pending"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),r(xe,{span:12},{default:p((()=>[r(Oe,{label:"成立时间",prop:"establishDate"},{default:p((()=>[r($e,{modelValue:ie.establishDate,"onUpdate:modelValue":a[14]||(a[14]=e=>ie.establishDate=e),type:"date",placeholder:"选择成立时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),r(Oe,{label:"地理位置",prop:"location"},{default:p((()=>[r(Se,{modelValue:ie.location,"onUpdate:modelValue":a[15]||(a[15]=e=>ie.location=e),placeholder:"请输入地理位置描述"},null,8,["modelValue"])])),_:1}),r(Oe,{label:"区县描述",prop:"description"},{default:p((()=>[r(Se,{modelValue:ie.description,"onUpdate:modelValue":a[16]||(a[16]=e=>ie.description=e),type:"textarea",rows:3,placeholder:"请输入区县描述"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),r(Ke,{modelValue:le.value,"onUpdate:modelValue":a[19]||(a[19]=e=>le.value=e),title:"区县详情",width:"800px"},{default:p((()=>[oe.value?(i(),n("div",W,[r(Ae,{column:2,border:""},{default:p((()=>[r(Re,{label:"区县名称"},{default:p((()=>[v(g(oe.value.name),1)])),_:1}),r(Re,{label:"行政级别"},{default:p((()=>[r(qe,{type:me(oe.value.level)},{default:p((()=>[v(g(ce(oe.value.level)),1)])),_:1},8,["type"])])),_:1}),r(Re,{label:"所属区域"},{default:p((()=>[r(qe,{type:fe(oe.value.region)},{default:p((()=>[v(g(ve(oe.value.region)),1)])),_:1},8,["type"])])),_:1}),r(Re,{label:"邮政编码"},{default:p((()=>[v(g(oe.value.postcode),1)])),_:1}),r(Re,{label:"人口"},{default:p((()=>[v(g(oe.value.population)+"万人",1)])),_:1}),r(Re,{label:"面积"},{default:p((()=>[v(g(oe.value.area)+" km²",1)])),_:1}),r(Re,{label:"GDP"},{default:p((()=>[v(g(oe.value.gdp)+"亿元",1)])),_:1}),r(Re,{label:"企业数量"},{default:p((()=>[v(g(oe.value.companies)+"家",1)])),_:1}),r(Re,{label:"区县状态"},{default:p((()=>[r(qe,{type:ge(oe.value.status)},{default:p((()=>[v(g(_e(oe.value.status)),1)])),_:1},8,["type"])])),_:1}),r(Re,{label:"成立时间"},{default:p((()=>[v(g(oe.value.establishDate),1)])),_:1}),r(Re,{label:"地理位置",span:2},{default:p((()=>[v(g(oe.value.location),1)])),_:1}),r(Re,{label:"区县描述",span:2},{default:p((()=>[v(g(oe.value.description||"暂无描述"),1)])),_:1})])),_:1})])):P("",!0)])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-b9520e4d"]]);export{Y as default};
