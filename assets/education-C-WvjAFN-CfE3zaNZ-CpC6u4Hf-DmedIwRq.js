import{I as $e,B as m,t as T,o as De,a as f,v as Oe,b as B,z as Z,R as e,q as t,_ as b,H as s,x as ee,s as le,k as I,c as Ae,d as Ee,e as y,l as ae}from"./index-f7x5kkv9.js";const Re={class:"education-container"},Fe={class:"tab-content"},He={class:"search-area"},Me={class:"action-bar"},Ne={class:"pagination-container"},Pe={class:"tab-content"},Je={class:"search-area"},Ge={class:"action-bar"},Ke={class:"pagination-container"},Le={class:"dialog-footer"},We={class:"dialog-footer"},Xe={__name:"education",setup(Ye){const H=m("exam"),$=m(!1),w=m(!1),D=m("新增试卷"),x=m(1),O=m(10),M=m(0),N=m(),A=m(!1),C=m(!1),E=m("新增试题"),U=m(1),R=m(10),P=m(0),J=m(),_=T({name:"",type:"",status:""}),v=T({content:"",type:"",difficulty:""}),g=m([{id:1,name:"2024年春季期中考试",type:"midterm",totalScore:100,duration:120,questionCount:25,createTime:"2024-03-15",status:"published",description:"春季学期期中考试试卷"},{id:2,name:"数学单元测试一",type:"unit",totalScore:50,duration:60,questionCount:15,createTime:"2024-03-10",status:"draft",description:"第一章函数单元测试"},{id:3,name:"高考模拟考试",type:"mock",totalScore:150,duration:180,questionCount:35,createTime:"2024-03-01",status:"ended",description:"高考模拟考试试卷"}]),h=m([{id:1,content:"下列哪个是JavaScript的基本数据类型？",type:"single",difficulty:"easy",score:5,subject:"计算机科学",createTime:"2024-03-15",answer:"A",analysis:"JavaScript的基本数据类型包括：Number、String、Boolean、Undefined、Null、Symbol、BigInt"},{id:2,content:"请简述面向对象编程的三大特性。",type:"short",difficulty:"medium",score:10,subject:"计算机科学",createTime:"2024-03-14",answer:"封装、继承、多态",analysis:"面向对象编程的三大特性是封装、继承和多态，这是面向对象编程的核心概念。"},{id:3,content:"1 + 1 = 2",type:"judge",difficulty:"easy",score:2,subject:"数学",createTime:"2024-03-13",answer:"正确",analysis:"1加1等于2是基本的数学运算。"}]),r=T({id:null,name:"",type:"",totalScore:100,duration:120,status:"draft",description:""}),o=T({id:null,content:"",type:"",difficulty:"",score:5,subject:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:"",analysis:""}),te={name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}],type:[{required:!0,message:"请选择试卷类型",trigger:"change"}],totalScore:[{required:!0,message:"请输入总分",trigger:"blur"}],duration:[{required:!0,message:"请输入考试时长",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},ue={content:[{required:!0,message:"请输入题目内容",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],score:[{required:!0,message:"请输入分值",trigger:"blur"}],subject:[{required:!0,message:"请输入科目",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},oe=u=>({midterm:"warning",final:"danger",mock:"info",unit:"success"})[u]||"info",de=u=>({midterm:"期中考试",final:"期末考试",mock:"模拟考试",unit:"单元测试"})[u]||"未知",ie=u=>({draft:"info",published:"success",ended:"warning"})[u]||"info",ne=u=>({draft:"草稿",published:"已发布",ended:"已结束"})[u]||"未知",re=u=>({single:"primary",multiple:"success",judge:"warning",fill:"info",short:"danger"})[u]||"info",se=u=>({single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",short:"简答题"})[u]||"未知",pe=u=>({easy:"success",medium:"warning",hard:"danger"})[u]||"info",ce=u=>({easy:"简单",medium:"中等",hard:"困难"})[u]||"未知",G=()=>{x.value=1,j()},me=()=>{Object.keys(_).forEach(u=>{_[u]=""}),G()},K=()=>{U.value=1,S()},fe=()=>{Object.keys(v).forEach(u=>{v[u]=""}),K()},be=()=>{D.value="新增试卷",Ue(),w.value=!0},ye=u=>{D.value="编辑试卷",Object.assign(r,u),w.value=!0},_e=u=>{y.info(`查看试卷：${u.name}`)},ve=u=>{y.info(`管理试卷"${u.name}"的题目`)},ge=u=>{ae.confirm(`确定要删除试卷"${u.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=g.value.findIndex(n=>n.id===u.id);l>-1&&(g.value.splice(l,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},he=()=>{E.value="新增试题",je(),C.value=!0},Ve=u=>{E.value="编辑试题",Object.assign(o,u),C.value=!0},we=u=>{y.info(`查看试题：${u.content.substring(0,20)}...`)},Ce=u=>{ae.confirm("确定要删除这道试题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=h.value.findIndex(n=>n.id===u.id);l>-1&&(h.value.splice(l,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},ke=()=>{N.value.validate(u=>{if(u){if(r.id){const l=g.value.findIndex(n=>n.id===r.id);l>-1&&Object.assign(g.value[l],{...r}),y.success("编辑成功")}else{const l=Math.max(...g.value.map(n=>n.id))+1;g.value.push({...r,id:l,questionCount:0,createTime:new Date().toISOString().split("T")[0]}),y.success("新增成功")}w.value=!1}})},xe=()=>{J.value.validate(u=>{if(u){if(o.id){const l=h.value.findIndex(n=>n.id===o.id);l>-1&&Object.assign(h.value[l],{...o}),y.success("编辑成功")}else{const l=Math.max(...h.value.map(n=>n.id))+1;h.value.push({...o,id:l,createTime:new Date().toISOString().split("T")[0]}),y.success("新增成功")}C.value=!1}})},Ue=()=>{Object.keys(r).forEach(u=>{r[u]=u==="totalScore"?100:u==="duration"?120:u==="status"?"draft":""}),r.id=null},je=()=>{Object.keys(o).forEach(u=>{o[u]=u==="score"?5:""}),o.id=null},Se=u=>{O.value=u,j()},ze=u=>{x.value=u,j()},qe=u=>{R.value=u,S()},Te=u=>{U.value=u,S()},j=()=>{$.value=!0,setTimeout(()=>{$.value=!1,M.value=g.value.length},500)},S=()=>{A.value=!0,setTimeout(()=>{A.value=!1,P.value=h.value.length},500)};return De(()=>{j(),S()}),(u,l)=>{const n=f("el-input"),i=f("el-form-item"),d=f("el-option"),V=f("el-select"),p=f("el-button"),z=f("el-form"),c=f("el-table-column"),q=f("el-tag"),L=f("el-table"),W=f("el-pagination"),X=f("el-tab-pane"),Be=f("el-tabs"),Ie=f("el-card"),F=f("el-input-number"),Y=f("el-dialog"),Q=Oe("loading");return B(),Z("div",Re,[e(Ie,{class:"box-card"},{header:t(()=>l[32]||(l[32]=[b("div",{class:"card-header"},[b("span",null,"教育管理")],-1)])),default:t(()=>[e(Be,{modelValue:H.value,"onUpdate:modelValue":l[10]||(l[10]=a=>H.value=a),type:"card",class:"education-tabs"},{default:t(()=>[e(X,{label:"试卷管理",name:"exam"},{default:t(()=>[b("div",Fe,[b("div",He,[e(z,{inline:!0,model:_,class:"search-form"},{default:t(()=>[e(i,{label:"试卷名称"},{default:t(()=>[e(n,{modelValue:_.name,"onUpdate:modelValue":l[0]||(l[0]=a=>_.name=a),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"试卷类型"},{default:t(()=>[e(V,{modelValue:_.type,"onUpdate:modelValue":l[1]||(l[1]=a=>_.type=a),placeholder:"请选择试卷类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"期中考试",value:"midterm"}),e(d,{label:"期末考试",value:"final"}),e(d,{label:"模拟考试",value:"mock"}),e(d,{label:"单元测试",value:"unit"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"状态"},{default:t(()=>[e(V,{modelValue:_.status,"onUpdate:modelValue":l[2]||(l[2]=a=>_.status=a),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"草稿",value:"draft"}),e(d,{label:"已发布",value:"published"}),e(d,{label:"已结束",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(p,{type:"primary",onClick:G},{default:t(()=>l[33]||(l[33]=[s("搜索")])),_:1,__:[33]}),e(p,{onClick:me},{default:t(()=>l[34]||(l[34]=[s("重置")])),_:1,__:[34]})]),_:1})]),_:1},8,["model"])]),b("div",Me,[e(p,{type:"primary",onClick:be},{default:t(()=>l[35]||(l[35]=[s("新增试卷")])),_:1,__:[35]})]),ee((B(),le(L,{data:g.value,style:{width:"100%"}},{default:t(()=>[e(c,{prop:"id",label:"ID",width:"80"}),e(c,{prop:"name",label:"试卷名称"}),e(c,{prop:"type",label:"试卷类型",width:"120"},{default:t(a=>[e(q,{type:oe(a.row.type)},{default:t(()=>[s(I(de(a.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"totalScore",label:"总分",width:"80"}),e(c,{prop:"duration",label:"考试时长(分钟)",width:"120"}),e(c,{prop:"questionCount",label:"题目数量",width:"100"}),e(c,{prop:"createTime",label:"创建时间",width:"120"}),e(c,{prop:"status",label:"状态",width:"100"},{default:t(a=>[e(q,{type:ie(a.row.status)},{default:t(()=>[s(I(ne(a.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(c,{label:"操作",width:"250",fixed:"right"},{default:t(a=>[e(p,{size:"small",onClick:k=>ye(a.row)},{default:t(()=>l[36]||(l[36]=[s("编辑")])),_:2,__:[36]},1032,["onClick"]),e(p,{size:"small",type:"success",onClick:k=>_e(a.row)},{default:t(()=>l[37]||(l[37]=[s("查看")])),_:2,__:[37]},1032,["onClick"]),e(p,{size:"small",type:"warning",onClick:k=>ve(a.row)},{default:t(()=>l[38]||(l[38]=[s("管理题目")])),_:2,__:[38]},1032,["onClick"]),e(p,{size:"small",type:"danger",onClick:k=>ge(a.row)},{default:t(()=>l[39]||(l[39]=[s("删除")])),_:2,__:[39]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,$.value]]),b("div",Ne,[e(W,{"current-page":x.value,"onUpdate:currentPage":l[3]||(l[3]=a=>x.value=a),"page-size":O.value,"onUpdate:pageSize":l[4]||(l[4]=a=>O.value=a),"page-sizes":[10,20,50,100],total:M.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Se,onCurrentChange:ze},null,8,["current-page","page-size","total"])])])]),_:1}),e(X,{label:"试题管理",name:"question"},{default:t(()=>[b("div",Pe,[b("div",Je,[e(z,{inline:!0,model:v,class:"search-form"},{default:t(()=>[e(i,{label:"题目内容"},{default:t(()=>[e(n,{modelValue:v.content,"onUpdate:modelValue":l[5]||(l[5]=a=>v.content=a),placeholder:"请输入题目内容",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"题目类型"},{default:t(()=>[e(V,{modelValue:v.type,"onUpdate:modelValue":l[6]||(l[6]=a=>v.type=a),placeholder:"请选择题目类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"单选题",value:"single"}),e(d,{label:"多选题",value:"multiple"}),e(d,{label:"判断题",value:"judge"}),e(d,{label:"填空题",value:"fill"}),e(d,{label:"简答题",value:"short"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"难度"},{default:t(()=>[e(V,{modelValue:v.difficulty,"onUpdate:modelValue":l[7]||(l[7]=a=>v.difficulty=a),placeholder:"请选择难度",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"简单",value:"easy"}),e(d,{label:"中等",value:"medium"}),e(d,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(p,{type:"primary",onClick:K},{default:t(()=>l[40]||(l[40]=[s("搜索")])),_:1,__:[40]}),e(p,{onClick:fe},{default:t(()=>l[41]||(l[41]=[s("重置")])),_:1,__:[41]})]),_:1})]),_:1},8,["model"])]),b("div",Ge,[e(p,{type:"primary",onClick:he},{default:t(()=>l[42]||(l[42]=[s("新增试题")])),_:1,__:[42]})]),ee((B(),le(L,{data:h.value,style:{width:"100%"}},{default:t(()=>[e(c,{prop:"id",label:"ID",width:"80"}),e(c,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),e(c,{prop:"type",label:"题目类型",width:"100"},{default:t(a=>[e(q,{type:re(a.row.type)},{default:t(()=>[s(I(se(a.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"difficulty",label:"难度",width:"80"},{default:t(a=>[e(q,{type:pe(a.row.difficulty)},{default:t(()=>[s(I(ce(a.row.difficulty)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"score",label:"分值",width:"80"}),e(c,{prop:"subject",label:"科目",width:"100"}),e(c,{prop:"createTime",label:"创建时间",width:"120"}),e(c,{label:"操作",width:"200",fixed:"right"},{default:t(a=>[e(p,{size:"small",onClick:k=>Ve(a.row)},{default:t(()=>l[43]||(l[43]=[s("编辑")])),_:2,__:[43]},1032,["onClick"]),e(p,{size:"small",type:"success",onClick:k=>we(a.row)},{default:t(()=>l[44]||(l[44]=[s("查看")])),_:2,__:[44]},1032,["onClick"]),e(p,{size:"small",type:"danger",onClick:k=>Ce(a.row)},{default:t(()=>l[45]||(l[45]=[s("删除")])),_:2,__:[45]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,A.value]]),b("div",Ke,[e(W,{"current-page":U.value,"onUpdate:currentPage":l[8]||(l[8]=a=>U.value=a),"page-size":R.value,"onUpdate:pageSize":l[9]||(l[9]=a=>R.value=a),"page-sizes":[10,20,50,100],total:P.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:qe,onCurrentChange:Te},null,8,["current-page","page-size","total"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(Y,{modelValue:w.value,"onUpdate:modelValue":l[18]||(l[18]=a=>w.value=a),title:D.value,width:"700px"},{footer:t(()=>[b("span",Le,[e(p,{onClick:l[17]||(l[17]=a=>w.value=!1)},{default:t(()=>l[46]||(l[46]=[s("取消")])),_:1,__:[46]}),e(p,{type:"primary",onClick:ke},{default:t(()=>l[47]||(l[47]=[s("确定")])),_:1,__:[47]})])]),default:t(()=>[e(z,{model:r,rules:te,ref_key:"examFormRef",ref:N,"label-width":"100px"},{default:t(()=>[e(i,{label:"试卷名称",prop:"name"},{default:t(()=>[e(n,{modelValue:r.name,"onUpdate:modelValue":l[11]||(l[11]=a=>r.name=a),placeholder:"请输入试卷名称"},null,8,["modelValue"])]),_:1}),e(i,{label:"试卷类型",prop:"type"},{default:t(()=>[e(V,{modelValue:r.type,"onUpdate:modelValue":l[12]||(l[12]=a=>r.type=a),placeholder:"请选择试卷类型",style:{width:"100%"}},{default:t(()=>[e(d,{label:"期中考试",value:"midterm"}),e(d,{label:"期末考试",value:"final"}),e(d,{label:"模拟考试",value:"mock"}),e(d,{label:"单元测试",value:"unit"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"总分",prop:"totalScore"},{default:t(()=>[e(F,{modelValue:r.totalScore,"onUpdate:modelValue":l[13]||(l[13]=a=>r.totalScore=a),min:0,max:200,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"考试时长(分钟)",prop:"duration"},{default:t(()=>[e(F,{modelValue:r.duration,"onUpdate:modelValue":l[14]||(l[14]=a=>r.duration=a),min:30,max:300,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"状态",prop:"status"},{default:t(()=>[e(V,{modelValue:r.status,"onUpdate:modelValue":l[15]||(l[15]=a=>r.status=a),placeholder:"请选择状态",style:{width:"100%"}},{default:t(()=>[e(d,{label:"草稿",value:"draft"}),e(d,{label:"已发布",value:"published"}),e(d,{label:"已结束",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"试卷说明",prop:"description"},{default:t(()=>[e(n,{modelValue:r.description,"onUpdate:modelValue":l[16]||(l[16]=a=>r.description=a),type:"textarea",rows:3,placeholder:"请输入试卷说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(Y,{modelValue:C.value,"onUpdate:modelValue":l[31]||(l[31]=a=>C.value=a),title:E.value,width:"800px"},{footer:t(()=>[b("span",We,[e(p,{onClick:l[30]||(l[30]=a=>C.value=!1)},{default:t(()=>l[48]||(l[48]=[s("取消")])),_:1,__:[48]}),e(p,{type:"primary",onClick:xe},{default:t(()=>l[49]||(l[49]=[s("确定")])),_:1,__:[49]})])]),default:t(()=>[e(z,{model:o,rules:ue,ref_key:"questionFormRef",ref:J,"label-width":"100px"},{default:t(()=>[e(i,{label:"题目内容",prop:"content"},{default:t(()=>[e(n,{modelValue:o.content,"onUpdate:modelValue":l[19]||(l[19]=a=>o.content=a),type:"textarea",rows:4,placeholder:"请输入题目内容"},null,8,["modelValue"])]),_:1}),e(i,{label:"题目类型",prop:"type"},{default:t(()=>[e(V,{modelValue:o.type,"onUpdate:modelValue":l[20]||(l[20]=a=>o.type=a),placeholder:"请选择题目类型",style:{width:"100%"}},{default:t(()=>[e(d,{label:"单选题",value:"single"}),e(d,{label:"多选题",value:"multiple"}),e(d,{label:"判断题",value:"judge"}),e(d,{label:"填空题",value:"fill"}),e(d,{label:"简答题",value:"short"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"难度",prop:"difficulty"},{default:t(()=>[e(V,{modelValue:o.difficulty,"onUpdate:modelValue":l[21]||(l[21]=a=>o.difficulty=a),placeholder:"请选择难度",style:{width:"100%"}},{default:t(()=>[e(d,{label:"简单",value:"easy"}),e(d,{label:"中等",value:"medium"}),e(d,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"分值",prop:"score"},{default:t(()=>[e(F,{modelValue:o.score,"onUpdate:modelValue":l[22]||(l[22]=a=>o.score=a),min:1,max:50,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"科目",prop:"subject"},{default:t(()=>[e(n,{modelValue:o.subject,"onUpdate:modelValue":l[23]||(l[23]=a=>o.subject=a),placeholder:"请输入科目"},null,8,["modelValue"])]),_:1}),o.type==="single"||o.type==="multiple"?(B(),Z(Ae,{key:0},[e(i,{label:"选项A",prop:"optionA"},{default:t(()=>[e(n,{modelValue:o.optionA,"onUpdate:modelValue":l[24]||(l[24]=a=>o.optionA=a),placeholder:"请输入选项A"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项B",prop:"optionB"},{default:t(()=>[e(n,{modelValue:o.optionB,"onUpdate:modelValue":l[25]||(l[25]=a=>o.optionB=a),placeholder:"请输入选项B"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项C",prop:"optionC"},{default:t(()=>[e(n,{modelValue:o.optionC,"onUpdate:modelValue":l[26]||(l[26]=a=>o.optionC=a),placeholder:"请输入选项C"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项D",prop:"optionD"},{default:t(()=>[e(n,{modelValue:o.optionD,"onUpdate:modelValue":l[27]||(l[27]=a=>o.optionD=a),placeholder:"请输入选项D"},null,8,["modelValue"])]),_:1})],64)):Ee("",!0),e(i,{label:"正确答案",prop:"answer"},{default:t(()=>[e(n,{modelValue:o.answer,"onUpdate:modelValue":l[28]||(l[28]=a=>o.answer=a),placeholder:"请输入正确答案"},null,8,["modelValue"])]),_:1}),e(i,{label:"解析",prop:"analysis"},{default:t(()=>[e(n,{modelValue:o.analysis,"onUpdate:modelValue":l[29]||(l[29]=a=>o.analysis=a),type:"textarea",rows:3,placeholder:"请输入题目解析"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},Ze=$e(Xe,[["__scopeId","data-v-e0c16c50"]]);export{Ze as default};
