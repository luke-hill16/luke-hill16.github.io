import{C as e,V as a,o as l,B as t,b as n,M as s,k as d,c as i,W as o,e as u,a as r,i as p,f as m,z as c,J as _,g as y}from"./index-DyjvvSaJ.js";const f={class:"employee-list-container"},w={class:"header"},h=["onClick"],v={key:0,class:"employee-detail"},k={class:"card-header"},b={class:"detail-item"},g={class:"detail-item"},C={class:"detail-item"},j={class:"detail-item"},z={class:"detail-item"},x={class:"detail-item"},R={class:"card-header"},B={class:"header-actions"},T=e({__name:"employee",setup(e){const T=[{uid:"emp001",realname:"张三",email:"zhangsan@company.com",telephone:"13800138001",department:{name:"技术部"},status:1,date_joined:"2023-01-15"},{uid:"emp002",realname:"李四",email:"lisi@company.com",telephone:"13800138002",department:{name:"人事部"},status:1,date_joined:"2023-02-20"},{uid:"emp003",realname:"王五",email:"wangwu@company.com",telephone:"13800138003",department:{name:"财务部"},status:2,date_joined:"2023-03-10"},{uid:"emp004",realname:"赵六",email:"zhaoliu@company.com",telephone:"13800138004",department:{name:"市场部"},status:1,date_joined:"2023-04-05"},{uid:"emp005",realname:"钱七",email:"qianqi@company.com",telephone:"13800138005",department:{name:"技术部"},status:3,date_joined:"2023-05-12"},{uid:"emp006",realname:"孙八",email:"sunba@company.com",telephone:"13800138006",department:{name:"人事部"},status:1,date_joined:"2023-06-18"},{uid:"emp007",realname:"周九",email:"zhoujiu@company.com",telephone:"13800138007",department:{name:"财务部"},status:1,date_joined:"2023-07-22"},{uid:"emp008",realname:"吴十",email:"wushi@company.com",telephone:"13800138008",department:{name:"市场部"},status:2,date_joined:"2023-08-30"}],V=a([]),W=a(!1),q=a(null),$=async()=>{try{await new Promise((e=>setTimeout(e,500))),V.value=T,_.success("员工列表加载成功")}catch{_.error("获取员工列表失败")}},D=e=>{_.info(`编辑员工: ${e.realname}`)};return l($),(e,a)=>{const l=t("el-button"),T=t("el-table-column"),I=t("el-tag"),J=t("el-table"),P=t("el-card"),U=t("el-col"),A=t("el-row"),E=t("el-dialog");return n(),s(c,null,[d("div",f,[i(P,null,{default:o((()=>[d("div",w,[a[3]||(a[3]=d("span",null,"员工列表",-1)),i(l,{type:"primary",onClick:$,size:"small",style:{float:"right"}},{default:o((()=>a[2]||(a[2]=[u("刷新")]))),_:1,__:[2]})]),i(J,{data:V.value,style:{width:"100%","margin-top":"20px"},fit:"true"},{default:o((()=>[i(T,{prop:"realname",label:"姓名","min-width":"120"},{default:o((e=>[d("span",{class:"clickable-name",onClick:a=>(e=>{q.value=e,W.value=!0})(e.row)},r(e.row.realname),9,h)])),_:1}),i(T,{prop:"email",label:"邮箱","min-width":"200"}),i(T,{prop:"department.name",label:"部门","min-width":"120"}),i(T,{prop:"status",label:"状态","min-width":"100"},{default:o((e=>[1===e.row.status?(n(),p(I,{key:0,type:"success"},{default:o((()=>a[4]||(a[4]=[u("已激活")]))),_:1,__:[4]})):2===e.row.status?(n(),p(I,{key:1,type:"info"},{default:o((()=>a[5]||(a[5]=[u("未激活")]))),_:1,__:[5]})):(n(),p(I,{key:2,type:"danger"},{default:o((()=>a[6]||(a[6]=[u("锁定")]))),_:1,__:[6]}))])),_:1}),i(T,{prop:"date_joined",label:"入职时间","min-width":"120"}),i(T,{label:"操作","min-width":"200"},{default:o((e=>[i(l,{size:"small",type:"primary",onClick:a=>D(e.row)},{default:o((()=>a[7]||(a[7]=[u("编辑")]))),_:2,__:[7]},1032,["onClick"]),i(l,{size:"small",type:"danger",onClick:a=>(async e=>{try{await y.confirm(`确定要删除员工 ${e.realname} 吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),V.value=V.value.filter((a=>a.uid!==e.uid)),_.success("删除成功")}catch{_.info("已取消删除")}})(e.row)},{default:o((()=>a[8]||(a[8]=[u("删除")]))),_:2,__:[8]},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})]),i(E,{modelValue:W.value,"onUpdate:modelValue":a[1]||(a[1]=e=>W.value=e),title:"员工详情",width:"900px","before-close":e.handleClose},{default:o((()=>[q.value?(n(),s("div",v,[i(P,{class:"info-card",shadow:"never"},{header:o((()=>[d("div",k,[a[10]||(a[10]=d("span",null,"基本信息",-1)),i(l,{type:"primary",size:"small",onClick:a[0]||(a[0]=e=>D(q.value))},{default:o((()=>a[9]||(a[9]=[u("编辑信息")]))),_:1,__:[9]})])])),default:o((()=>[i(A,{gutter:20},{default:o((()=>[i(U,{span:8},{default:o((()=>[d("div",b,[a[11]||(a[11]=d("label",null,"姓名：",-1)),d("span",null,r(q.value.realname),1)])])),_:1}),i(U,{span:8},{default:o((()=>[d("div",g,[a[12]||(a[12]=d("label",null,"邮箱：",-1)),d("span",null,r(q.value.email),1)])])),_:1}),i(U,{span:8},{default:o((()=>[d("div",C,[a[13]||(a[13]=d("label",null,"电话：",-1)),d("span",null,r(q.value.telephone),1)])])),_:1})])),_:1}),i(A,{gutter:20},{default:o((()=>[i(U,{span:8},{default:o((()=>{var e;return[d("div",j,[a[14]||(a[14]=d("label",null,"部门：",-1)),d("span",null,r(null==(e=q.value.department)?void 0:e.name),1)])]})),_:1}),i(U,{span:8},{default:o((()=>[d("div",z,[a[18]||(a[18]=d("label",null,"状态：",-1)),1===q.value.status?(n(),p(I,{key:0,type:"success"},{default:o((()=>a[15]||(a[15]=[u("已激活")]))),_:1,__:[15]})):2===q.value.status?(n(),p(I,{key:1,type:"info"},{default:o((()=>a[16]||(a[16]=[u("未激活")]))),_:1,__:[16]})):(n(),p(I,{key:2,type:"danger"},{default:o((()=>a[17]||(a[17]=[u("锁定")]))),_:1,__:[17]}))])])),_:1}),i(U,{span:8},{default:o((()=>[d("div",x,[a[19]||(a[19]=d("label",null,"入职时间：",-1)),d("span",null,r(q.value.date_joined),1)])])),_:1})])),_:1})])),_:1}),i(P,{class:"work-record-card",shadow:"never"},{header:o((()=>[d("div",R,[a[22]||(a[22]=d("span",null,"工作记录",-1)),d("div",B,[i(l,{type:"success",size:"small",onClick:e.addWorkRecord},{default:o((()=>a[20]||(a[20]=[u("添加记录")]))),_:1,__:[20]},8,["onClick"]),i(l,{type:"primary",size:"small",onClick:e.refreshWorkRecords},{default:o((()=>a[21]||(a[21]=[u("刷新")]))),_:1,__:[21]},8,["onClick"])])])])),default:o((()=>[i(J,{data:e.workRecords,style:{width:"100%"},stripe:""},{default:o((()=>[i(T,{prop:"date",label:"日期",width:"120"}),i(T,{prop:"type",label:"类型",width:"100"},{default:o((e=>["请假"===e.row.type?(n(),p(I,{key:0,type:"warning"},{default:o((()=>[u(r(e.row.type),1)])),_:2},1024)):"加班"===e.row.type?(n(),p(I,{key:1,type:"danger"},{default:o((()=>[u(r(e.row.type),1)])),_:2},1024)):(n(),p(I,{key:2,type:"success"},{default:o((()=>[u(r(e.row.type),1)])),_:2},1024))])),_:1}),i(T,{prop:"title",label:"标题","min-width":"150"}),i(T,{prop:"description",label:"描述","min-width":"200"}),i(T,{prop:"status",label:"状态",width:"100"},{default:o((e=>["已批准"===e.row.status?(n(),p(I,{key:0,type:"success"},{default:o((()=>[u(r(e.row.status),1)])),_:2},1024)):"待审批"===e.row.status?(n(),p(I,{key:1,type:"warning"},{default:o((()=>[u(r(e.row.status),1)])),_:2},1024)):(n(),p(I,{key:2,type:"danger"},{default:o((()=>[u(r(e.row.status),1)])),_:2},1024))])),_:1}),i(T,{prop:"approver",label:"审批人",width:"100"}),i(T,{label:"操作",width:"120",fixed:"right"},{default:o((t=>[i(l,{size:"small",type:"primary",onClick:a=>e.viewRecordDetail(t.row)},{default:o((()=>a[23]||(a[23]=[u("查看")]))),_:2,__:[23]},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})])):m("",!0)])),_:1},8,["modelValue","before-close"])],64)}}},[["__scopeId","data-v-0e3be16b"]]);export{T as default};
