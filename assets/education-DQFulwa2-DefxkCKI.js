import{d as e,S as l,r as a,Z as t,s as u,t as o,z as d,I as i,j as n,c as r,P as s,q as p,x as c,N as m,X as f,b as v,$ as b,M as y,U as _}from"./index-BEF7uh_8.js";const g={class:"education-container"},h={class:"tab-content"},V={class:"search-area"},w={class:"action-bar"},C={class:"pagination-container"},k={class:"tab-content"},x={class:"search-area"},U={class:"action-bar"},j={class:"pagination-container"},S={class:"dialog-footer"},z={class:"dialog-footer"},q=e({__name:"education",setup(e){const q=l("exam"),T=l(!1),B=l(!1),I=l("新增试卷"),D=l(1),O=l(10),A=l(0),$=l(),E=l(!1),M=l(!1),N=l("新增试题"),P=l(1),F=l(10),J=l(0),R=l(),Z=a({name:"",type:"",status:""}),G=a({content:"",type:"",difficulty:""}),H=l([{id:1,name:"2024年春季期中考试",type:"midterm",totalScore:100,duration:120,questionCount:25,createTime:"2024-03-15",status:"published",description:"春季学期期中考试试卷"},{id:2,name:"数学单元测试一",type:"unit",totalScore:50,duration:60,questionCount:15,createTime:"2024-03-10",status:"draft",description:"第一章函数单元测试"},{id:3,name:"高考模拟考试",type:"mock",totalScore:150,duration:180,questionCount:35,createTime:"2024-03-01",status:"ended",description:"高考模拟考试试卷"}]),K=l([{id:1,content:"下列哪个是JavaScript的基本数据类型？",type:"single",difficulty:"easy",score:5,subject:"计算机科学",createTime:"2024-03-15",answer:"A",analysis:"JavaScript的基本数据类型包括：Number、String、Boolean、Undefined、Null、Symbol、BigInt"},{id:2,content:"请简述面向对象编程的三大特性。",type:"short",difficulty:"medium",score:10,subject:"计算机科学",createTime:"2024-03-14",answer:"封装、继承、多态",analysis:"面向对象编程的三大特性是封装、继承和多态，这是面向对象编程的核心概念。"},{id:3,content:"1 + 1 = 2",type:"judge",difficulty:"easy",score:2,subject:"数学",createTime:"2024-03-13",answer:"正确",analysis:"1加1等于2是基本的数学运算。"}]),L=a({id:null,name:"",type:"",totalScore:100,duration:120,status:"draft",description:""}),Q=a({id:null,content:"",type:"",difficulty:"",score:5,subject:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:"",analysis:""}),W={name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}],type:[{required:!0,message:"请选择试卷类型",trigger:"change"}],totalScore:[{required:!0,message:"请输入总分",trigger:"blur"}],duration:[{required:!0,message:"请输入考试时长",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},X={content:[{required:!0,message:"请输入题目内容",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],score:[{required:!0,message:"请输入分值",trigger:"blur"}],subject:[{required:!0,message:"请输入科目",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},Y=e=>({midterm:"期中考试",final:"期末考试",mock:"模拟考试",unit:"单元测试"}[e]||"未知"),ee=e=>({draft:"草稿",published:"已发布",ended:"已结束"}[e]||"未知"),le=e=>({single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",short:"简答题"}[e]||"未知"),ae=e=>({easy:"简单",medium:"中等",hard:"困难"}[e]||"未知"),te=()=>{D.value=1,ye()},ue=()=>{Object.keys(Z).forEach((e=>{Z[e]=""})),te()},oe=()=>{P.value=1,_e()},de=()=>{Object.keys(G).forEach((e=>{G[e]=""})),oe()},ie=()=>{I.value="新增试卷",pe(),B.value=!0},ne=()=>{N.value="新增试题",ce(),M.value=!0},re=()=>{$.value.validate((e=>{if(e){if(L.id){const e=H.value.findIndex((e=>e.id===L.id));e>-1&&Object.assign(H.value[e],{...L}),v.success("编辑成功")}else{const e=Math.max(...H.value.map((e=>e.id)))+1;H.value.push({...L,id:e,questionCount:0,createTime:(new Date).toISOString().split("T")[0]}),v.success("新增成功")}B.value=!1}}))},se=()=>{R.value.validate((e=>{if(e){if(Q.id){const e=K.value.findIndex((e=>e.id===Q.id));e>-1&&Object.assign(K.value[e],{...Q}),v.success("编辑成功")}else{const e=Math.max(...K.value.map((e=>e.id)))+1;K.value.push({...Q,id:e,createTime:(new Date).toISOString().split("T")[0]}),v.success("新增成功")}M.value=!1}}))},pe=()=>{Object.keys(L).forEach((e=>{L[e]="totalScore"===e?100:"duration"===e?120:"status"===e?"draft":""})),L.id=null},ce=()=>{Object.keys(Q).forEach((e=>{Q[e]="score"===e?5:""})),Q.id=null},me=e=>{O.value=e,ye()},fe=e=>{D.value=e,ye()},ve=e=>{F.value=e,_e()},be=e=>{P.value=e,_e()},ye=()=>{T.value=!0,setTimeout((()=>{T.value=!1,A.value=H.value.length}),500)},_e=()=>{E.value=!0,setTimeout((()=>{E.value=!1,J.value=K.value.length}),500)};return t((()=>{ye(),_e()})),(e,l)=>{const a=u("el-input"),t=u("el-form-item"),pe=u("el-option"),ce=u("el-select"),ye=u("el-button"),_e=u("el-form"),ge=u("el-table-column"),he=u("el-tag"),Ve=u("el-table"),we=u("el-pagination"),Ce=u("el-tab-pane"),ke=u("el-tabs"),xe=u("el-card"),Ue=u("el-input-number"),je=u("el-dialog"),Se=o("loading");return d(),i("div",g,[n(xe,{class:"box-card"},{header:r((()=>l[32]||(l[32]=[s("div",{class:"card-header"},[s("span",null,"教育管理")],-1)]))),default:r((()=>[n(ke,{modelValue:q.value,"onUpdate:modelValue":l[10]||(l[10]=e=>q.value=e),type:"card",class:"education-tabs"},{default:r((()=>[n(Ce,{label:"试卷管理",name:"exam"},{default:r((()=>[s("div",h,[s("div",V,[n(_e,{inline:!0,model:Z,class:"search-form"},{default:r((()=>[n(t,{label:"试卷名称"},{default:r((()=>[n(a,{modelValue:Z.name,"onUpdate:modelValue":l[0]||(l[0]=e=>Z.name=e),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])])),_:1}),n(t,{label:"试卷类型"},{default:r((()=>[n(ce,{modelValue:Z.type,"onUpdate:modelValue":l[1]||(l[1]=e=>Z.type=e),placeholder:"请选择试卷类型",clearable:"",style:{width:"180px"}},{default:r((()=>[n(pe,{label:"期中考试",value:"midterm"}),n(pe,{label:"期末考试",value:"final"}),n(pe,{label:"模拟考试",value:"mock"}),n(pe,{label:"单元测试",value:"unit"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"状态"},{default:r((()=>[n(ce,{modelValue:Z.status,"onUpdate:modelValue":l[2]||(l[2]=e=>Z.status=e),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:r((()=>[n(pe,{label:"草稿",value:"draft"}),n(pe,{label:"已发布",value:"published"}),n(pe,{label:"已结束",value:"ended"})])),_:1},8,["modelValue"])])),_:1}),n(t,null,{default:r((()=>[n(ye,{type:"primary",onClick:te},{default:r((()=>l[33]||(l[33]=[p("搜索")]))),_:1,__:[33]}),n(ye,{onClick:ue},{default:r((()=>l[34]||(l[34]=[p("重置")]))),_:1,__:[34]})])),_:1})])),_:1},8,["model"])]),s("div",w,[n(ye,{type:"primary",onClick:ie},{default:r((()=>l[35]||(l[35]=[p("新增试卷")]))),_:1,__:[35]})]),c((d(),m(Ve,{data:H.value,style:{width:"100%"}},{default:r((()=>[n(ge,{prop:"id",label:"ID",width:"80"}),n(ge,{prop:"name",label:"试卷名称"}),n(ge,{prop:"type",label:"试卷类型",width:"120"},{default:r((e=>{return[n(he,{type:(l=e.row.type,{midterm:"warning",final:"danger",mock:"info",unit:"success"}[l]||"info")},{default:r((()=>[p(f(Y(e.row.type)),1)])),_:2},1032,["type"])];var l})),_:1}),n(ge,{prop:"totalScore",label:"总分",width:"80"}),n(ge,{prop:"duration",label:"考试时长(分钟)",width:"120"}),n(ge,{prop:"questionCount",label:"题目数量",width:"100"}),n(ge,{prop:"createTime",label:"创建时间",width:"120"}),n(ge,{prop:"status",label:"状态",width:"100"},{default:r((e=>{return[n(he,{type:(l=e.row.status,{draft:"info",published:"success",ended:"warning"}[l]||"info")},{default:r((()=>[p(f(ee(e.row.status)),1)])),_:2},1032,["type"])];var l})),_:1}),n(ge,{label:"操作",width:"250",fixed:"right"},{default:r((e=>[n(ye,{size:"small",onClick:l=>{return a=e.row,I.value="编辑试卷",Object.assign(L,a),void(B.value=!0);var a}},{default:r((()=>l[36]||(l[36]=[p("编辑")]))),_:2,__:[36]},1032,["onClick"]),n(ye,{size:"small",type:"success",onClick:l=>{return a=e.row,void v.info(`查看试卷：${a.name}`);var a}},{default:r((()=>l[37]||(l[37]=[p("查看")]))),_:2,__:[37]},1032,["onClick"]),n(ye,{size:"small",type:"warning",onClick:l=>{return a=e.row,void v.info(`管理试卷"${a.name}"的题目`);var a}},{default:r((()=>l[38]||(l[38]=[p("管理题目")]))),_:2,__:[38]},1032,["onClick"]),n(ye,{size:"small",type:"danger",onClick:l=>{return a=e.row,void b.confirm(`确定要删除试卷"${a.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=H.value.findIndex((e=>e.id===a.id));e>-1&&(H.value.splice(e,1),v.success("删除成功"))})).catch((()=>{v.info("已取消删除")}));var a}},{default:r((()=>l[39]||(l[39]=[p("删除")]))),_:2,__:[39]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Se,T.value]]),s("div",C,[n(we,{"current-page":D.value,"onUpdate:currentPage":l[3]||(l[3]=e=>D.value=e),"page-size":O.value,"onUpdate:pageSize":l[4]||(l[4]=e=>O.value=e),"page-sizes":[10,20,50,100],total:A.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:me,onCurrentChange:fe},null,8,["current-page","page-size","total"])])])])),_:1}),n(Ce,{label:"试题管理",name:"question"},{default:r((()=>[s("div",k,[s("div",x,[n(_e,{inline:!0,model:G,class:"search-form"},{default:r((()=>[n(t,{label:"题目内容"},{default:r((()=>[n(a,{modelValue:G.content,"onUpdate:modelValue":l[5]||(l[5]=e=>G.content=e),placeholder:"请输入题目内容",clearable:""},null,8,["modelValue"])])),_:1}),n(t,{label:"题目类型"},{default:r((()=>[n(ce,{modelValue:G.type,"onUpdate:modelValue":l[6]||(l[6]=e=>G.type=e),placeholder:"请选择题目类型",clearable:"",style:{width:"180px"}},{default:r((()=>[n(pe,{label:"单选题",value:"single"}),n(pe,{label:"多选题",value:"multiple"}),n(pe,{label:"判断题",value:"judge"}),n(pe,{label:"填空题",value:"fill"}),n(pe,{label:"简答题",value:"short"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"难度"},{default:r((()=>[n(ce,{modelValue:G.difficulty,"onUpdate:modelValue":l[7]||(l[7]=e=>G.difficulty=e),placeholder:"请选择难度",clearable:"",style:{width:"180px"}},{default:r((()=>[n(pe,{label:"简单",value:"easy"}),n(pe,{label:"中等",value:"medium"}),n(pe,{label:"困难",value:"hard"})])),_:1},8,["modelValue"])])),_:1}),n(t,null,{default:r((()=>[n(ye,{type:"primary",onClick:oe},{default:r((()=>l[40]||(l[40]=[p("搜索")]))),_:1,__:[40]}),n(ye,{onClick:de},{default:r((()=>l[41]||(l[41]=[p("重置")]))),_:1,__:[41]})])),_:1})])),_:1},8,["model"])]),s("div",U,[n(ye,{type:"primary",onClick:ne},{default:r((()=>l[42]||(l[42]=[p("新增试题")]))),_:1,__:[42]})]),c((d(),m(Ve,{data:K.value,style:{width:"100%"}},{default:r((()=>[n(ge,{prop:"id",label:"ID",width:"80"}),n(ge,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),n(ge,{prop:"type",label:"题目类型",width:"100"},{default:r((e=>{return[n(he,{type:(l=e.row.type,{single:"primary",multiple:"success",judge:"warning",fill:"info",short:"danger"}[l]||"info")},{default:r((()=>[p(f(le(e.row.type)),1)])),_:2},1032,["type"])];var l})),_:1}),n(ge,{prop:"difficulty",label:"难度",width:"80"},{default:r((e=>{return[n(he,{type:(l=e.row.difficulty,{easy:"success",medium:"warning",hard:"danger"}[l]||"info")},{default:r((()=>[p(f(ae(e.row.difficulty)),1)])),_:2},1032,["type"])];var l})),_:1}),n(ge,{prop:"score",label:"分值",width:"80"}),n(ge,{prop:"subject",label:"科目",width:"100"}),n(ge,{prop:"createTime",label:"创建时间",width:"120"}),n(ge,{label:"操作",width:"200",fixed:"right"},{default:r((e=>[n(ye,{size:"small",onClick:l=>{return a=e.row,N.value="编辑试题",Object.assign(Q,a),void(M.value=!0);var a}},{default:r((()=>l[43]||(l[43]=[p("编辑")]))),_:2,__:[43]},1032,["onClick"]),n(ye,{size:"small",type:"success",onClick:l=>{return a=e.row,void v.info(`查看试题：${a.content.substring(0,20)}...`);var a}},{default:r((()=>l[44]||(l[44]=[p("查看")]))),_:2,__:[44]},1032,["onClick"]),n(ye,{size:"small",type:"danger",onClick:l=>{return a=e.row,void b.confirm("确定要删除这道试题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=K.value.findIndex((e=>e.id===a.id));e>-1&&(K.value.splice(e,1),v.success("删除成功"))})).catch((()=>{v.info("已取消删除")}));var a}},{default:r((()=>l[45]||(l[45]=[p("删除")]))),_:2,__:[45]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Se,E.value]]),s("div",j,[n(we,{"current-page":P.value,"onUpdate:currentPage":l[8]||(l[8]=e=>P.value=e),"page-size":F.value,"onUpdate:pageSize":l[9]||(l[9]=e=>F.value=e),"page-sizes":[10,20,50,100],total:J.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ve,onCurrentChange:be},null,8,["current-page","page-size","total"])])])])),_:1})])),_:1},8,["modelValue"])])),_:1}),n(je,{modelValue:B.value,"onUpdate:modelValue":l[18]||(l[18]=e=>B.value=e),title:I.value,width:"700px"},{footer:r((()=>[s("span",S,[n(ye,{onClick:l[17]||(l[17]=e=>B.value=!1)},{default:r((()=>l[46]||(l[46]=[p("取消")]))),_:1,__:[46]}),n(ye,{type:"primary",onClick:re},{default:r((()=>l[47]||(l[47]=[p("确定")]))),_:1,__:[47]})])])),default:r((()=>[n(_e,{model:L,rules:W,ref_key:"examFormRef",ref:$,"label-width":"100px"},{default:r((()=>[n(t,{label:"试卷名称",prop:"name"},{default:r((()=>[n(a,{modelValue:L.name,"onUpdate:modelValue":l[11]||(l[11]=e=>L.name=e),placeholder:"请输入试卷名称"},null,8,["modelValue"])])),_:1}),n(t,{label:"试卷类型",prop:"type"},{default:r((()=>[n(ce,{modelValue:L.type,"onUpdate:modelValue":l[12]||(l[12]=e=>L.type=e),placeholder:"请选择试卷类型",style:{width:"100%"}},{default:r((()=>[n(pe,{label:"期中考试",value:"midterm"}),n(pe,{label:"期末考试",value:"final"}),n(pe,{label:"模拟考试",value:"mock"}),n(pe,{label:"单元测试",value:"unit"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"总分",prop:"totalScore"},{default:r((()=>[n(Ue,{modelValue:L.totalScore,"onUpdate:modelValue":l[13]||(l[13]=e=>L.totalScore=e),min:0,max:200,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(t,{label:"考试时长(分钟)",prop:"duration"},{default:r((()=>[n(Ue,{modelValue:L.duration,"onUpdate:modelValue":l[14]||(l[14]=e=>L.duration=e),min:30,max:300,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(t,{label:"状态",prop:"status"},{default:r((()=>[n(ce,{modelValue:L.status,"onUpdate:modelValue":l[15]||(l[15]=e=>L.status=e),placeholder:"请选择状态",style:{width:"100%"}},{default:r((()=>[n(pe,{label:"草稿",value:"draft"}),n(pe,{label:"已发布",value:"published"}),n(pe,{label:"已结束",value:"ended"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"试卷说明",prop:"description"},{default:r((()=>[n(a,{modelValue:L.description,"onUpdate:modelValue":l[16]||(l[16]=e=>L.description=e),type:"textarea",rows:3,placeholder:"请输入试卷说明"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),n(je,{modelValue:M.value,"onUpdate:modelValue":l[31]||(l[31]=e=>M.value=e),title:N.value,width:"800px"},{footer:r((()=>[s("span",z,[n(ye,{onClick:l[30]||(l[30]=e=>M.value=!1)},{default:r((()=>l[48]||(l[48]=[p("取消")]))),_:1,__:[48]}),n(ye,{type:"primary",onClick:se},{default:r((()=>l[49]||(l[49]=[p("确定")]))),_:1,__:[49]})])])),default:r((()=>[n(_e,{model:Q,rules:X,ref_key:"questionFormRef",ref:R,"label-width":"100px"},{default:r((()=>[n(t,{label:"题目内容",prop:"content"},{default:r((()=>[n(a,{modelValue:Q.content,"onUpdate:modelValue":l[19]||(l[19]=e=>Q.content=e),type:"textarea",rows:4,placeholder:"请输入题目内容"},null,8,["modelValue"])])),_:1}),n(t,{label:"题目类型",prop:"type"},{default:r((()=>[n(ce,{modelValue:Q.type,"onUpdate:modelValue":l[20]||(l[20]=e=>Q.type=e),placeholder:"请选择题目类型",style:{width:"100%"}},{default:r((()=>[n(pe,{label:"单选题",value:"single"}),n(pe,{label:"多选题",value:"multiple"}),n(pe,{label:"判断题",value:"judge"}),n(pe,{label:"填空题",value:"fill"}),n(pe,{label:"简答题",value:"short"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"难度",prop:"difficulty"},{default:r((()=>[n(ce,{modelValue:Q.difficulty,"onUpdate:modelValue":l[21]||(l[21]=e=>Q.difficulty=e),placeholder:"请选择难度",style:{width:"100%"}},{default:r((()=>[n(pe,{label:"简单",value:"easy"}),n(pe,{label:"中等",value:"medium"}),n(pe,{label:"困难",value:"hard"})])),_:1},8,["modelValue"])])),_:1}),n(t,{label:"分值",prop:"score"},{default:r((()=>[n(Ue,{modelValue:Q.score,"onUpdate:modelValue":l[22]||(l[22]=e=>Q.score=e),min:1,max:50,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(t,{label:"科目",prop:"subject"},{default:r((()=>[n(a,{modelValue:Q.subject,"onUpdate:modelValue":l[23]||(l[23]=e=>Q.subject=e),placeholder:"请输入科目"},null,8,["modelValue"])])),_:1}),"single"===Q.type||"multiple"===Q.type?(d(),i(y,{key:0},[n(t,{label:"选项A",prop:"optionA"},{default:r((()=>[n(a,{modelValue:Q.optionA,"onUpdate:modelValue":l[24]||(l[24]=e=>Q.optionA=e),placeholder:"请输入选项A"},null,8,["modelValue"])])),_:1}),n(t,{label:"选项B",prop:"optionB"},{default:r((()=>[n(a,{modelValue:Q.optionB,"onUpdate:modelValue":l[25]||(l[25]=e=>Q.optionB=e),placeholder:"请输入选项B"},null,8,["modelValue"])])),_:1}),n(t,{label:"选项C",prop:"optionC"},{default:r((()=>[n(a,{modelValue:Q.optionC,"onUpdate:modelValue":l[26]||(l[26]=e=>Q.optionC=e),placeholder:"请输入选项C"},null,8,["modelValue"])])),_:1}),n(t,{label:"选项D",prop:"optionD"},{default:r((()=>[n(a,{modelValue:Q.optionD,"onUpdate:modelValue":l[27]||(l[27]=e=>Q.optionD=e),placeholder:"请输入选项D"},null,8,["modelValue"])])),_:1})],64)):_("",!0),n(t,{label:"正确答案",prop:"answer"},{default:r((()=>[n(a,{modelValue:Q.answer,"onUpdate:modelValue":l[28]||(l[28]=e=>Q.answer=e),placeholder:"请输入正确答案"},null,8,["modelValue"])])),_:1}),n(t,{label:"解析",prop:"analysis"},{default:r((()=>[n(a,{modelValue:Q.analysis,"onUpdate:modelValue":l[29]||(l[29]=e=>Q.analysis=e),type:"textarea",rows:3,placeholder:"请输入题目解析"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-e0c16c50"]]);export{q as default};
