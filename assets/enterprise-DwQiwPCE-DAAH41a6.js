import{C as e,V as l,u as a,o as t,B as s,v as i,b as d,M as n,c as o,W as u,k as c,e as r,z as p,d as m,G as v,a as f,R as g,h as b,U as _,x as h,i as y,f as V,J as C,g as w}from"./index-DyjvvSaJ.js";const x={class:"enterprise-container"},U={class:"card-header"},k={class:"search-area"},T={class:"enterprise-list"},R=["onClick"],j={class:"enterprise-header"},F={class:"enterprise-name"},z=["onClick"],D={class:"enterprise-actions"},q={class:"enterprise-info"},N={class:"info-row"},S={class:"info-item"},$={class:"value"},O={class:"info-item"},I={class:"value"},B={class:"info-row"},A={class:"info-item"},P={class:"value"},E={class:"info-item"},J={class:"value"},M={class:"info-row"},X={class:"info-item"},Y={class:"value"},H={class:"info-item"},Q={class:"value"},W={class:"info-row"},G={class:"info-item full-width"},Z={class:"value"},K={class:"info-row"},L={class:"info-item"},ee={class:"value"},le={class:"info-item"},ae={class:"value"},te={class:"enterprise-footer"},se={class:"footer-item"},ie={class:"value"},de={class:"pagination-container"},ne={class:"enterprise-detail"},oe={class:"detail-section"},ue={class:"detail-item"},ce={class:"value"},re={class:"detail-item"},pe={class:"value"},me={class:"detail-item"},ve={class:"value"},fe={class:"detail-item"},ge={class:"value"},be={class:"detail-item"},_e={class:"value"},he={class:"detail-item"},ye={class:"value"},Ve={class:"detail-item"},Ce={class:"value"},we={class:"detail-item"},xe={class:"detail-item"},Ue={class:"value"},ke={class:"detail-item"},Te={class:"value"},Re={class:"detail-section"},je={class:"detail-item"},Fe={class:"value"},ze={class:"detail-item"},De={class:"value"},qe={class:"detail-section"},Ne={class:"section-header"},Se={class:"contact-list"},$e=["onClick"],Oe={class:"contact-header"},Ie={class:"contact-info"},Be={class:"contact-name"},Ae={class:"contact-position"},Pe={class:"contact-actions"},Ee={class:"contact-details"},Je={class:"contact-phone"},Me={class:"contact-email"},Xe={class:"call-records-section"},Ye={class:"section-header"},He={class:"sub-section-title"},Qe={class:"dialog-footer"},We={class:"dialog-footer"},Ge={class:"dialog-footer"},Ze=e({__name:"enterprise",setup(e){const Ze=l(!1),Ke=l(!1),Le=l("新增企业"),el=l(1),ll=l(10),al=l(0),tl=l(),sl=l(!1),il=l({}),dl=l(!1),nl=l("新增联系人"),ol=l(!1),ul=l(),cl=l([]),rl=l(null),pl=l(!1),ml=l("新增通话记录"),vl=l(!1),fl=l(),gl=l([]),bl=a({name:"",creditCode:"",type:"",industry:"",capitalRange:"",status:""}),_l=l([{id:1,name:"北京科技有限公司",creditCode:"91110000123456789X",type:"limited",industry:"it",registeredCapital:1e3,establishDate:"2020-01-15",legalRepresentative:"张三",status:"active",address:"北京市海淀区中关村大街1号",phone:"010-12345678",email:"contact@techcompany.com",businessScope:"软件开发、技术服务、技术咨询、技术转让；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"},{id:2,name:"上海制造有限公司",creditCode:"91310000123456789Y",type:"limited",industry:"manufacturing",registeredCapital:5e3,establishDate:"2018-06-20",legalRepresentative:"李四",status:"active",address:"上海市浦东新区张江高科技园区",phone:"021-87654321",email:"info@manufacturing.com",businessScope:"机械设备制造、销售；电子产品制造、销售；货物进出口、技术进出口；机械设备租赁；技术开发、技术咨询、技术服务。"},{id:3,name:"深圳金融服务有限公司",creditCode:"91440300123456789Z",type:"joint",industry:"finance",registeredCapital:1e4,establishDate:"2019-03-10",legalRepresentative:"王五",status:"active",address:"深圳市福田区金融中心",phone:"0755-12345678",email:"service@finance.com",businessScope:"金融信息服务；投资咨询；企业管理咨询；财务咨询；税务咨询；法律咨询；商务信息咨询；市场调研；企业形象策划；市场营销策划；会展服务；翻译服务；计算机软件开发；网络技术开发；技术服务。"},{id:4,name:"广州教育科技有限公司",creditCode:"91440100123456789A",type:"limited",industry:"education",registeredCapital:500,establishDate:"2021-09-01",legalRepresentative:"赵六",status:"active",address:"广州市天河区珠江新城",phone:"020-87654321",email:"contact@education.com",businessScope:"教育软件开发；教育信息咨询；教育技术开发、技术咨询、技术服务；计算机软件开发；网络技术开发；技术服务；技术转让；技术推广；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"},{id:5,name:"杭州医疗健康有限公司",creditCode:"91330100123456789B",type:"limited",industry:"healthcare",registeredCapital:2e3,establishDate:"2020-12-15",legalRepresentative:"钱七",status:"active",address:"杭州市西湖区文三路",phone:"0571-12345678",email:"info@healthcare.com",businessScope:"医疗技术开发、技术咨询、技术服务；医疗器械销售；健康管理咨询；营养健康咨询服务；心理咨询；康复理疗；保健服务；医疗信息咨询；医疗设备租赁；医疗软件开发；网络技术开发；技术服务；技术转让；技术推广；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"}]),hl=a({id:null,name:"",creditCode:"",type:"",industry:"",registeredCapital:0,establishDate:"",legalRepresentative:"",status:"active",address:"",phone:"",email:"",businessScope:""}),yl=a({id:null,name:"",position:"",phone:"",email:"",department:"",lastContactDate:"",notes:""}),Vl=a({id:null,callTime:"",duration:0,callType:"",result:"",nextFollowUp:"",notes:""}),Cl={name:[{required:!0,message:"请输入企业名称",trigger:"blur"}],creditCode:[{required:!0,message:"请输入统一社会信用代码",trigger:"blur"},{pattern:/^[0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}$/,message:"请输入正确的统一社会信用代码",trigger:"blur"}],type:[{required:!0,message:"请选择企业类型",trigger:"change"}],industry:[{required:!0,message:"请选择行业",trigger:"change"}],registeredCapital:[{required:!0,message:"请输入注册资本",trigger:"blur"}],establishDate:[{required:!0,message:"请选择成立日期",trigger:"change"}],legalRepresentative:[{required:!0,message:"请输入法定代表人",trigger:"blur"}],status:[{required:!0,message:"请选择经营状态",trigger:"change"}],address:[{required:!0,message:"请输入注册地址",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$|^0\d{2,3}-?\d{7,8}$/,message:"请输入正确的联系电话",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},wl={name:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],position:[{required:!0,message:"请输入职位",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$|^0\d{2,3}-?\d{7,8}$/,message:"请输入正确的联系电话",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},xl={callTime:[{required:!0,message:"请选择通话时间",trigger:"change"}],duration:[{required:!0,message:"请输入通话时长",trigger:"blur"}],callType:[{required:!0,message:"请选择通话类型",trigger:"change"}],result:[{required:!0,message:"请选择通话结果",trigger:"change"}],notes:[{required:!0,message:"请输入通话记录",trigger:"blur"}]},Ul=e=>({active:"success",existing:"primary",revoked:"warning",cancelled:"danger",moved:"info"}[e]||"info"),kl=e=>({active:"在业",existing:"存续",revoked:"吊销",cancelled:"注销",moved:"迁出"}[e]||"未知"),Tl=e=>({limited:"有限责任公司",joint:"股份有限公司",individual:"个人独资企业",partnership:"合伙企业",state:"国有企业",foreign:"外资企业"}[e]||"未知"),Rl=e=>({manufacturing:"制造业",it:"信息技术",finance:"金融业",realestate:"房地产业",education:"教育",healthcare:"医疗健康",retail:"零售业",other:"其他"}[e]||"未知"),jl=e=>e>=1e4?`${(e/1e4).toFixed(2)}亿元`:`${e.toFixed(2)}万元`,Fl=e=>({incoming:"success",outgoing:"primary",missed:"warning",rejected:"danger"}[e]||"info"),zl=e=>({incoming:"呼入",outgoing:"呼出",missed:"未接",rejected:"拒接"}[e]||"未知"),Dl=e=>({success:"success",failed:"danger",pending:"warning",closed:"primary",no_interest:"info"}[e]||"info"),ql=e=>({success:"成功",failed:"失败",pending:"待跟进",closed:"已成交",no_interest:"无兴趣"}[e]||"未知"),Nl=()=>{el.value=1,Zl()},Sl=()=>{Object.keys(bl).forEach((e=>{bl[e]=""})),Nl()},$l=()=>{Le.value="新增企业",Il(),Ke.value=!0},Ol=()=>{tl.value.validate((e=>{if(e){if(hl.id){const e=_l.value.findIndex((e=>e.id===hl.id));e>-1&&Object.assign(_l.value[e],{...hl}),C.success("编辑成功")}else{const e=Math.max(..._l.value.map((e=>e.id)))+1;_l.value.push({...hl,id:e}),C.success("新增成功")}Ke.value=!1}}))},Il=()=>{Object.keys(hl).forEach((e=>{hl[e]="registeredCapital"===e?0:"status"===e?"active":""})),hl.id=null},Bl=e=>{ol.value=!0,setTimeout((()=>{cl.value=[{id:1,name:"张经理",position:"销售经理",phone:"13800138001",email:"zhang@company.com",department:"销售部",lastContactDate:"2024-03-15",notes:"主要联系人，负责产品采购"},{id:2,name:"李总监",position:"技术总监",phone:"13800138002",email:"li@company.com",department:"技术部",lastContactDate:"2024-03-10",notes:"技术对接负责人"}],ol.value=!1,Pl()}),500)},Al=()=>{rl.value=null,Pl()},Pl=()=>{vl.value=!0,setTimeout((()=>{gl.value=[{id:1,contactName:"张经理",callTime:"2024-03-15 14:30:00",duration:15,callType:"outgoing",result:"success",nextFollowUp:"2024-03-20 10:00:00",notes:"客户对我们的产品很感兴趣，需要进一步了解技术细节。约定下周再次通话讨论具体合作方案。"},{id:2,contactName:"张经理",callTime:"2024-03-10 09:15:00",duration:8,callType:"incoming",result:"pending",nextFollowUp:"2024-03-15 14:00:00",notes:"客户来电咨询产品价格，已发送报价单，需要跟进确认。"},{id:3,contactName:"张经理",callTime:"2024-03-05 16:45:00",duration:0,callType:"missed",result:"failed",nextFollowUp:"2024-03-08 10:00:00",notes:"客户未接电话，需要重新安排时间联系。"},{id:4,contactName:"李总监",callTime:"2024-03-12 11:20:00",duration:25,callType:"outgoing",result:"success",nextFollowUp:"2024-03-18 15:00:00",notes:"技术对接会议，讨论了产品技术架构和集成方案。客户对技术方案满意，准备进入商务谈判阶段。"},{id:5,contactName:"李总监",callTime:"2024-03-08 16:30:00",duration:12,callType:"incoming",result:"pending",nextFollowUp:"2024-03-12 11:00:00",notes:"客户咨询技术文档和API接口，已发送相关资料，约定下周进行技术对接。"}],vl.value=!1}),300)},El=e=>{vl.value=!0,setTimeout((()=>{const l=cl.value.find((l=>l.id===e));gl.value=l?[{id:1,contactName:"张经理",callTime:"2024-03-15 14:30:00",duration:15,callType:"outgoing",result:"success",nextFollowUp:"2024-03-20 10:00:00",notes:"客户对我们的产品很感兴趣，需要进一步了解技术细节。约定下周再次通话讨论具体合作方案。"},{id:2,contactName:"张经理",callTime:"2024-03-10 09:15:00",duration:8,callType:"incoming",result:"pending",nextFollowUp:"2024-03-15 14:00:00",notes:"客户来电咨询产品价格，已发送报价单，需要跟进确认。"},{id:3,contactName:"张经理",callTime:"2024-03-05 16:45:00",duration:0,callType:"missed",result:"failed",nextFollowUp:"2024-03-08 10:00:00",notes:"客户未接电话，需要重新安排时间联系。"},{id:4,contactName:"李总监",callTime:"2024-03-12 11:20:00",duration:25,callType:"outgoing",result:"success",nextFollowUp:"2024-03-18 15:00:00",notes:"技术对接会议，讨论了产品技术架构和集成方案。客户对技术方案满意，准备进入商务谈判阶段。"},{id:5,contactName:"李总监",callTime:"2024-03-08 16:30:00",duration:12,callType:"incoming",result:"pending",nextFollowUp:"2024-03-12 11:00:00",notes:"客户咨询技术文档和API接口，已发送相关资料，约定下周进行技术对接。"}].filter((e=>e.contactName===l.name)):[],vl.value=!1}),300)},Jl=()=>{nl.value="新增联系人",Xl(),dl.value=!0},Ml=()=>{ul.value.validate((e=>{if(e){if(yl.id){const e=cl.value.findIndex((e=>e.id===yl.id));e>-1&&Object.assign(cl.value[e],{...yl}),C.success("编辑成功")}else{const e=Math.max(...cl.value.map((e=>e.id)))+1;cl.value.push({...yl,id:e}),C.success("新增成功")}dl.value=!1}}))},Xl=()=>{Object.keys(yl).forEach((e=>{yl[e]=""})),yl.id=null},Yl=()=>{ml.value="新增通话记录",Ql(),pl.value=!0},Hl=()=>{fl.value.validate((e=>{if(e){if(Vl.id){const e=gl.value.findIndex((e=>e.id===Vl.id));e>-1&&Object.assign(gl.value[e],{...Vl}),C.success("编辑成功")}else{const e=Math.max(...gl.value.map((e=>e.id)))+1;gl.value.push({...Vl,id:e}),C.success("新增成功")}pl.value=!1}}))},Ql=()=>{Object.keys(Vl).forEach((e=>{Vl[e]="duration"===e?0:""})),Vl.id=null},Wl=e=>{ll.value=e,Zl()},Gl=e=>{el.value=e,Zl()},Zl=()=>{Ze.value=!0,setTimeout((()=>{Ze.value=!1,al.value=_l.value.length}),500)};return t((()=>{Zl()})),(e,l)=>{const a=s("el-button"),t=s("el-input"),Ze=s("el-form-item"),ol=s("el-option"),Il=s("el-select"),Pl=s("el-form"),Xl=s("el-tag"),Ql=s("el-pagination"),Zl=s("el-card"),Kl=s("el-col"),Ll=s("el-row"),ea=s("el-icon"),la=s("el-table-column"),aa=s("el-table"),ta=s("el-dialog"),sa=s("el-input-number"),ia=s("el-date-picker"),da=i("loading");return d(),n("div",x,[o(Zl,{class:"box-card"},{header:u((()=>[c("div",U,[l[41]||(l[41]=c("span",null,"企业管理",-1)),o(a,{type:"primary",onClick:$l},{default:u((()=>l[40]||(l[40]=[r("新增企业")]))),_:1,__:[40]})])])),default:u((()=>[c("div",k,[o(Pl,{inline:!0,model:bl,class:"search-form"},{default:u((()=>[o(Ze,{label:"企业名称"},{default:u((()=>[o(t,{modelValue:bl.name,"onUpdate:modelValue":l[0]||(l[0]=e=>bl.name=e),placeholder:"请输入企业名称",clearable:""},null,8,["modelValue"])])),_:1}),o(Ze,{label:"统一社会信用代码"},{default:u((()=>[o(t,{modelValue:bl.creditCode,"onUpdate:modelValue":l[1]||(l[1]=e=>bl.creditCode=e),placeholder:"请输入统一社会信用代码",clearable:""},null,8,["modelValue"])])),_:1}),o(Ze,{label:"企业类型"},{default:u((()=>[o(Il,{modelValue:bl.type,"onUpdate:modelValue":l[2]||(l[2]=e=>bl.type=e),placeholder:"请选择企业类型",clearable:"",style:{width:"180px"}},{default:u((()=>[o(ol,{label:"有限责任公司",value:"limited"}),o(ol,{label:"股份有限公司",value:"joint"}),o(ol,{label:"个人独资企业",value:"individual"}),o(ol,{label:"合伙企业",value:"partnership"}),o(ol,{label:"国有企业",value:"state"}),o(ol,{label:"外资企业",value:"foreign"})])),_:1},8,["modelValue"])])),_:1}),o(Ze,{label:"行业"},{default:u((()=>[o(Il,{modelValue:bl.industry,"onUpdate:modelValue":l[3]||(l[3]=e=>bl.industry=e),placeholder:"请选择行业",clearable:"",style:{width:"180px"}},{default:u((()=>[o(ol,{label:"制造业",value:"manufacturing"}),o(ol,{label:"信息技术",value:"it"}),o(ol,{label:"金融业",value:"finance"}),o(ol,{label:"房地产业",value:"realestate"}),o(ol,{label:"教育",value:"education"}),o(ol,{label:"医疗健康",value:"healthcare"}),o(ol,{label:"零售业",value:"retail"}),o(ol,{label:"其他",value:"other"})])),_:1},8,["modelValue"])])),_:1}),o(Ze,{label:"注册资本"},{default:u((()=>[o(Il,{modelValue:bl.capitalRange,"onUpdate:modelValue":l[4]||(l[4]=e=>bl.capitalRange=e),placeholder:"请选择注册资本",clearable:"",style:{width:"180px"}},{default:u((()=>[o(ol,{label:"100万以下",value:"under100"}),o(ol,{label:"100-500万",value:"100-500"}),o(ol,{label:"500-1000万",value:"500-1000"}),o(ol,{label:"1000-5000万",value:"1000-5000"}),o(ol,{label:"5000万以上",value:"over5000"})])),_:1},8,["modelValue"])])),_:1}),o(Ze,{label:"经营状态"},{default:u((()=>[o(Il,{modelValue:bl.status,"onUpdate:modelValue":l[5]||(l[5]=e=>bl.status=e),placeholder:"请选择经营状态",clearable:"",style:{width:"180px"}},{default:u((()=>[o(ol,{label:"在业",value:"active"}),o(ol,{label:"存续",value:"existing"}),o(ol,{label:"吊销",value:"revoked"}),o(ol,{label:"注销",value:"cancelled"}),o(ol,{label:"迁出",value:"moved"})])),_:1},8,["modelValue"])])),_:1}),o(Ze,null,{default:u((()=>[o(a,{type:"primary",onClick:Nl},{default:u((()=>l[42]||(l[42]=[r("搜索")]))),_:1,__:[42]}),o(a,{onClick:Sl},{default:u((()=>l[43]||(l[43]=[r("重置")]))),_:1,__:[43]})])),_:1})])),_:1},8,["model"])]),c("div",T,[(d(!0),n(p,null,m(_l.value,(e=>(d(),n("div",{key:e.id,class:"enterprise-item",onClick:l=>(e=>{C.info(`查看企业：${e.name}`)})(e)},[c("div",j,[c("div",F,[c("span",{class:"name",onClick:v((l=>(e=>{il.value={...e},sl.value=!0,Bl(e.id)})(e)),["stop"])},f(e.name),9,z),o(Xl,{type:Ul(e.status),size:"small"},{default:u((()=>[r(f(kl(e.status)),1)])),_:2},1032,["type"])]),c("div",D,[o(a,{size:"small",onClick:v((l=>(e=>{Le.value="编辑企业",Object.assign(hl,e),Ke.value=!0})(e)),["stop"])},{default:u((()=>l[44]||(l[44]=[r("编辑")]))),_:2,__:[44]},1032,["onClick"]),o(a,{size:"small",type:"danger",onClick:v((l=>(e=>{w.confirm(`确定要删除企业"${e.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=_l.value.findIndex((l=>l.id===e.id));l>-1&&(_l.value.splice(l,1),C.success("删除成功"))})).catch((()=>{C.info("已取消删除")}))})(e)),["stop"])},{default:u((()=>l[45]||(l[45]=[r("删除")]))),_:2,__:[45]},1032,["onClick"])])]),c("div",q,[c("div",N,[c("div",S,[l[46]||(l[46]=c("span",{class:"label"},"统一社会信用代码：",-1)),c("span",$,f(e.creditCode),1)]),c("div",O,[l[47]||(l[47]=c("span",{class:"label"},"法定代表人：",-1)),c("span",I,f(e.legalRepresentative),1)])]),c("div",B,[c("div",A,[l[48]||(l[48]=c("span",{class:"label"},"企业类型：",-1)),c("span",P,f(Tl(e.type)),1)]),c("div",E,[l[49]||(l[49]=c("span",{class:"label"},"注册资本：",-1)),c("span",J,f(jl(e.registeredCapital)),1)])]),c("div",M,[c("div",X,[l[50]||(l[50]=c("span",{class:"label"},"成立日期：",-1)),c("span",Y,f(e.establishDate),1)]),c("div",H,[l[51]||(l[51]=c("span",{class:"label"},"行业：",-1)),c("span",Q,f(Rl(e.industry)),1)])]),c("div",W,[c("div",G,[l[52]||(l[52]=c("span",{class:"label"},"注册地址：",-1)),c("span",Z,f(e.address),1)])]),c("div",K,[c("div",L,[l[53]||(l[53]=c("span",{class:"label"},"联系电话：",-1)),c("span",ee,f(e.phone),1)]),c("div",le,[l[54]||(l[54]=c("span",{class:"label"},"邮箱：",-1)),c("span",ae,f(e.email),1)])])]),c("div",te,[c("div",se,[l[55]||(l[55]=c("span",{class:"label"},"经营范围：",-1)),c("span",ie,f(e.businessScope),1)])])],8,R)))),128))]),c("div",de,[o(Ql,{"current-page":el.value,"onUpdate:currentPage":l[6]||(l[6]=e=>el.value=e),"page-size":ll.value,"onUpdate:pageSize":l[7]||(l[7]=e=>ll.value=e),"page-sizes":[10,20,50,100],total:al.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Wl,onCurrentChange:Gl},null,8,["current-page","page-size","total"])])])),_:1}),o(ta,{modelValue:sl.value,"onUpdate:modelValue":l[8]||(l[8]=e=>sl.value=e),title:"企业详情",width:"1000px",class:"enterprise-detail-dialog"},{default:u((()=>[c("div",ne,[c("div",oe,[l[66]||(l[66]=c("h3",{class:"section-title"},"基本信息",-1)),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[c("div",ue,[l[56]||(l[56]=c("span",{class:"label"},"企业名称：",-1)),c("span",ce,f(il.value.name),1)])])),_:1}),o(Kl,{span:12},{default:u((()=>[c("div",re,[l[57]||(l[57]=c("span",{class:"label"},"统一社会信用代码：",-1)),c("span",pe,f(il.value.creditCode),1)])])),_:1})])),_:1}),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[c("div",me,[l[58]||(l[58]=c("span",{class:"label"},"企业类型：",-1)),c("span",ve,f(Tl(il.value.type)),1)])])),_:1}),o(Kl,{span:12},{default:u((()=>[c("div",fe,[l[59]||(l[59]=c("span",{class:"label"},"行业：",-1)),c("span",ge,f(Rl(il.value.industry)),1)])])),_:1})])),_:1}),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[c("div",be,[l[60]||(l[60]=c("span",{class:"label"},"注册资本：",-1)),c("span",_e,f(jl(il.value.registeredCapital)),1)])])),_:1}),o(Kl,{span:12},{default:u((()=>[c("div",he,[l[61]||(l[61]=c("span",{class:"label"},"成立日期：",-1)),c("span",ye,f(il.value.establishDate),1)])])),_:1})])),_:1}),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[c("div",Ve,[l[62]||(l[62]=c("span",{class:"label"},"法定代表人：",-1)),c("span",Ce,f(il.value.legalRepresentative),1)])])),_:1}),o(Kl,{span:12},{default:u((()=>[c("div",we,[l[63]||(l[63]=c("span",{class:"label"},"经营状态：",-1)),o(Xl,{type:Ul(il.value.status)},{default:u((()=>[r(f(kl(il.value.status)),1)])),_:1},8,["type"])])])),_:1})])),_:1}),c("div",xe,[l[64]||(l[64]=c("span",{class:"label"},"注册地址：",-1)),c("span",Ue,f(il.value.address),1)]),c("div",ke,[l[65]||(l[65]=c("span",{class:"label"},"经营范围：",-1)),c("span",Te,f(il.value.businessScope),1)])]),c("div",Re,[l[69]||(l[69]=c("h3",{class:"section-title"},"联系信息",-1)),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[c("div",je,[l[67]||(l[67]=c("span",{class:"label"},"联系电话：",-1)),c("span",Fe,f(il.value.phone),1)])])),_:1}),o(Kl,{span:12},{default:u((()=>[c("div",ze,[l[68]||(l[68]=c("span",{class:"label"},"邮箱：",-1)),c("span",De,f(il.value.email),1)])])),_:1})])),_:1})]),c("div",qe,[c("div",Ne,[l[71]||(l[71]=c("h3",{class:"section-title"},"联系人记录",-1)),o(a,{type:"primary",size:"small",onClick:Jl},{default:u((()=>l[70]||(l[70]=[r("新增联系人")]))),_:1,__:[70]})]),c("div",Se,[c("div",{class:g(["contact-item",{active:!rl.value}]),onClick:Al},l[72]||(l[72]=[c("div",{class:"contact-header"},[c("div",{class:"contact-info"},[c("div",{class:"contact-name"},"显示全部通话记录"),c("div",{class:"contact-position"},"查看所有联系人的通话记录")])],-1)]),2),(d(!0),n(p,null,m(cl.value,(e=>{var t;return d(),n("div",{key:e.id,class:g(["contact-item",{active:(null==(t=rl.value)?void 0:t.id)===e.id}]),onClick:l=>(e=>{rl.value=e,El(e.id)})(e)},[c("div",Oe,[c("div",Ie,[c("div",Be,f(e.name),1),c("div",Ae,f(e.position)+" | "+f(e.department),1)]),c("div",Pe,[o(a,{size:"small",type:"success",onClick:v((l=>(e=>{C.success(`正在拨打 ${e.name} 的电话：${e.phone}`)})(e)),["stop"])},{default:u((()=>[o(ea,null,{default:u((()=>[o(b(_))])),_:1}),l[73]||(l[73]=r("拨打电话 "))])),_:2,__:[73]},1032,["onClick"]),o(a,{size:"small",onClick:v((l=>(e=>{nl.value="编辑联系人",Object.assign(yl,e),dl.value=!0})(e)),["stop"])},{default:u((()=>l[74]||(l[74]=[r("编辑")]))),_:2,__:[74]},1032,["onClick"]),o(a,{size:"small",type:"danger",onClick:v((l=>(e=>{w.confirm(`确定要删除联系人"${e.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=cl.value.findIndex((l=>l.id===e.id));l>-1&&(cl.value.splice(l,1),C.success("删除成功"))})).catch((()=>{C.info("已取消删除")}))})(e)),["stop"])},{default:u((()=>l[75]||(l[75]=[r("删除")]))),_:2,__:[75]},1032,["onClick"])])]),c("div",Ee,[c("div",Je,f(e.phone),1),c("div",Me,f(e.email),1)])],10,$e)})),128))]),c("div",Xe,[c("div",Ye,[c("h4",He,f(rl.value?rl.value.name+" - 通话记录":"全部通话记录"),1),o(a,{type:"primary",size:"small",onClick:Yl},{default:u((()=>l[76]||(l[76]=[r("新增通话记录")]))),_:1,__:[76]})]),h((d(),y(aa,{data:gl.value,style:{width:"100%"}},{default:u((()=>[rl.value?V("",!0):(d(),y(la,{key:0,prop:"contactName",label:"联系人",width:"100"})),o(la,{prop:"callTime",label:"通话时间",width:"160"}),o(la,{prop:"duration",label:"通话时长",width:"100"}),o(la,{prop:"callType",label:"通话类型",width:"100"},{default:u((e=>[o(Xl,{type:Fl(e.row.callType)},{default:u((()=>[r(f(zl(e.row.callType)),1)])),_:2},1032,["type"])])),_:1}),o(la,{prop:"result",label:"通话结果",width:"100"},{default:u((e=>[o(Xl,{type:Dl(e.row.result)},{default:u((()=>[r(f(ql(e.row.result)),1)])),_:2},1032,["type"])])),_:1}),o(la,{prop:"nextFollowUp",label:"下次跟进",width:"120"}),o(la,{prop:"notes",label:"通话记录","show-overflow-tooltip":""}),o(la,{label:"操作",width:"120",fixed:"right"},{default:u((e=>[o(a,{size:"small",onClick:l=>(e=>{ml.value="编辑通话记录",Object.assign(Vl,e),pl.value=!0})(e.row)},{default:u((()=>l[77]||(l[77]=[r("编辑")]))),_:2,__:[77]},1032,["onClick"]),o(a,{size:"small",type:"danger",onClick:l=>(e=>{w.confirm("确定要删除这条通话记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const l=gl.value.findIndex((l=>l.id===e.id));l>-1&&(gl.value.splice(l,1),C.success("删除成功"))})).catch((()=>{C.info("已取消删除")}))})(e.row)},{default:u((()=>l[78]||(l[78]=[r("删除")]))),_:2,__:[78]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[da,vl.value]])])])])])),_:1},8,["modelValue"]),o(ta,{modelValue:Ke.value,"onUpdate:modelValue":l[22]||(l[22]=e=>Ke.value=e),title:Le.value,width:"800px"},{footer:u((()=>[c("span",Qe,[o(a,{onClick:l[21]||(l[21]=e=>Ke.value=!1)},{default:u((()=>l[79]||(l[79]=[r("取消")]))),_:1,__:[79]}),o(a,{type:"primary",onClick:Ol},{default:u((()=>l[80]||(l[80]=[r("确定")]))),_:1,__:[80]})])])),default:u((()=>[o(Pl,{model:hl,rules:Cl,ref_key:"formRef",ref:tl,"label-width":"140px"},{default:u((()=>[o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"企业名称",prop:"name"},{default:u((()=>[o(t,{modelValue:hl.name,"onUpdate:modelValue":l[9]||(l[9]=e=>hl.name=e),placeholder:"请输入企业名称"},null,8,["modelValue"])])),_:1})])),_:1}),o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"统一社会信用代码",prop:"creditCode"},{default:u((()=>[o(t,{modelValue:hl.creditCode,"onUpdate:modelValue":l[10]||(l[10]=e=>hl.creditCode=e),placeholder:"请输入统一社会信用代码"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"企业类型",prop:"type"},{default:u((()=>[o(Il,{modelValue:hl.type,"onUpdate:modelValue":l[11]||(l[11]=e=>hl.type=e),placeholder:"请选择企业类型",style:{width:"100%"}},{default:u((()=>[o(ol,{label:"有限责任公司",value:"limited"}),o(ol,{label:"股份有限公司",value:"joint"}),o(ol,{label:"个人独资企业",value:"individual"}),o(ol,{label:"合伙企业",value:"partnership"}),o(ol,{label:"国有企业",value:"state"}),o(ol,{label:"外资企业",value:"foreign"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"行业",prop:"industry"},{default:u((()=>[o(Il,{modelValue:hl.industry,"onUpdate:modelValue":l[12]||(l[12]=e=>hl.industry=e),placeholder:"请选择行业",style:{width:"100%"}},{default:u((()=>[o(ol,{label:"制造业",value:"manufacturing"}),o(ol,{label:"信息技术",value:"it"}),o(ol,{label:"金融业",value:"finance"}),o(ol,{label:"房地产业",value:"realestate"}),o(ol,{label:"教育",value:"education"}),o(ol,{label:"医疗健康",value:"healthcare"}),o(ol,{label:"零售业",value:"retail"}),o(ol,{label:"其他",value:"other"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"注册资本(万元)",prop:"registeredCapital"},{default:u((()=>[o(sa,{modelValue:hl.registeredCapital,"onUpdate:modelValue":l[13]||(l[13]=e=>hl.registeredCapital=e),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"成立日期",prop:"establishDate"},{default:u((()=>[o(ia,{modelValue:hl.establishDate,"onUpdate:modelValue":l[14]||(l[14]=e=>hl.establishDate=e),type:"date",placeholder:"选择成立日期",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"法定代表人",prop:"legalRepresentative"},{default:u((()=>[o(t,{modelValue:hl.legalRepresentative,"onUpdate:modelValue":l[15]||(l[15]=e=>hl.legalRepresentative=e),placeholder:"请输入法定代表人"},null,8,["modelValue"])])),_:1})])),_:1}),o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"经营状态",prop:"status"},{default:u((()=>[o(Il,{modelValue:hl.status,"onUpdate:modelValue":l[16]||(l[16]=e=>hl.status=e),placeholder:"请选择经营状态",style:{width:"100%"}},{default:u((()=>[o(ol,{label:"在业",value:"active"}),o(ol,{label:"存续",value:"existing"}),o(ol,{label:"吊销",value:"revoked"}),o(ol,{label:"注销",value:"cancelled"}),o(ol,{label:"迁出",value:"moved"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(Ze,{label:"注册地址",prop:"address"},{default:u((()=>[o(t,{modelValue:hl.address,"onUpdate:modelValue":l[17]||(l[17]=e=>hl.address=e),placeholder:"请输入注册地址"},null,8,["modelValue"])])),_:1}),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"联系电话",prop:"phone"},{default:u((()=>[o(t,{modelValue:hl.phone,"onUpdate:modelValue":l[18]||(l[18]=e=>hl.phone=e),placeholder:"请输入联系电话"},null,8,["modelValue"])])),_:1})])),_:1}),o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"邮箱",prop:"email"},{default:u((()=>[o(t,{modelValue:hl.email,"onUpdate:modelValue":l[19]||(l[19]=e=>hl.email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(Ze,{label:"经营范围",prop:"businessScope"},{default:u((()=>[o(t,{modelValue:hl.businessScope,"onUpdate:modelValue":l[20]||(l[20]=e=>hl.businessScope=e),type:"textarea",rows:3,placeholder:"请输入经营范围"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),o(ta,{modelValue:dl.value,"onUpdate:modelValue":l[31]||(l[31]=e=>dl.value=e),title:nl.value,width:"600px"},{footer:u((()=>[c("span",We,[o(a,{onClick:l[30]||(l[30]=e=>dl.value=!1)},{default:u((()=>l[81]||(l[81]=[r("取消")]))),_:1,__:[81]}),o(a,{type:"primary",onClick:Ml},{default:u((()=>l[82]||(l[82]=[r("确定")]))),_:1,__:[82]})])])),default:u((()=>[o(Pl,{model:yl,rules:wl,ref_key:"contactFormRef",ref:ul,"label-width":"100px"},{default:u((()=>[o(Ze,{label:"姓名",prop:"name"},{default:u((()=>[o(t,{modelValue:yl.name,"onUpdate:modelValue":l[23]||(l[23]=e=>yl.name=e),placeholder:"请输入联系人姓名"},null,8,["modelValue"])])),_:1}),o(Ze,{label:"职位",prop:"position"},{default:u((()=>[o(t,{modelValue:yl.position,"onUpdate:modelValue":l[24]||(l[24]=e=>yl.position=e),placeholder:"请输入职位"},null,8,["modelValue"])])),_:1}),o(Ze,{label:"联系电话",prop:"phone"},{default:u((()=>[o(t,{modelValue:yl.phone,"onUpdate:modelValue":l[25]||(l[25]=e=>yl.phone=e),placeholder:"请输入联系电话"},null,8,["modelValue"])])),_:1}),o(Ze,{label:"邮箱",prop:"email"},{default:u((()=>[o(t,{modelValue:yl.email,"onUpdate:modelValue":l[26]||(l[26]=e=>yl.email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])])),_:1}),o(Ze,{label:"部门",prop:"department"},{default:u((()=>[o(t,{modelValue:yl.department,"onUpdate:modelValue":l[27]||(l[27]=e=>yl.department=e),placeholder:"请输入部门"},null,8,["modelValue"])])),_:1}),o(Ze,{label:"最后联系时间",prop:"lastContactDate"},{default:u((()=>[o(ia,{modelValue:yl.lastContactDate,"onUpdate:modelValue":l[28]||(l[28]=e=>yl.lastContactDate=e),type:"date",placeholder:"选择最后联系时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(Ze,{label:"备注",prop:"notes"},{default:u((()=>[o(t,{modelValue:yl.notes,"onUpdate:modelValue":l[29]||(l[29]=e=>yl.notes=e),type:"textarea",rows:3,placeholder:"请输入备注信息"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),o(ta,{modelValue:pl.value,"onUpdate:modelValue":l[39]||(l[39]=e=>pl.value=e),title:ml.value,width:"700px"},{footer:u((()=>[c("span",Ge,[o(a,{onClick:l[38]||(l[38]=e=>pl.value=!1)},{default:u((()=>l[83]||(l[83]=[r("取消")]))),_:1,__:[83]}),o(a,{type:"primary",onClick:Hl},{default:u((()=>l[84]||(l[84]=[r("确定")]))),_:1,__:[84]})])])),default:u((()=>[o(Pl,{model:Vl,rules:xl,ref_key:"callRecordFormRef",ref:fl,"label-width":"120px"},{default:u((()=>[o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"通话时间",prop:"callTime"},{default:u((()=>[o(ia,{modelValue:Vl.callTime,"onUpdate:modelValue":l[32]||(l[32]=e=>Vl.callTime=e),type:"datetime",placeholder:"选择通话时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1}),o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"通话时长(分钟)",prop:"duration"},{default:u((()=>[o(sa,{modelValue:Vl.duration,"onUpdate:modelValue":l[33]||(l[33]=e=>Vl.duration=e),min:0,max:300,style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(Ll,{gutter:20},{default:u((()=>[o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"通话类型",prop:"callType"},{default:u((()=>[o(Il,{modelValue:Vl.callType,"onUpdate:modelValue":l[34]||(l[34]=e=>Vl.callType=e),placeholder:"请选择通话类型",style:{width:"100%"}},{default:u((()=>[o(ol,{label:"呼入",value:"incoming"}),o(ol,{label:"呼出",value:"outgoing"}),o(ol,{label:"未接",value:"missed"}),o(ol,{label:"拒接",value:"rejected"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),o(Kl,{span:12},{default:u((()=>[o(Ze,{label:"通话结果",prop:"result"},{default:u((()=>[o(Il,{modelValue:Vl.result,"onUpdate:modelValue":l[35]||(l[35]=e=>Vl.result=e),placeholder:"请选择通话结果",style:{width:"100%"}},{default:u((()=>[o(ol,{label:"成功",value:"success"}),o(ol,{label:"失败",value:"failed"}),o(ol,{label:"待跟进",value:"pending"}),o(ol,{label:"已成交",value:"closed"}),o(ol,{label:"无兴趣",value:"no_interest"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),o(Ze,{label:"下次跟进时间",prop:"nextFollowUp"},{default:u((()=>[o(ia,{modelValue:Vl.nextFollowUp,"onUpdate:modelValue":l[36]||(l[36]=e=>Vl.nextFollowUp=e),type:"datetime",placeholder:"选择下次跟进时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),o(Ze,{label:"通话记录",prop:"notes"},{default:u((()=>[o(t,{modelValue:Vl.notes,"onUpdate:modelValue":l[37]||(l[37]=e=>Vl.notes=e),type:"textarea",rows:4,placeholder:"请详细记录通话内容、客户反馈、跟进计划等"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-dfeb4d98"]]);export{Ze as default};
