import{_ as e,r as a,o as l,c as t,a as n,b as s,w as d,F as i,E as o,d as u,e as r,g as p,t as m,i as c,j as _,k as y}from"./index-C3v4GxiK.js";const f={class:"employee-list-container"},w={class:"header"},h=["onClick"],v={key:0,class:"employee-detail"},k={class:"card-header"},b={class:"detail-item"},g={class:"detail-item"},C={class:"detail-item"},j={class:"detail-item"},z={class:"detail-item"},x={class:"detail-item"},R={class:"card-header"},T={class:"header-actions"},V=e({__name:"employee",setup(e){const V=[{uid:"emp001",realname:"张三",email:"zhangsan@company.com",telephone:"13800138001",department:{name:"技术部"},status:1,date_joined:"2023-01-15"},{uid:"emp002",realname:"李四",email:"lisi@company.com",telephone:"13800138002",department:{name:"人事部"},status:1,date_joined:"2023-02-20"},{uid:"emp003",realname:"王五",email:"wangwu@company.com",telephone:"13800138003",department:{name:"财务部"},status:2,date_joined:"2023-03-10"},{uid:"emp004",realname:"赵六",email:"zhaoliu@company.com",telephone:"13800138004",department:{name:"市场部"},status:1,date_joined:"2023-04-05"},{uid:"emp005",realname:"钱七",email:"qianqi@company.com",telephone:"13800138005",department:{name:"技术部"},status:3,date_joined:"2023-05-12"},{uid:"emp006",realname:"孙八",email:"sunba@company.com",telephone:"13800138006",department:{name:"人事部"},status:1,date_joined:"2023-06-18"},{uid:"emp007",realname:"周九",email:"zhoujiu@company.com",telephone:"13800138007",department:{name:"财务部"},status:1,date_joined:"2023-07-22"},{uid:"emp008",realname:"吴十",email:"wushi@company.com",telephone:"13800138008",department:{name:"市场部"},status:2,date_joined:"2023-08-30"}],q=a([]),B=a(!1),W=a(null),$=async()=>{try{await new Promise((e=>setTimeout(e,500))),q.value=V,o.success("员工列表加载成功")}catch(e){o.error("获取员工列表失败")}},D=e=>{o.info(`编辑员工: ${e.realname}`)};return l($),(e,a)=>{const l=u("el-button"),V=u("el-table-column"),E=u("el-tag"),F=u("el-table"),I=u("el-card"),P=u("el-col"),U=u("el-row"),A=u("el-dialog");return r(),t(i,null,[n("div",f,[s(I,null,{default:d((()=>[n("div",w,[a[3]||(a[3]=n("span",null,"员工列表",-1)),s(l,{type:"primary",onClick:$,size:"small",style:{float:"right"}},{default:d((()=>a[2]||(a[2]=[p("刷新")]))),_:1,__:[2]})]),s(F,{data:q.value,style:{width:"100%","margin-top":"20px"},fit:"true"},{default:d((()=>[s(V,{prop:"realname",label:"姓名","min-width":"120"},{default:d((e=>[n("span",{class:"clickable-name",onClick:a=>{return l=e.row,W.value=l,void(B.value=!0);var l}},m(e.row.realname),9,h)])),_:1}),s(V,{prop:"email",label:"邮箱","min-width":"200"}),s(V,{prop:"department.name",label:"部门","min-width":"120"}),s(V,{prop:"status",label:"状态","min-width":"100"},{default:d((e=>[1===e.row.status?(r(),c(E,{key:0,type:"success"},{default:d((()=>a[4]||(a[4]=[p("已激活")]))),_:1,__:[4]})):2===e.row.status?(r(),c(E,{key:1,type:"info"},{default:d((()=>a[5]||(a[5]=[p("未激活")]))),_:1,__:[5]})):(r(),c(E,{key:2,type:"danger"},{default:d((()=>a[6]||(a[6]=[p("锁定")]))),_:1,__:[6]}))])),_:1}),s(V,{prop:"date_joined",label:"入职时间","min-width":"120"}),s(V,{label:"操作","min-width":"200"},{default:d((e=>[s(l,{size:"small",type:"primary",onClick:a=>D(e.row)},{default:d((()=>a[7]||(a[7]=[p("编辑")]))),_:2,__:[7]},1032,["onClick"]),s(l,{size:"small",type:"danger",onClick:a=>(async e=>{try{await y.confirm(`确定要删除员工 ${e.realname} 吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),q.value=q.value.filter((a=>a.uid!==e.uid)),o.success("删除成功")}catch{o.info("已取消删除")}})(e.row)},{default:d((()=>a[8]||(a[8]=[p("删除")]))),_:2,__:[8]},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})]),s(A,{modelValue:B.value,"onUpdate:modelValue":a[1]||(a[1]=e=>B.value=e),title:"员工详情",width:"900px","before-close":e.handleClose},{default:d((()=>[W.value?(r(),t("div",v,[s(I,{class:"info-card",shadow:"never"},{header:d((()=>[n("div",k,[a[10]||(a[10]=n("span",null,"基本信息",-1)),s(l,{type:"primary",size:"small",onClick:a[0]||(a[0]=e=>D(W.value))},{default:d((()=>a[9]||(a[9]=[p("编辑信息")]))),_:1,__:[9]})])])),default:d((()=>[s(U,{gutter:20},{default:d((()=>[s(P,{span:8},{default:d((()=>[n("div",b,[a[11]||(a[11]=n("label",null,"姓名：",-1)),n("span",null,m(W.value.realname),1)])])),_:1}),s(P,{span:8},{default:d((()=>[n("div",g,[a[12]||(a[12]=n("label",null,"邮箱：",-1)),n("span",null,m(W.value.email),1)])])),_:1}),s(P,{span:8},{default:d((()=>[n("div",C,[a[13]||(a[13]=n("label",null,"电话：",-1)),n("span",null,m(W.value.telephone),1)])])),_:1})])),_:1}),s(U,{gutter:20},{default:d((()=>[s(P,{span:8},{default:d((()=>{var e;return[n("div",j,[a[14]||(a[14]=n("label",null,"部门：",-1)),n("span",null,m(null==(e=W.value.department)?void 0:e.name),1)])]})),_:1}),s(P,{span:8},{default:d((()=>[n("div",z,[a[18]||(a[18]=n("label",null,"状态：",-1)),1===W.value.status?(r(),c(E,{key:0,type:"success"},{default:d((()=>a[15]||(a[15]=[p("已激活")]))),_:1,__:[15]})):2===W.value.status?(r(),c(E,{key:1,type:"info"},{default:d((()=>a[16]||(a[16]=[p("未激活")]))),_:1,__:[16]})):(r(),c(E,{key:2,type:"danger"},{default:d((()=>a[17]||(a[17]=[p("锁定")]))),_:1,__:[17]}))])])),_:1}),s(P,{span:8},{default:d((()=>[n("div",x,[a[19]||(a[19]=n("label",null,"入职时间：",-1)),n("span",null,m(W.value.date_joined),1)])])),_:1})])),_:1})])),_:1}),s(I,{class:"work-record-card",shadow:"never"},{header:d((()=>[n("div",R,[a[22]||(a[22]=n("span",null,"工作记录",-1)),n("div",T,[s(l,{type:"success",size:"small",onClick:e.addWorkRecord},{default:d((()=>a[20]||(a[20]=[p("添加记录")]))),_:1,__:[20]},8,["onClick"]),s(l,{type:"primary",size:"small",onClick:e.refreshWorkRecords},{default:d((()=>a[21]||(a[21]=[p("刷新")]))),_:1,__:[21]},8,["onClick"])])])])),default:d((()=>[s(F,{data:e.workRecords,style:{width:"100%"},stripe:""},{default:d((()=>[s(V,{prop:"date",label:"日期",width:"120"}),s(V,{prop:"type",label:"类型",width:"100"},{default:d((e=>["请假"===e.row.type?(r(),c(E,{key:0,type:"warning"},{default:d((()=>[p(m(e.row.type),1)])),_:2},1024)):"加班"===e.row.type?(r(),c(E,{key:1,type:"danger"},{default:d((()=>[p(m(e.row.type),1)])),_:2},1024)):(r(),c(E,{key:2,type:"success"},{default:d((()=>[p(m(e.row.type),1)])),_:2},1024))])),_:1}),s(V,{prop:"title",label:"标题","min-width":"150"}),s(V,{prop:"description",label:"描述","min-width":"200"}),s(V,{prop:"status",label:"状态",width:"100"},{default:d((e=>["已批准"===e.row.status?(r(),c(E,{key:0,type:"success"},{default:d((()=>[p(m(e.row.status),1)])),_:2},1024)):"待审批"===e.row.status?(r(),c(E,{key:1,type:"warning"},{default:d((()=>[p(m(e.row.status),1)])),_:2},1024)):(r(),c(E,{key:2,type:"danger"},{default:d((()=>[p(m(e.row.status),1)])),_:2},1024))])),_:1}),s(V,{prop:"approver",label:"审批人",width:"100"}),s(V,{label:"操作",width:"120",fixed:"right"},{default:d((t=>[s(l,{size:"small",type:"primary",onClick:a=>e.viewRecordDetail(t.row)},{default:d((()=>a[23]||(a[23]=[p("查看")]))),_:2,__:[23]},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})])):_("",!0)])),_:1},8,["modelValue","before-close"])],64)}}},[["__scopeId","data-v-0e3be16b"]]);export{V as default};
