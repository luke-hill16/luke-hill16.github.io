import{T as Ze,B as f,w as J,o as Ge,a as b,x as Le,b as R,O as N,$ as l,K as a,_ as s,H as m,c as ce,p as re,X as j,k as c,V as pe,f as el,U as ll,y as al,s as me,d as tl,J as y,e as W}from"./index-2YECzvFn.js";const sl={class:"enterprise-container"},il={class:"card-header"},dl={class:"search-area"},nl={class:"enterprise-list"},ol=["onClick"],ul={class:"enterprise-header"},cl={class:"enterprise-name"},rl=["onClick"],pl={class:"enterprise-actions"},ml={class:"enterprise-info"},vl={class:"info-row"},fl={class:"info-item"},gl={class:"value"},bl={class:"info-item"},_l={class:"value"},hl={class:"info-row"},yl={class:"info-item"},Vl={class:"value"},wl={class:"info-item"},Cl={class:"value"},xl={class:"info-row"},Ul={class:"info-item"},Tl={class:"value"},kl={class:"info-item"},$l={class:"value"},Rl={class:"info-row"},Fl={class:"info-item full-width"},Dl={class:"value"},zl={class:"info-row"},jl={class:"info-item"},ql={class:"value"},Nl={class:"info-item"},Sl={class:"value"},Ol={class:"enterprise-footer"},Bl={class:"footer-item"},Il={class:"value"},Xl={class:"pagination-container"},Al={class:"enterprise-detail"},Jl={class:"detail-section"},Pl={class:"detail-item"},El={class:"value"},Hl={class:"detail-item"},Ml={class:"value"},Yl={class:"detail-item"},Ql={class:"value"},Wl={class:"detail-item"},Kl={class:"value"},Zl={class:"detail-item"},Gl={class:"value"},Ll={class:"detail-item"},ea={class:"value"},la={class:"detail-item"},aa={class:"value"},ta={class:"detail-item"},sa={class:"detail-item"},ia={class:"value"},da={class:"detail-item"},na={class:"value"},oa={class:"detail-section"},ua={class:"detail-item"},ca={class:"value"},ra={class:"detail-item"},pa={class:"value"},ma={class:"detail-section"},va={class:"section-header"},fa={class:"contact-list"},ga=["onClick"],ba={class:"contact-header"},_a={class:"contact-info"},ha={class:"contact-name"},ya={class:"contact-position"},Va={class:"contact-actions"},wa={class:"contact-details"},Ca={class:"contact-phone"},xa={class:"contact-email"},Ua={class:"call-records-section"},Ta={class:"section-header"},ka={class:"sub-section-title"},$a={class:"dialog-footer"},Ra={class:"dialog-footer"},Fa={class:"dialog-footer"},Da={__name:"enterprise",setup(za){const K=f(!1),F=f(!1),P=f("新增企业"),S=f(1),E=f(10),Z=f(0),G=f(),H=f(!1),h=f({}),D=f(!1),M=f("新增联系人"),L=f(!1),ee=f(),C=f([]),$=f(null),z=f(!1),Y=f("新增通话记录"),q=f(!1),le=f(),w=f([]),_=J({name:"",creditCode:"",type:"",industry:"",capitalRange:"",status:""}),U=f([{id:1,name:"北京科技有限公司",creditCode:"91110000123456789X",type:"limited",industry:"it",registeredCapital:1e3,establishDate:"2020-01-15",legalRepresentative:"张三",status:"active",address:"北京市海淀区中关村大街1号",phone:"010-12345678",email:"contact@techcompany.com",businessScope:"软件开发、技术服务、技术咨询、技术转让；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"},{id:2,name:"上海制造有限公司",creditCode:"91310000123456789Y",type:"limited",industry:"manufacturing",registeredCapital:5e3,establishDate:"2018-06-20",legalRepresentative:"李四",status:"active",address:"上海市浦东新区张江高科技园区",phone:"021-87654321",email:"info@manufacturing.com",businessScope:"机械设备制造、销售；电子产品制造、销售；货物进出口、技术进出口；机械设备租赁；技术开发、技术咨询、技术服务。"},{id:3,name:"深圳金融服务有限公司",creditCode:"91440300123456789Z",type:"joint",industry:"finance",registeredCapital:1e4,establishDate:"2019-03-10",legalRepresentative:"王五",status:"active",address:"深圳市福田区金融中心",phone:"0755-12345678",email:"service@finance.com",businessScope:"金融信息服务；投资咨询；企业管理咨询；财务咨询；税务咨询；法律咨询；商务信息咨询；市场调研；企业形象策划；市场营销策划；会展服务；翻译服务；计算机软件开发；网络技术开发；技术服务。"},{id:4,name:"广州教育科技有限公司",creditCode:"91440100123456789A",type:"limited",industry:"education",registeredCapital:500,establishDate:"2021-09-01",legalRepresentative:"赵六",status:"active",address:"广州市天河区珠江新城",phone:"020-87654321",email:"contact@education.com",businessScope:"教育软件开发；教育信息咨询；教育技术开发、技术咨询、技术服务；计算机软件开发；网络技术开发；技术服务；技术转让；技术推广；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"},{id:5,name:"杭州医疗健康有限公司",creditCode:"91330100123456789B",type:"limited",industry:"healthcare",registeredCapital:2e3,establishDate:"2020-12-15",legalRepresentative:"钱七",status:"active",address:"杭州市西湖区文三路",phone:"0571-12345678",email:"info@healthcare.com",businessScope:"医疗技术开发、技术咨询、技术服务；医疗器械销售；健康管理咨询；营养健康咨询服务；心理咨询；康复理疗；保健服务；医疗信息咨询；医疗设备租赁；医疗软件开发；网络技术开发；技术服务；技术转让；技术推广；计算机系统服务；数据处理；基础软件服务；应用软件服务；软件咨询；产品设计；模型设计；包装装潢设计；教育咨询；经济贸易咨询；文化咨询；体育咨询；公共关系服务；会议服务；工艺美术设计；电脑动画设计；项目投资；投资管理；资产管理；企业管理；企业管理咨询；企业策划、设计；设计、制作、代理、发布广告；市场调查；企业管理咨询；组织文化艺术交流活动；承办展览展示活动；会议服务；公共关系服务；销售计算机、软件及辅助设备、电子产品、机械设备、通讯设备。"}]),o=J({id:null,name:"",creditCode:"",type:"",industry:"",registeredCapital:0,establishDate:"",legalRepresentative:"",status:"active",address:"",phone:"",email:"",businessScope:""}),p=J({id:null,name:"",position:"",phone:"",email:"",department:"",lastContactDate:"",notes:""}),v=J({id:null,callTime:"",duration:0,callType:"",result:"",nextFollowUp:"",notes:""}),ve={name:[{required:!0,message:"请输入企业名称",trigger:"blur"}],creditCode:[{required:!0,message:"请输入统一社会信用代码",trigger:"blur"},{pattern:/^[0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}$/,message:"请输入正确的统一社会信用代码",trigger:"blur"}],type:[{required:!0,message:"请选择企业类型",trigger:"change"}],industry:[{required:!0,message:"请选择行业",trigger:"change"}],registeredCapital:[{required:!0,message:"请输入注册资本",trigger:"blur"}],establishDate:[{required:!0,message:"请选择成立日期",trigger:"change"}],legalRepresentative:[{required:!0,message:"请输入法定代表人",trigger:"blur"}],status:[{required:!0,message:"请选择经营状态",trigger:"change"}],address:[{required:!0,message:"请输入注册地址",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$|^0\d{2,3}-?\d{7,8}$/,message:"请输入正确的联系电话",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},fe={name:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],position:[{required:!0,message:"请输入职位",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$|^0\d{2,3}-?\d{7,8}$/,message:"请输入正确的联系电话",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}]},ge={callTime:[{required:!0,message:"请选择通话时间",trigger:"change"}],duration:[{required:!0,message:"请输入通话时长",trigger:"blur"}],callType:[{required:!0,message:"请选择通话类型",trigger:"change"}],result:[{required:!0,message:"请选择通话结果",trigger:"change"}],notes:[{required:!0,message:"请输入通话记录",trigger:"blur"}]},ae=i=>({active:"success",existing:"primary",revoked:"warning",cancelled:"danger",moved:"info"})[i]||"info",te=i=>({active:"在业",existing:"存续",revoked:"吊销",cancelled:"注销",moved:"迁出"})[i]||"未知",se=i=>({limited:"有限责任公司",joint:"股份有限公司",individual:"个人独资企业",partnership:"合伙企业",state:"国有企业",foreign:"外资企业"})[i]||"未知",ie=i=>({manufacturing:"制造业",it:"信息技术",finance:"金融业",realestate:"房地产业",education:"教育",healthcare:"医疗健康",retail:"零售业",other:"其他"})[i]||"未知",de=i=>i>=1e4?`${(i/1e4).toFixed(2)}亿元`:`${i.toFixed(2)}万元`,be=i=>({incoming:"success",outgoing:"primary",missed:"warning",rejected:"danger"})[i]||"info",_e=i=>({incoming:"呼入",outgoing:"呼出",missed:"未接",rejected:"拒接"})[i]||"未知",he=i=>({success:"success",failed:"danger",pending:"warning",closed:"primary",no_interest:"info"})[i]||"info",ye=i=>({success:"成功",failed:"失败",pending:"待跟进",closed:"已成交",no_interest:"无兴趣"})[i]||"未知",ne=()=>{S.value=1,O()},Ve=()=>{Object.keys(_).forEach(i=>{_[i]=""}),ne()},we=()=>{P.value="新增企业",$e(),F.value=!0},Ce=i=>{P.value="编辑企业",Object.assign(o,i),F.value=!0},xe=i=>{h.value={...i},H.value=!0,Re(i.id)},Ue=i=>{y.info(`查看企业：${i.name}`)},Te=i=>{W.confirm(`确定要删除企业"${i.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=U.value.findIndex(n=>n.id===i.id);e>-1&&(U.value.splice(e,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},ke=()=>{G.value.validate(i=>{if(i){if(o.id){const e=U.value.findIndex(n=>n.id===o.id);e>-1&&Object.assign(U.value[e],{...o}),y.success("编辑成功")}else{const e=Math.max(...U.value.map(n=>n.id))+1;U.value.push({...o,id:e}),y.success("新增成功")}F.value=!1}})},$e=()=>{Object.keys(o).forEach(i=>{o[i]=i==="registeredCapital"?0:i==="status"?"active":""}),o.id=null},Re=i=>{L.value=!0,setTimeout(()=>{C.value=[{id:1,name:"张经理",position:"销售经理",phone:"13800138001",email:"zhang@company.com",department:"销售部",lastContactDate:"2024-03-15",notes:"主要联系人，负责产品采购"},{id:2,name:"李总监",position:"技术总监",phone:"13800138002",email:"li@company.com",department:"技术部",lastContactDate:"2024-03-10",notes:"技术对接负责人"}],L.value=!1,oe()},500)},Fe=i=>{$.value=i,ze(i.id)},De=()=>{$.value=null,oe()},oe=()=>{q.value=!0,setTimeout(()=>{w.value=[{id:1,contactName:"张经理",callTime:"2024-03-15 14:30:00",duration:15,callType:"outgoing",result:"success",nextFollowUp:"2024-03-20 10:00:00",notes:"客户对我们的产品很感兴趣，需要进一步了解技术细节。约定下周再次通话讨论具体合作方案。"},{id:2,contactName:"张经理",callTime:"2024-03-10 09:15:00",duration:8,callType:"incoming",result:"pending",nextFollowUp:"2024-03-15 14:00:00",notes:"客户来电咨询产品价格，已发送报价单，需要跟进确认。"},{id:3,contactName:"张经理",callTime:"2024-03-05 16:45:00",duration:0,callType:"missed",result:"failed",nextFollowUp:"2024-03-08 10:00:00",notes:"客户未接电话，需要重新安排时间联系。"},{id:4,contactName:"李总监",callTime:"2024-03-12 11:20:00",duration:25,callType:"outgoing",result:"success",nextFollowUp:"2024-03-18 15:00:00",notes:"技术对接会议，讨论了产品技术架构和集成方案。客户对技术方案满意，准备进入商务谈判阶段。"},{id:5,contactName:"李总监",callTime:"2024-03-08 16:30:00",duration:12,callType:"incoming",result:"pending",nextFollowUp:"2024-03-12 11:00:00",notes:"客户咨询技术文档和API接口，已发送相关资料，约定下周进行技术对接。"}],q.value=!1},300)},ze=i=>{q.value=!0,setTimeout(()=>{const e=[{id:1,contactName:"张经理",callTime:"2024-03-15 14:30:00",duration:15,callType:"outgoing",result:"success",nextFollowUp:"2024-03-20 10:00:00",notes:"客户对我们的产品很感兴趣，需要进一步了解技术细节。约定下周再次通话讨论具体合作方案。"},{id:2,contactName:"张经理",callTime:"2024-03-10 09:15:00",duration:8,callType:"incoming",result:"pending",nextFollowUp:"2024-03-15 14:00:00",notes:"客户来电咨询产品价格，已发送报价单，需要跟进确认。"},{id:3,contactName:"张经理",callTime:"2024-03-05 16:45:00",duration:0,callType:"missed",result:"failed",nextFollowUp:"2024-03-08 10:00:00",notes:"客户未接电话，需要重新安排时间联系。"},{id:4,contactName:"李总监",callTime:"2024-03-12 11:20:00",duration:25,callType:"outgoing",result:"success",nextFollowUp:"2024-03-18 15:00:00",notes:"技术对接会议，讨论了产品技术架构和集成方案。客户对技术方案满意，准备进入商务谈判阶段。"},{id:5,contactName:"李总监",callTime:"2024-03-08 16:30:00",duration:12,callType:"incoming",result:"pending",nextFollowUp:"2024-03-12 11:00:00",notes:"客户咨询技术文档和API接口，已发送相关资料，约定下周进行技术对接。"}],n=C.value.find(g=>g.id===i);n?w.value=e.filter(g=>g.contactName===n.name):w.value=[],q.value=!1},300)},je=i=>{y.success(`正在拨打 ${i.name} 的电话：${i.phone}`)},qe=()=>{M.value="新增联系人",Be(),D.value=!0},Ne=i=>{M.value="编辑联系人",Object.assign(p,i),D.value=!0},Se=i=>{W.confirm(`确定要删除联系人"${i.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=C.value.findIndex(n=>n.id===i.id);e>-1&&(C.value.splice(e,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},Oe=()=>{ee.value.validate(i=>{if(i){if(p.id){const e=C.value.findIndex(n=>n.id===p.id);e>-1&&Object.assign(C.value[e],{...p}),y.success("编辑成功")}else{const e=Math.max(...C.value.map(n=>n.id))+1;C.value.push({...p,id:e}),y.success("新增成功")}D.value=!1}})},Be=()=>{Object.keys(p).forEach(i=>{p[i]=""}),p.id=null},Ie=()=>{Y.value="新增通话记录",Pe(),z.value=!0},Xe=i=>{Y.value="编辑通话记录",Object.assign(v,i),z.value=!0},Ae=i=>{W.confirm("确定要删除这条通话记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=w.value.findIndex(n=>n.id===i.id);e>-1&&(w.value.splice(e,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},Je=()=>{le.value.validate(i=>{if(i){if(v.id){const e=w.value.findIndex(n=>n.id===v.id);e>-1&&Object.assign(w.value[e],{...v}),y.success("编辑成功")}else{const e=Math.max(...w.value.map(n=>n.id))+1;w.value.push({...v,id:e}),y.success("新增成功")}z.value=!1}})},Pe=()=>{Object.keys(v).forEach(i=>{v[i]=i==="duration"?0:""}),v.id=null},Ee=i=>{E.value=i,O()},He=i=>{S.value=i,O()},O=()=>{K.value=!0,setTimeout(()=>{K.value=!1,Z.value=U.value.length},500)};return Ge(()=>{O()}),(i,e)=>{const n=b("el-button"),g=b("el-input"),u=b("el-form-item"),d=b("el-option"),x=b("el-select"),B=b("el-form"),I=b("el-tag"),Me=b("el-pagination"),Ye=b("el-card"),r=b("el-col"),V=b("el-row"),Qe=b("el-icon"),T=b("el-table-column"),We=b("el-table"),X=b("el-dialog"),ue=b("el-input-number"),A=b("el-date-picker"),Ke=Le("loading");return R(),N("div",sl,[l(Ye,{class:"box-card"},{header:a(()=>[s("div",il,[e[41]||(e[41]=s("span",null,"企业管理",-1)),l(n,{type:"primary",onClick:we},{default:a(()=>e[40]||(e[40]=[m("新增企业")])),_:1,__:[40]})])]),default:a(()=>[s("div",dl,[l(B,{inline:!0,model:_,class:"search-form"},{default:a(()=>[l(u,{label:"企业名称"},{default:a(()=>[l(g,{modelValue:_.name,"onUpdate:modelValue":e[0]||(e[0]=t=>_.name=t),placeholder:"请输入企业名称",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"统一社会信用代码"},{default:a(()=>[l(g,{modelValue:_.creditCode,"onUpdate:modelValue":e[1]||(e[1]=t=>_.creditCode=t),placeholder:"请输入统一社会信用代码",clearable:""},null,8,["modelValue"])]),_:1}),l(u,{label:"企业类型"},{default:a(()=>[l(x,{modelValue:_.type,"onUpdate:modelValue":e[2]||(e[2]=t=>_.type=t),placeholder:"请选择企业类型",clearable:"",style:{width:"180px"}},{default:a(()=>[l(d,{label:"有限责任公司",value:"limited"}),l(d,{label:"股份有限公司",value:"joint"}),l(d,{label:"个人独资企业",value:"individual"}),l(d,{label:"合伙企业",value:"partnership"}),l(d,{label:"国有企业",value:"state"}),l(d,{label:"外资企业",value:"foreign"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"行业"},{default:a(()=>[l(x,{modelValue:_.industry,"onUpdate:modelValue":e[3]||(e[3]=t=>_.industry=t),placeholder:"请选择行业",clearable:"",style:{width:"180px"}},{default:a(()=>[l(d,{label:"制造业",value:"manufacturing"}),l(d,{label:"信息技术",value:"it"}),l(d,{label:"金融业",value:"finance"}),l(d,{label:"房地产业",value:"realestate"}),l(d,{label:"教育",value:"education"}),l(d,{label:"医疗健康",value:"healthcare"}),l(d,{label:"零售业",value:"retail"}),l(d,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"注册资本"},{default:a(()=>[l(x,{modelValue:_.capitalRange,"onUpdate:modelValue":e[4]||(e[4]=t=>_.capitalRange=t),placeholder:"请选择注册资本",clearable:"",style:{width:"180px"}},{default:a(()=>[l(d,{label:"100万以下",value:"under100"}),l(d,{label:"100-500万",value:"100-500"}),l(d,{label:"500-1000万",value:"500-1000"}),l(d,{label:"1000-5000万",value:"1000-5000"}),l(d,{label:"5000万以上",value:"over5000"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"经营状态"},{default:a(()=>[l(x,{modelValue:_.status,"onUpdate:modelValue":e[5]||(e[5]=t=>_.status=t),placeholder:"请选择经营状态",clearable:"",style:{width:"180px"}},{default:a(()=>[l(d,{label:"在业",value:"active"}),l(d,{label:"存续",value:"existing"}),l(d,{label:"吊销",value:"revoked"}),l(d,{label:"注销",value:"cancelled"}),l(d,{label:"迁出",value:"moved"})]),_:1},8,["modelValue"])]),_:1}),l(u,null,{default:a(()=>[l(n,{type:"primary",onClick:ne},{default:a(()=>e[42]||(e[42]=[m("搜索")])),_:1,__:[42]}),l(n,{onClick:Ve},{default:a(()=>e[43]||(e[43]=[m("重置")])),_:1,__:[43]})]),_:1})]),_:1},8,["model"])]),s("div",nl,[(R(!0),N(ce,null,re(U.value,t=>(R(),N("div",{key:t.id,class:"enterprise-item",onClick:k=>Ue(t)},[s("div",ul,[s("div",cl,[s("span",{class:"name",onClick:j(k=>xe(t),["stop"])},c(t.name),9,rl),l(I,{type:ae(t.status),size:"small"},{default:a(()=>[m(c(te(t.status)),1)]),_:2},1032,["type"])]),s("div",pl,[l(n,{size:"small",onClick:j(k=>Ce(t),["stop"])},{default:a(()=>e[44]||(e[44]=[m("编辑")])),_:2,__:[44]},1032,["onClick"]),l(n,{size:"small",type:"danger",onClick:j(k=>Te(t),["stop"])},{default:a(()=>e[45]||(e[45]=[m("删除")])),_:2,__:[45]},1032,["onClick"])])]),s("div",ml,[s("div",vl,[s("div",fl,[e[46]||(e[46]=s("span",{class:"label"},"统一社会信用代码：",-1)),s("span",gl,c(t.creditCode),1)]),s("div",bl,[e[47]||(e[47]=s("span",{class:"label"},"法定代表人：",-1)),s("span",_l,c(t.legalRepresentative),1)])]),s("div",hl,[s("div",yl,[e[48]||(e[48]=s("span",{class:"label"},"企业类型：",-1)),s("span",Vl,c(se(t.type)),1)]),s("div",wl,[e[49]||(e[49]=s("span",{class:"label"},"注册资本：",-1)),s("span",Cl,c(de(t.registeredCapital)),1)])]),s("div",xl,[s("div",Ul,[e[50]||(e[50]=s("span",{class:"label"},"成立日期：",-1)),s("span",Tl,c(t.establishDate),1)]),s("div",kl,[e[51]||(e[51]=s("span",{class:"label"},"行业：",-1)),s("span",$l,c(ie(t.industry)),1)])]),s("div",Rl,[s("div",Fl,[e[52]||(e[52]=s("span",{class:"label"},"注册地址：",-1)),s("span",Dl,c(t.address),1)])]),s("div",zl,[s("div",jl,[e[53]||(e[53]=s("span",{class:"label"},"联系电话：",-1)),s("span",ql,c(t.phone),1)]),s("div",Nl,[e[54]||(e[54]=s("span",{class:"label"},"邮箱：",-1)),s("span",Sl,c(t.email),1)])])]),s("div",Ol,[s("div",Bl,[e[55]||(e[55]=s("span",{class:"label"},"经营范围：",-1)),s("span",Il,c(t.businessScope),1)])])],8,ol))),128))]),s("div",Xl,[l(Me,{"current-page":S.value,"onUpdate:currentPage":e[6]||(e[6]=t=>S.value=t),"page-size":E.value,"onUpdate:pageSize":e[7]||(e[7]=t=>E.value=t),"page-sizes":[10,20,50,100],total:Z.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Ee,onCurrentChange:He},null,8,["current-page","page-size","total"])])]),_:1}),l(X,{modelValue:H.value,"onUpdate:modelValue":e[8]||(e[8]=t=>H.value=t),title:"企业详情",width:"1000px",class:"enterprise-detail-dialog"},{default:a(()=>[s("div",Al,[s("div",Jl,[e[66]||(e[66]=s("h3",{class:"section-title"},"基本信息",-1)),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[s("div",Pl,[e[56]||(e[56]=s("span",{class:"label"},"企业名称：",-1)),s("span",El,c(h.value.name),1)])]),_:1}),l(r,{span:12},{default:a(()=>[s("div",Hl,[e[57]||(e[57]=s("span",{class:"label"},"统一社会信用代码：",-1)),s("span",Ml,c(h.value.creditCode),1)])]),_:1})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[s("div",Yl,[e[58]||(e[58]=s("span",{class:"label"},"企业类型：",-1)),s("span",Ql,c(se(h.value.type)),1)])]),_:1}),l(r,{span:12},{default:a(()=>[s("div",Wl,[e[59]||(e[59]=s("span",{class:"label"},"行业：",-1)),s("span",Kl,c(ie(h.value.industry)),1)])]),_:1})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[s("div",Zl,[e[60]||(e[60]=s("span",{class:"label"},"注册资本：",-1)),s("span",Gl,c(de(h.value.registeredCapital)),1)])]),_:1}),l(r,{span:12},{default:a(()=>[s("div",Ll,[e[61]||(e[61]=s("span",{class:"label"},"成立日期：",-1)),s("span",ea,c(h.value.establishDate),1)])]),_:1})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[s("div",la,[e[62]||(e[62]=s("span",{class:"label"},"法定代表人：",-1)),s("span",aa,c(h.value.legalRepresentative),1)])]),_:1}),l(r,{span:12},{default:a(()=>[s("div",ta,[e[63]||(e[63]=s("span",{class:"label"},"经营状态：",-1)),l(I,{type:ae(h.value.status)},{default:a(()=>[m(c(te(h.value.status)),1)]),_:1},8,["type"])])]),_:1})]),_:1}),s("div",sa,[e[64]||(e[64]=s("span",{class:"label"},"注册地址：",-1)),s("span",ia,c(h.value.address),1)]),s("div",da,[e[65]||(e[65]=s("span",{class:"label"},"经营范围：",-1)),s("span",na,c(h.value.businessScope),1)])]),s("div",oa,[e[69]||(e[69]=s("h3",{class:"section-title"},"联系信息",-1)),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[s("div",ua,[e[67]||(e[67]=s("span",{class:"label"},"联系电话：",-1)),s("span",ca,c(h.value.phone),1)])]),_:1}),l(r,{span:12},{default:a(()=>[s("div",ra,[e[68]||(e[68]=s("span",{class:"label"},"邮箱：",-1)),s("span",pa,c(h.value.email),1)])]),_:1})]),_:1})]),s("div",ma,[s("div",va,[e[71]||(e[71]=s("h3",{class:"section-title"},"联系人记录",-1)),l(n,{type:"primary",size:"small",onClick:qe},{default:a(()=>e[70]||(e[70]=[m("新增联系人")])),_:1,__:[70]})]),s("div",fa,[s("div",{class:pe(["contact-item",{active:!$.value}]),onClick:De},e[72]||(e[72]=[s("div",{class:"contact-header"},[s("div",{class:"contact-info"},[s("div",{class:"contact-name"},"显示全部通话记录"),s("div",{class:"contact-position"},"查看所有联系人的通话记录")])],-1)]),2),(R(!0),N(ce,null,re(C.value,t=>{var k;return R(),N("div",{key:t.id,class:pe(["contact-item",{active:((k=$.value)==null?void 0:k.id)===t.id}]),onClick:Q=>Fe(t)},[s("div",ba,[s("div",_a,[s("div",ha,c(t.name),1),s("div",ya,c(t.position)+" | "+c(t.department),1)]),s("div",Va,[l(n,{size:"small",type:"success",onClick:j(Q=>je(t),["stop"])},{default:a(()=>[l(Qe,null,{default:a(()=>[l(el(ll))]),_:1}),e[73]||(e[73]=m("拨打电话 "))]),_:2,__:[73]},1032,["onClick"]),l(n,{size:"small",onClick:j(Q=>Ne(t),["stop"])},{default:a(()=>e[74]||(e[74]=[m("编辑")])),_:2,__:[74]},1032,["onClick"]),l(n,{size:"small",type:"danger",onClick:j(Q=>Se(t),["stop"])},{default:a(()=>e[75]||(e[75]=[m("删除")])),_:2,__:[75]},1032,["onClick"])])]),s("div",wa,[s("div",Ca,c(t.phone),1),s("div",xa,c(t.email),1)])],10,ga)}),128))]),s("div",Ua,[s("div",Ta,[s("h4",ka,c($.value?$.value.name+" - 通话记录":"全部通话记录"),1),l(n,{type:"primary",size:"small",onClick:Ie},{default:a(()=>e[76]||(e[76]=[m("新增通话记录")])),_:1,__:[76]})]),al((R(),me(We,{data:w.value,style:{width:"100%"}},{default:a(()=>[$.value?tl("",!0):(R(),me(T,{key:0,prop:"contactName",label:"联系人",width:"100"})),l(T,{prop:"callTime",label:"通话时间",width:"160"}),l(T,{prop:"duration",label:"通话时长",width:"100"}),l(T,{prop:"callType",label:"通话类型",width:"100"},{default:a(t=>[l(I,{type:be(t.row.callType)},{default:a(()=>[m(c(_e(t.row.callType)),1)]),_:2},1032,["type"])]),_:1}),l(T,{prop:"result",label:"通话结果",width:"100"},{default:a(t=>[l(I,{type:he(t.row.result)},{default:a(()=>[m(c(ye(t.row.result)),1)]),_:2},1032,["type"])]),_:1}),l(T,{prop:"nextFollowUp",label:"下次跟进",width:"120"}),l(T,{prop:"notes",label:"通话记录","show-overflow-tooltip":""}),l(T,{label:"操作",width:"120",fixed:"right"},{default:a(t=>[l(n,{size:"small",onClick:k=>Xe(t.row)},{default:a(()=>e[77]||(e[77]=[m("编辑")])),_:2,__:[77]},1032,["onClick"]),l(n,{size:"small",type:"danger",onClick:k=>Ae(t.row)},{default:a(()=>e[78]||(e[78]=[m("删除")])),_:2,__:[78]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Ke,q.value]])])])])]),_:1},8,["modelValue"]),l(X,{modelValue:F.value,"onUpdate:modelValue":e[22]||(e[22]=t=>F.value=t),title:P.value,width:"800px"},{footer:a(()=>[s("span",$a,[l(n,{onClick:e[21]||(e[21]=t=>F.value=!1)},{default:a(()=>e[79]||(e[79]=[m("取消")])),_:1,__:[79]}),l(n,{type:"primary",onClick:ke},{default:a(()=>e[80]||(e[80]=[m("确定")])),_:1,__:[80]})])]),default:a(()=>[l(B,{model:o,rules:ve,ref_key:"formRef",ref:G,"label-width":"140px"},{default:a(()=>[l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[l(u,{label:"企业名称",prop:"name"},{default:a(()=>[l(g,{modelValue:o.name,"onUpdate:modelValue":e[9]||(e[9]=t=>o.name=t),placeholder:"请输入企业名称"},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{span:12},{default:a(()=>[l(u,{label:"统一社会信用代码",prop:"creditCode"},{default:a(()=>[l(g,{modelValue:o.creditCode,"onUpdate:modelValue":e[10]||(e[10]=t=>o.creditCode=t),placeholder:"请输入统一社会信用代码"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[l(u,{label:"企业类型",prop:"type"},{default:a(()=>[l(x,{modelValue:o.type,"onUpdate:modelValue":e[11]||(e[11]=t=>o.type=t),placeholder:"请选择企业类型",style:{width:"100%"}},{default:a(()=>[l(d,{label:"有限责任公司",value:"limited"}),l(d,{label:"股份有限公司",value:"joint"}),l(d,{label:"个人独资企业",value:"individual"}),l(d,{label:"合伙企业",value:"partnership"}),l(d,{label:"国有企业",value:"state"}),l(d,{label:"外资企业",value:"foreign"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{span:12},{default:a(()=>[l(u,{label:"行业",prop:"industry"},{default:a(()=>[l(x,{modelValue:o.industry,"onUpdate:modelValue":e[12]||(e[12]=t=>o.industry=t),placeholder:"请选择行业",style:{width:"100%"}},{default:a(()=>[l(d,{label:"制造业",value:"manufacturing"}),l(d,{label:"信息技术",value:"it"}),l(d,{label:"金融业",value:"finance"}),l(d,{label:"房地产业",value:"realestate"}),l(d,{label:"教育",value:"education"}),l(d,{label:"医疗健康",value:"healthcare"}),l(d,{label:"零售业",value:"retail"}),l(d,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[l(u,{label:"注册资本(万元)",prop:"registeredCapital"},{default:a(()=>[l(ue,{modelValue:o.registeredCapital,"onUpdate:modelValue":e[13]||(e[13]=t=>o.registeredCapital=t),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{span:12},{default:a(()=>[l(u,{label:"成立日期",prop:"establishDate"},{default:a(()=>[l(A,{modelValue:o.establishDate,"onUpdate:modelValue":e[14]||(e[14]=t=>o.establishDate=t),type:"date",placeholder:"选择成立日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[l(u,{label:"法定代表人",prop:"legalRepresentative"},{default:a(()=>[l(g,{modelValue:o.legalRepresentative,"onUpdate:modelValue":e[15]||(e[15]=t=>o.legalRepresentative=t),placeholder:"请输入法定代表人"},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{span:12},{default:a(()=>[l(u,{label:"经营状态",prop:"status"},{default:a(()=>[l(x,{modelValue:o.status,"onUpdate:modelValue":e[16]||(e[16]=t=>o.status=t),placeholder:"请选择经营状态",style:{width:"100%"}},{default:a(()=>[l(d,{label:"在业",value:"active"}),l(d,{label:"存续",value:"existing"}),l(d,{label:"吊销",value:"revoked"}),l(d,{label:"注销",value:"cancelled"}),l(d,{label:"迁出",value:"moved"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{label:"注册地址",prop:"address"},{default:a(()=>[l(g,{modelValue:o.address,"onUpdate:modelValue":e[17]||(e[17]=t=>o.address=t),placeholder:"请输入注册地址"},null,8,["modelValue"])]),_:1}),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[l(u,{label:"联系电话",prop:"phone"},{default:a(()=>[l(g,{modelValue:o.phone,"onUpdate:modelValue":e[18]||(e[18]=t=>o.phone=t),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{span:12},{default:a(()=>[l(u,{label:"邮箱",prop:"email"},{default:a(()=>[l(g,{modelValue:o.email,"onUpdate:modelValue":e[19]||(e[19]=t=>o.email=t),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{label:"经营范围",prop:"businessScope"},{default:a(()=>[l(g,{modelValue:o.businessScope,"onUpdate:modelValue":e[20]||(e[20]=t=>o.businessScope=t),type:"textarea",rows:3,placeholder:"请输入经营范围"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(X,{modelValue:D.value,"onUpdate:modelValue":e[31]||(e[31]=t=>D.value=t),title:M.value,width:"600px"},{footer:a(()=>[s("span",Ra,[l(n,{onClick:e[30]||(e[30]=t=>D.value=!1)},{default:a(()=>e[81]||(e[81]=[m("取消")])),_:1,__:[81]}),l(n,{type:"primary",onClick:Oe},{default:a(()=>e[82]||(e[82]=[m("确定")])),_:1,__:[82]})])]),default:a(()=>[l(B,{model:p,rules:fe,ref_key:"contactFormRef",ref:ee,"label-width":"100px"},{default:a(()=>[l(u,{label:"姓名",prop:"name"},{default:a(()=>[l(g,{modelValue:p.name,"onUpdate:modelValue":e[23]||(e[23]=t=>p.name=t),placeholder:"请输入联系人姓名"},null,8,["modelValue"])]),_:1}),l(u,{label:"职位",prop:"position"},{default:a(()=>[l(g,{modelValue:p.position,"onUpdate:modelValue":e[24]||(e[24]=t=>p.position=t),placeholder:"请输入职位"},null,8,["modelValue"])]),_:1}),l(u,{label:"联系电话",prop:"phone"},{default:a(()=>[l(g,{modelValue:p.phone,"onUpdate:modelValue":e[25]||(e[25]=t=>p.phone=t),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),l(u,{label:"邮箱",prop:"email"},{default:a(()=>[l(g,{modelValue:p.email,"onUpdate:modelValue":e[26]||(e[26]=t=>p.email=t),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),l(u,{label:"部门",prop:"department"},{default:a(()=>[l(g,{modelValue:p.department,"onUpdate:modelValue":e[27]||(e[27]=t=>p.department=t),placeholder:"请输入部门"},null,8,["modelValue"])]),_:1}),l(u,{label:"最后联系时间",prop:"lastContactDate"},{default:a(()=>[l(A,{modelValue:p.lastContactDate,"onUpdate:modelValue":e[28]||(e[28]=t=>p.lastContactDate=t),type:"date",placeholder:"选择最后联系时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(u,{label:"备注",prop:"notes"},{default:a(()=>[l(g,{modelValue:p.notes,"onUpdate:modelValue":e[29]||(e[29]=t=>p.notes=t),type:"textarea",rows:3,placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(X,{modelValue:z.value,"onUpdate:modelValue":e[39]||(e[39]=t=>z.value=t),title:Y.value,width:"700px"},{footer:a(()=>[s("span",Fa,[l(n,{onClick:e[38]||(e[38]=t=>z.value=!1)},{default:a(()=>e[83]||(e[83]=[m("取消")])),_:1,__:[83]}),l(n,{type:"primary",onClick:Je},{default:a(()=>e[84]||(e[84]=[m("确定")])),_:1,__:[84]})])]),default:a(()=>[l(B,{model:v,rules:ge,ref_key:"callRecordFormRef",ref:le,"label-width":"120px"},{default:a(()=>[l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[l(u,{label:"通话时间",prop:"callTime"},{default:a(()=>[l(A,{modelValue:v.callTime,"onUpdate:modelValue":e[32]||(e[32]=t=>v.callTime=t),type:"datetime",placeholder:"选择通话时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{span:12},{default:a(()=>[l(u,{label:"通话时长(分钟)",prop:"duration"},{default:a(()=>[l(ue,{modelValue:v.duration,"onUpdate:modelValue":e[33]||(e[33]=t=>v.duration=t),min:0,max:300,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(V,{gutter:20},{default:a(()=>[l(r,{span:12},{default:a(()=>[l(u,{label:"通话类型",prop:"callType"},{default:a(()=>[l(x,{modelValue:v.callType,"onUpdate:modelValue":e[34]||(e[34]=t=>v.callType=t),placeholder:"请选择通话类型",style:{width:"100%"}},{default:a(()=>[l(d,{label:"呼入",value:"incoming"}),l(d,{label:"呼出",value:"outgoing"}),l(d,{label:"未接",value:"missed"}),l(d,{label:"拒接",value:"rejected"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{span:12},{default:a(()=>[l(u,{label:"通话结果",prop:"result"},{default:a(()=>[l(x,{modelValue:v.result,"onUpdate:modelValue":e[35]||(e[35]=t=>v.result=t),placeholder:"请选择通话结果",style:{width:"100%"}},{default:a(()=>[l(d,{label:"成功",value:"success"}),l(d,{label:"失败",value:"failed"}),l(d,{label:"待跟进",value:"pending"}),l(d,{label:"已成交",value:"closed"}),l(d,{label:"无兴趣",value:"no_interest"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,{label:"下次跟进时间",prop:"nextFollowUp"},{default:a(()=>[l(A,{modelValue:v.nextFollowUp,"onUpdate:modelValue":e[36]||(e[36]=t=>v.nextFollowUp=t),type:"datetime",placeholder:"选择下次跟进时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(u,{label:"通话记录",prop:"notes"},{default:a(()=>[l(g,{modelValue:v.notes,"onUpdate:modelValue":e[37]||(e[37]=t=>v.notes=t),type:"textarea",rows:4,placeholder:"请详细记录通话内容、客户反馈、跟进计划等"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},qa=Ze(Da,[["__scopeId","data-v-dfeb4d98"]]);export{qa as default};
