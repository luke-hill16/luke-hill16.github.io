import{A as De,V as m,x as T,o as Ie,B as f,y as Oe,b as B,M as Z,c as e,W as t,k as b,e as s,D as ee,i as ae,a as $,z as Ae,f as Je,J as y,Y as le}from"./index-Cu5WJHTx.js";const Ee={class:"education-container"},Me={class:"tab-content"},Ne={class:"search-area"},Pe={class:"action-bar"},Re={class:"pagination-container"},We={class:"tab-content"},Fe={class:"search-area"},Ye={class:"action-bar"},Ge={class:"pagination-container"},He={class:"dialog-footer"},Ke={class:"dialog-footer"},Le={__name:"education",setup(Xe){const N=m("exam"),D=m(!1),w=m(!1),I=m("新增试卷"),x=m(1),O=m(10),P=m(0),R=m(),A=m(!1),C=m(!1),J=m("新增试题"),U=m(1),E=m(10),W=m(0),F=m(),_=T({name:"",type:"",status:""}),v=T({content:"",type:"",difficulty:""}),h=m([{id:1,name:"2024年春季期中考试",type:"midterm",totalScore:100,duration:120,questionCount:25,createTime:"2024-03-15",status:"published",description:"春季学期期中考试试卷"},{id:2,name:"数学单元测试一",type:"unit",totalScore:50,duration:60,questionCount:15,createTime:"2024-03-10",status:"draft",description:"第一章函数单元测试"},{id:3,name:"高考模拟考试",type:"mock",totalScore:150,duration:180,questionCount:35,createTime:"2024-03-01",status:"ended",description:"高考模拟考试试卷"}]),g=m([{id:1,content:"下列哪个是JavaScript的基本数据类型？",type:"single",difficulty:"easy",score:5,subject:"计算机科学",createTime:"2024-03-15",answer:"A",analysis:"JavaScript的基本数据类型包括：Number、String、Boolean、Undefined、Null、Symbol、BigInt"},{id:2,content:"请简述面向对象编程的三大特性。",type:"short",difficulty:"medium",score:10,subject:"计算机科学",createTime:"2024-03-14",answer:"封装、继承、多态",analysis:"面向对象编程的三大特性是封装、继承和多态，这是面向对象编程的核心概念。"},{id:3,content:"1 + 1 = 2",type:"judge",difficulty:"easy",score:2,subject:"数学",createTime:"2024-03-13",answer:"正确",analysis:"1加1等于2是基本的数学运算。"}]),r=T({id:null,name:"",type:"",totalScore:100,duration:120,status:"draft",description:""}),u=T({id:null,content:"",type:"",difficulty:"",score:5,subject:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:"",analysis:""}),te={name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}],type:[{required:!0,message:"请选择试卷类型",trigger:"change"}],totalScore:[{required:!0,message:"请输入总分",trigger:"blur"}],duration:[{required:!0,message:"请输入考试时长",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},oe={content:[{required:!0,message:"请输入题目内容",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],score:[{required:!0,message:"请输入分值",trigger:"blur"}],subject:[{required:!0,message:"请输入科目",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},ue=o=>({midterm:"warning",final:"danger",mock:"info",unit:"success"})[o]||"info",de=o=>({midterm:"期中考试",final:"期末考试",mock:"模拟考试",unit:"单元测试"})[o]||"未知",ie=o=>({draft:"info",published:"success",ended:"warning"})[o]||"info",ne=o=>({draft:"草稿",published:"已发布",ended:"已结束"})[o]||"未知",re=o=>({single:"primary",multiple:"success",judge:"warning",fill:"info",short:"danger"})[o]||"info",se=o=>({single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",short:"简答题"})[o]||"未知",pe=o=>({easy:"success",medium:"warning",hard:"danger"})[o]||"info",ce=o=>({easy:"简单",medium:"中等",hard:"困难"})[o]||"未知",Y=()=>{x.value=1,j()},me=()=>{Object.keys(_).forEach(o=>{_[o]=""}),Y()},G=()=>{U.value=1,S()},fe=()=>{Object.keys(v).forEach(o=>{v[o]=""}),G()},be=()=>{I.value="新增试卷",Ue(),w.value=!0},ye=o=>{I.value="编辑试卷",Object.assign(r,o),w.value=!0},_e=o=>{y.info(`查看试卷：${o.name}`)},ve=o=>{y.info(`管理试卷"${o.name}"的题目`)},he=o=>{le.confirm(`确定要删除试卷"${o.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const a=h.value.findIndex(n=>n.id===o.id);a>-1&&(h.value.splice(a,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},ge=()=>{J.value="新增试题",je(),C.value=!0},Ve=o=>{J.value="编辑试题",Object.assign(u,o),C.value=!0},we=o=>{y.info(`查看试题：${o.content.substring(0,20)}...`)},Ce=o=>{le.confirm("确定要删除这道试题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const a=g.value.findIndex(n=>n.id===o.id);a>-1&&(g.value.splice(a,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},ke=()=>{R.value.validate(o=>{if(o){if(r.id){const a=h.value.findIndex(n=>n.id===r.id);a>-1&&Object.assign(h.value[a],{...r}),y.success("编辑成功")}else{const a=Math.max(...h.value.map(n=>n.id))+1;h.value.push({...r,id:a,questionCount:0,createTime:new Date().toISOString().split("T")[0]}),y.success("新增成功")}w.value=!1}})},xe=()=>{F.value.validate(o=>{if(o){if(u.id){const a=g.value.findIndex(n=>n.id===u.id);a>-1&&Object.assign(g.value[a],{...u}),y.success("编辑成功")}else{const a=Math.max(...g.value.map(n=>n.id))+1;g.value.push({...u,id:a,createTime:new Date().toISOString().split("T")[0]}),y.success("新增成功")}C.value=!1}})},Ue=()=>{Object.keys(r).forEach(o=>{r[o]=o==="totalScore"?100:o==="duration"?120:o==="status"?"draft":""}),r.id=null},je=()=>{Object.keys(u).forEach(o=>{u[o]=o==="score"?5:""}),u.id=null},Se=o=>{O.value=o,j()},ze=o=>{x.value=o,j()},qe=o=>{E.value=o,S()},Te=o=>{U.value=o,S()},j=()=>{D.value=!0,setTimeout(()=>{D.value=!1,P.value=h.value.length},500)},S=()=>{A.value=!0,setTimeout(()=>{A.value=!1,W.value=g.value.length},500)};return Ie(()=>{j(),S()}),(o,a)=>{const n=f("el-input"),i=f("el-form-item"),d=f("el-option"),V=f("el-select"),p=f("el-button"),z=f("el-form"),c=f("el-table-column"),q=f("el-tag"),H=f("el-table"),K=f("el-pagination"),L=f("el-tab-pane"),Be=f("el-tabs"),$e=f("el-card"),M=f("el-input-number"),X=f("el-dialog"),Q=Oe("loading");return B(),Z("div",Ee,[e($e,{class:"box-card"},{header:t(()=>a[32]||(a[32]=[b("div",{class:"card-header"},[b("span",null,"教育管理")],-1)])),default:t(()=>[e(Be,{modelValue:N.value,"onUpdate:modelValue":a[10]||(a[10]=l=>N.value=l),type:"card",class:"education-tabs"},{default:t(()=>[e(L,{label:"试卷管理",name:"exam"},{default:t(()=>[b("div",Me,[b("div",Ne,[e(z,{inline:!0,model:_,class:"search-form"},{default:t(()=>[e(i,{label:"试卷名称"},{default:t(()=>[e(n,{modelValue:_.name,"onUpdate:modelValue":a[0]||(a[0]=l=>_.name=l),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"试卷类型"},{default:t(()=>[e(V,{modelValue:_.type,"onUpdate:modelValue":a[1]||(a[1]=l=>_.type=l),placeholder:"请选择试卷类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"期中考试",value:"midterm"}),e(d,{label:"期末考试",value:"final"}),e(d,{label:"模拟考试",value:"mock"}),e(d,{label:"单元测试",value:"unit"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"状态"},{default:t(()=>[e(V,{modelValue:_.status,"onUpdate:modelValue":a[2]||(a[2]=l=>_.status=l),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"草稿",value:"draft"}),e(d,{label:"已发布",value:"published"}),e(d,{label:"已结束",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(p,{type:"primary",onClick:Y},{default:t(()=>a[33]||(a[33]=[s("搜索")])),_:1,__:[33]}),e(p,{onClick:me},{default:t(()=>a[34]||(a[34]=[s("重置")])),_:1,__:[34]})]),_:1})]),_:1},8,["model"])]),b("div",Pe,[e(p,{type:"primary",onClick:be},{default:t(()=>a[35]||(a[35]=[s("新增试卷")])),_:1,__:[35]})]),ee((B(),ae(H,{data:h.value,style:{width:"100%"}},{default:t(()=>[e(c,{prop:"id",label:"ID",width:"80"}),e(c,{prop:"name",label:"试卷名称"}),e(c,{prop:"type",label:"试卷类型",width:"120"},{default:t(l=>[e(q,{type:ue(l.row.type)},{default:t(()=>[s($(de(l.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"totalScore",label:"总分",width:"80"}),e(c,{prop:"duration",label:"考试时长(分钟)",width:"120"}),e(c,{prop:"questionCount",label:"题目数量",width:"100"}),e(c,{prop:"createTime",label:"创建时间",width:"120"}),e(c,{prop:"status",label:"状态",width:"100"},{default:t(l=>[e(q,{type:ie(l.row.status)},{default:t(()=>[s($(ne(l.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(c,{label:"操作",width:"250",fixed:"right"},{default:t(l=>[e(p,{size:"small",onClick:k=>ye(l.row)},{default:t(()=>a[36]||(a[36]=[s("编辑")])),_:2,__:[36]},1032,["onClick"]),e(p,{size:"small",type:"success",onClick:k=>_e(l.row)},{default:t(()=>a[37]||(a[37]=[s("查看")])),_:2,__:[37]},1032,["onClick"]),e(p,{size:"small",type:"warning",onClick:k=>ve(l.row)},{default:t(()=>a[38]||(a[38]=[s("管理题目")])),_:2,__:[38]},1032,["onClick"]),e(p,{size:"small",type:"danger",onClick:k=>he(l.row)},{default:t(()=>a[39]||(a[39]=[s("删除")])),_:2,__:[39]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,D.value]]),b("div",Re,[e(K,{"current-page":x.value,"onUpdate:currentPage":a[3]||(a[3]=l=>x.value=l),"page-size":O.value,"onUpdate:pageSize":a[4]||(a[4]=l=>O.value=l),"page-sizes":[10,20,50,100],total:P.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Se,onCurrentChange:ze},null,8,["current-page","page-size","total"])])])]),_:1}),e(L,{label:"试题管理",name:"question"},{default:t(()=>[b("div",We,[b("div",Fe,[e(z,{inline:!0,model:v,class:"search-form"},{default:t(()=>[e(i,{label:"题目内容"},{default:t(()=>[e(n,{modelValue:v.content,"onUpdate:modelValue":a[5]||(a[5]=l=>v.content=l),placeholder:"请输入题目内容",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"题目类型"},{default:t(()=>[e(V,{modelValue:v.type,"onUpdate:modelValue":a[6]||(a[6]=l=>v.type=l),placeholder:"请选择题目类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"单选题",value:"single"}),e(d,{label:"多选题",value:"multiple"}),e(d,{label:"判断题",value:"judge"}),e(d,{label:"填空题",value:"fill"}),e(d,{label:"简答题",value:"short"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"难度"},{default:t(()=>[e(V,{modelValue:v.difficulty,"onUpdate:modelValue":a[7]||(a[7]=l=>v.difficulty=l),placeholder:"请选择难度",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"简单",value:"easy"}),e(d,{label:"中等",value:"medium"}),e(d,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(p,{type:"primary",onClick:G},{default:t(()=>a[40]||(a[40]=[s("搜索")])),_:1,__:[40]}),e(p,{onClick:fe},{default:t(()=>a[41]||(a[41]=[s("重置")])),_:1,__:[41]})]),_:1})]),_:1},8,["model"])]),b("div",Ye,[e(p,{type:"primary",onClick:ge},{default:t(()=>a[42]||(a[42]=[s("新增试题")])),_:1,__:[42]})]),ee((B(),ae(H,{data:g.value,style:{width:"100%"}},{default:t(()=>[e(c,{prop:"id",label:"ID",width:"80"}),e(c,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),e(c,{prop:"type",label:"题目类型",width:"100"},{default:t(l=>[e(q,{type:re(l.row.type)},{default:t(()=>[s($(se(l.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"difficulty",label:"难度",width:"80"},{default:t(l=>[e(q,{type:pe(l.row.difficulty)},{default:t(()=>[s($(ce(l.row.difficulty)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"score",label:"分值",width:"80"}),e(c,{prop:"subject",label:"科目",width:"100"}),e(c,{prop:"createTime",label:"创建时间",width:"120"}),e(c,{label:"操作",width:"200",fixed:"right"},{default:t(l=>[e(p,{size:"small",onClick:k=>Ve(l.row)},{default:t(()=>a[43]||(a[43]=[s("编辑")])),_:2,__:[43]},1032,["onClick"]),e(p,{size:"small",type:"success",onClick:k=>we(l.row)},{default:t(()=>a[44]||(a[44]=[s("查看")])),_:2,__:[44]},1032,["onClick"]),e(p,{size:"small",type:"danger",onClick:k=>Ce(l.row)},{default:t(()=>a[45]||(a[45]=[s("删除")])),_:2,__:[45]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[Q,A.value]]),b("div",Ge,[e(K,{"current-page":U.value,"onUpdate:currentPage":a[8]||(a[8]=l=>U.value=l),"page-size":E.value,"onUpdate:pageSize":a[9]||(a[9]=l=>E.value=l),"page-sizes":[10,20,50,100],total:W.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:qe,onCurrentChange:Te},null,8,["current-page","page-size","total"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(X,{modelValue:w.value,"onUpdate:modelValue":a[18]||(a[18]=l=>w.value=l),title:I.value,width:"700px"},{footer:t(()=>[b("span",He,[e(p,{onClick:a[17]||(a[17]=l=>w.value=!1)},{default:t(()=>a[46]||(a[46]=[s("取消")])),_:1,__:[46]}),e(p,{type:"primary",onClick:ke},{default:t(()=>a[47]||(a[47]=[s("确定")])),_:1,__:[47]})])]),default:t(()=>[e(z,{model:r,rules:te,ref_key:"examFormRef",ref:R,"label-width":"100px"},{default:t(()=>[e(i,{label:"试卷名称",prop:"name"},{default:t(()=>[e(n,{modelValue:r.name,"onUpdate:modelValue":a[11]||(a[11]=l=>r.name=l),placeholder:"请输入试卷名称"},null,8,["modelValue"])]),_:1}),e(i,{label:"试卷类型",prop:"type"},{default:t(()=>[e(V,{modelValue:r.type,"onUpdate:modelValue":a[12]||(a[12]=l=>r.type=l),placeholder:"请选择试卷类型",style:{width:"100%"}},{default:t(()=>[e(d,{label:"期中考试",value:"midterm"}),e(d,{label:"期末考试",value:"final"}),e(d,{label:"模拟考试",value:"mock"}),e(d,{label:"单元测试",value:"unit"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"总分",prop:"totalScore"},{default:t(()=>[e(M,{modelValue:r.totalScore,"onUpdate:modelValue":a[13]||(a[13]=l=>r.totalScore=l),min:0,max:200,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"考试时长(分钟)",prop:"duration"},{default:t(()=>[e(M,{modelValue:r.duration,"onUpdate:modelValue":a[14]||(a[14]=l=>r.duration=l),min:30,max:300,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"状态",prop:"status"},{default:t(()=>[e(V,{modelValue:r.status,"onUpdate:modelValue":a[15]||(a[15]=l=>r.status=l),placeholder:"请选择状态",style:{width:"100%"}},{default:t(()=>[e(d,{label:"草稿",value:"draft"}),e(d,{label:"已发布",value:"published"}),e(d,{label:"已结束",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"试卷说明",prop:"description"},{default:t(()=>[e(n,{modelValue:r.description,"onUpdate:modelValue":a[16]||(a[16]=l=>r.description=l),type:"textarea",rows:3,placeholder:"请输入试卷说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(X,{modelValue:C.value,"onUpdate:modelValue":a[31]||(a[31]=l=>C.value=l),title:J.value,width:"800px"},{footer:t(()=>[b("span",Ke,[e(p,{onClick:a[30]||(a[30]=l=>C.value=!1)},{default:t(()=>a[48]||(a[48]=[s("取消")])),_:1,__:[48]}),e(p,{type:"primary",onClick:xe},{default:t(()=>a[49]||(a[49]=[s("确定")])),_:1,__:[49]})])]),default:t(()=>[e(z,{model:u,rules:oe,ref_key:"questionFormRef",ref:F,"label-width":"100px"},{default:t(()=>[e(i,{label:"题目内容",prop:"content"},{default:t(()=>[e(n,{modelValue:u.content,"onUpdate:modelValue":a[19]||(a[19]=l=>u.content=l),type:"textarea",rows:4,placeholder:"请输入题目内容"},null,8,["modelValue"])]),_:1}),e(i,{label:"题目类型",prop:"type"},{default:t(()=>[e(V,{modelValue:u.type,"onUpdate:modelValue":a[20]||(a[20]=l=>u.type=l),placeholder:"请选择题目类型",style:{width:"100%"}},{default:t(()=>[e(d,{label:"单选题",value:"single"}),e(d,{label:"多选题",value:"multiple"}),e(d,{label:"判断题",value:"judge"}),e(d,{label:"填空题",value:"fill"}),e(d,{label:"简答题",value:"short"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"难度",prop:"difficulty"},{default:t(()=>[e(V,{modelValue:u.difficulty,"onUpdate:modelValue":a[21]||(a[21]=l=>u.difficulty=l),placeholder:"请选择难度",style:{width:"100%"}},{default:t(()=>[e(d,{label:"简单",value:"easy"}),e(d,{label:"中等",value:"medium"}),e(d,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"分值",prop:"score"},{default:t(()=>[e(M,{modelValue:u.score,"onUpdate:modelValue":a[22]||(a[22]=l=>u.score=l),min:1,max:50,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"科目",prop:"subject"},{default:t(()=>[e(n,{modelValue:u.subject,"onUpdate:modelValue":a[23]||(a[23]=l=>u.subject=l),placeholder:"请输入科目"},null,8,["modelValue"])]),_:1}),u.type==="single"||u.type==="multiple"?(B(),Z(Ae,{key:0},[e(i,{label:"选项A",prop:"optionA"},{default:t(()=>[e(n,{modelValue:u.optionA,"onUpdate:modelValue":a[24]||(a[24]=l=>u.optionA=l),placeholder:"请输入选项A"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项B",prop:"optionB"},{default:t(()=>[e(n,{modelValue:u.optionB,"onUpdate:modelValue":a[25]||(a[25]=l=>u.optionB=l),placeholder:"请输入选项B"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项C",prop:"optionC"},{default:t(()=>[e(n,{modelValue:u.optionC,"onUpdate:modelValue":a[26]||(a[26]=l=>u.optionC=l),placeholder:"请输入选项C"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项D",prop:"optionD"},{default:t(()=>[e(n,{modelValue:u.optionD,"onUpdate:modelValue":a[27]||(a[27]=l=>u.optionD=l),placeholder:"请输入选项D"},null,8,["modelValue"])]),_:1})],64)):Je("",!0),e(i,{label:"正确答案",prop:"answer"},{default:t(()=>[e(n,{modelValue:u.answer,"onUpdate:modelValue":a[28]||(a[28]=l=>u.answer=l),placeholder:"请输入正确答案"},null,8,["modelValue"])]),_:1}),e(i,{label:"解析",prop:"analysis"},{default:t(()=>[e(n,{modelValue:u.analysis,"onUpdate:modelValue":a[29]||(a[29]=l=>u.analysis=l),type:"textarea",rows:3,placeholder:"请输入题目解析"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},Ze=De(Le,[["__scopeId","data-v-e0c16c50"]]);export{Ze as default};
