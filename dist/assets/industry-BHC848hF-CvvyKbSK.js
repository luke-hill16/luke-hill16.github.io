import{A as ae,V as g,y as B,o as le,B as r,J as te,w as I,M as de,b as e,W as t,k as f,j as s,D as ue,i as oe,a as O,e as v,Y as ne}from"./index-BVmt8t0O.js";const re={class:"industry-container"},ie={class:"card-header"},se={class:"search-area"},pe={class:"pagination-container"},me={class:"dialog-footer"},ce={__name:"industry",setup(ge){const w=g(!1),b=g(!1),D=g("新增工信项目"),_=g(1),k=g(10),x=g(0),C=g(),p=B({name:"",type:"",status:""}),c=g([{id:1,name:"智能制造示范项目",type:"smart",budget:500,startDate:"2024-01-01",endDate:"2024-12-31",status:"ongoing",manager:"张三",description:"推进企业智能制造转型升级"},{id:2,name:"数字化转型项目",type:"digital",budget:300,startDate:"2024-02-01",endDate:"2024-08-31",status:"completed",manager:"李四",description:"企业数字化管理系统建设"},{id:3,name:"技术创新研发项目",type:"innovation",budget:800,startDate:"2024-03-01",endDate:"2025-02-28",status:"ongoing",manager:"王五",description:"新技术研发与应用"}]),u=B({id:null,name:"",type:"",budget:0,startDate:"",endDate:"",status:"",manager:"",description:""}),S={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],type:[{required:!0,message:"请选择项目类型",trigger:"change"}],budget:[{required:!0,message:"请输入预算",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始时间",trigger:"change"}],endDate:[{required:!0,message:"请选择结束时间",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],manager:[{required:!0,message:"请输入负责人",trigger:"blur"}]},T=d=>({innovation:"success",upgrade:"warning",smart:"primary",digital:"info"})[d]||"info",A=d=>({innovation:"技术创新",upgrade:"产业升级",smart:"智能制造",digital:"数字化转型"})[d]||"未知",J=d=>({ongoing:"primary",completed:"success",paused:"warning"})[d]||"info",M=d=>({ongoing:"进行中",completed:"已完成",paused:"暂停"})[d]||"未知",U=()=>{_.value=1,h()},Y=()=>{Object.keys(p).forEach(d=>{p[d]=""}),U()},E=()=>{D.value="新增工信项目",G(),b.value=!0},P=d=>{D.value="编辑工信项目",Object.assign(u,d),b.value=!0},R=d=>{v.info(`查看项目：${d.name}`)},W=d=>{ne.confirm(`确定要删除项目"${d.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const a=c.value.findIndex(o=>o.id===d.id);a>-1&&(c.value.splice(a,1),v.success("删除成功"))}).catch(()=>{v.info("已取消删除")})},F=()=>{C.value.validate(d=>{if(d){if(u.id){const a=c.value.findIndex(o=>o.id===u.id);a>-1&&Object.assign(c.value[a],{...u}),v.success("编辑成功")}else{const a=Math.max(...c.value.map(o=>o.id))+1;c.value.push({...u,id:a}),v.success("新增成功")}b.value=!1}})},G=()=>{Object.keys(u).forEach(d=>{u[d]=d==="budget"?0:""}),u.id=null},H=d=>{k.value=d,h()},K=d=>{_.value=d,h()},h=()=>{w.value=!0,setTimeout(()=>{w.value=!1,x.value=c.value.length},500)};return le(()=>{h()}),(d,a)=>{const o=r("el-button"),y=r("el-input"),i=r("el-form-item"),n=r("el-option"),V=r("el-select"),z=r("el-form"),m=r("el-table-column"),j=r("el-tag"),L=r("el-table"),N=r("el-pagination"),Q=r("el-card"),X=r("el-input-number"),$=r("el-date-picker"),Z=r("el-dialog"),ee=te("loading");return I(),de("div",re,[e(Q,{class:"box-card"},{header:t(()=>[f("div",ie,[a[16]||(a[16]=f("span",null,"工信管理",-1)),e(o,{type:"primary",onClick:E},{default:t(()=>a[15]||(a[15]=[s("新增工信项目")])),_:1,__:[15]})])]),default:t(()=>[f("div",se,[e(z,{inline:!0,model:p,class:"search-form"},{default:t(()=>[e(i,{label:"项目名称"},{default:t(()=>[e(y,{modelValue:p.name,"onUpdate:modelValue":a[0]||(a[0]=l=>p.name=l),placeholder:"请输入项目名称",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"项目类型"},{default:t(()=>[e(V,{modelValue:p.type,"onUpdate:modelValue":a[1]||(a[1]=l=>p.type=l),placeholder:"请选择项目类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(n,{label:"技术创新",value:"innovation"}),e(n,{label:"产业升级",value:"upgrade"}),e(n,{label:"智能制造",value:"smart"}),e(n,{label:"数字化转型",value:"digital"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"状态"},{default:t(()=>[e(V,{modelValue:p.status,"onUpdate:modelValue":a[2]||(a[2]=l=>p.status=l),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:t(()=>[e(n,{label:"进行中",value:"ongoing"}),e(n,{label:"已完成",value:"completed"}),e(n,{label:"暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(o,{type:"primary",onClick:U},{default:t(()=>a[17]||(a[17]=[s("搜索")])),_:1,__:[17]}),e(o,{onClick:Y},{default:t(()=>a[18]||(a[18]=[s("重置")])),_:1,__:[18]})]),_:1})]),_:1},8,["model"])]),ue((I(),oe(L,{data:c.value,style:{width:"100%"}},{default:t(()=>[e(m,{prop:"id",label:"ID",width:"80"}),e(m,{prop:"name",label:"项目名称"}),e(m,{prop:"type",label:"项目类型",width:"120"},{default:t(l=>[e(j,{type:T(l.row.type)},{default:t(()=>[s(O(A(l.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"budget",label:"预算(万元)",width:"120"}),e(m,{prop:"startDate",label:"开始时间",width:"120"}),e(m,{prop:"endDate",label:"结束时间",width:"120"}),e(m,{prop:"status",label:"状态",width:"100"},{default:t(l=>[e(j,{type:J(l.row.status)},{default:t(()=>[s(O(M(l.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"manager",label:"负责人",width:"100"}),e(m,{label:"操作",width:"200",fixed:"right"},{default:t(l=>[e(o,{size:"small",onClick:q=>P(l.row)},{default:t(()=>a[19]||(a[19]=[s("编辑")])),_:2,__:[19]},1032,["onClick"]),e(o,{size:"small",type:"success",onClick:q=>R(l.row)},{default:t(()=>a[20]||(a[20]=[s("查看")])),_:2,__:[20]},1032,["onClick"]),e(o,{size:"small",type:"danger",onClick:q=>W(l.row)},{default:t(()=>a[21]||(a[21]=[s("删除")])),_:2,__:[21]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[ee,w.value]]),f("div",pe,[e(N,{"current-page":_.value,"onUpdate:currentPage":a[3]||(a[3]=l=>_.value=l),"page-size":k.value,"onUpdate:pageSize":a[4]||(a[4]=l=>k.value=l),"page-sizes":[10,20,50,100],total:x.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:H,onCurrentChange:K},null,8,["current-page","page-size","total"])])]),_:1}),e(Z,{modelValue:b.value,"onUpdate:modelValue":a[14]||(a[14]=l=>b.value=l),title:D.value,width:"600px"},{footer:t(()=>[f("span",me,[e(o,{onClick:a[13]||(a[13]=l=>b.value=!1)},{default:t(()=>a[22]||(a[22]=[s("取消")])),_:1,__:[22]}),e(o,{type:"primary",onClick:F},{default:t(()=>a[23]||(a[23]=[s("确定")])),_:1,__:[23]})])]),default:t(()=>[e(z,{model:u,rules:S,ref_key:"formRef",ref:C,"label-width":"100px"},{default:t(()=>[e(i,{label:"项目名称",prop:"name"},{default:t(()=>[e(y,{modelValue:u.name,"onUpdate:modelValue":a[5]||(a[5]=l=>u.name=l),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),e(i,{label:"项目类型",prop:"type"},{default:t(()=>[e(V,{modelValue:u.type,"onUpdate:modelValue":a[6]||(a[6]=l=>u.type=l),placeholder:"请选择项目类型",style:{width:"100%"}},{default:t(()=>[e(n,{label:"技术创新",value:"innovation"}),e(n,{label:"产业升级",value:"upgrade"}),e(n,{label:"智能制造",value:"smart"}),e(n,{label:"数字化转型",value:"digital"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"预算(万元)",prop:"budget"},{default:t(()=>[e(X,{modelValue:u.budget,"onUpdate:modelValue":a[7]||(a[7]=l=>u.budget=l),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"开始时间",prop:"startDate"},{default:t(()=>[e($,{modelValue:u.startDate,"onUpdate:modelValue":a[8]||(a[8]=l=>u.startDate=l),type:"date",placeholder:"选择开始时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"结束时间",prop:"endDate"},{default:t(()=>[e($,{modelValue:u.endDate,"onUpdate:modelValue":a[9]||(a[9]=l=>u.endDate=l),type:"date",placeholder:"选择结束时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"状态",prop:"status"},{default:t(()=>[e(V,{modelValue:u.status,"onUpdate:modelValue":a[10]||(a[10]=l=>u.status=l),placeholder:"请选择状态",style:{width:"100%"}},{default:t(()=>[e(n,{label:"进行中",value:"ongoing"}),e(n,{label:"已完成",value:"completed"}),e(n,{label:"暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"负责人",prop:"manager"},{default:t(()=>[e(y,{modelValue:u.manager,"onUpdate:modelValue":a[11]||(a[11]=l=>u.manager=l),placeholder:"请输入负责人"},null,8,["modelValue"])]),_:1}),e(i,{label:"项目描述",prop:"description"},{default:t(()=>[e(y,{modelValue:u.description,"onUpdate:modelValue":a[12]||(a[12]=l=>u.description=l),type:"textarea",rows:3,placeholder:"请输入项目描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},fe=ae(ce,[["__scopeId","data-v-41590436"]]);export{fe as default};
