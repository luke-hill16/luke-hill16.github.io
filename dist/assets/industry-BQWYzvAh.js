import{_ as te,r as c,J as q,o as le,c as ae,b as e,w as a,d as u,e as B,a as _,g as i,K as oe,i as ne,t as E,E as b,k as se,L as de}from"./index-CKnxlqKw.js";const ue={class:"industry-container"},re={class:"card-header"},ie={class:"search-area"},pe={class:"pagination-container"},me={class:"dialog-footer"},ge={__name:"industry",setup(ce){const D=c(!1),f=c(!1),x=c("新增工信项目"),v=c(1),h=c(10),k=c(0),C=c(),p=q({name:"",type:"",status:""}),g=c([{id:1,name:"智能制造示范项目",type:"smart",budget:500,startDate:"2024-01-01",endDate:"2024-12-31",status:"ongoing",manager:"张三",description:"推进企业智能制造转型升级"},{id:2,name:"数字化转型项目",type:"digital",budget:300,startDate:"2024-02-01",endDate:"2024-08-31",status:"completed",manager:"李四",description:"企业数字化管理系统建设"},{id:3,name:"技术创新研发项目",type:"innovation",budget:800,startDate:"2024-03-01",endDate:"2025-02-28",status:"ongoing",manager:"王五",description:"新技术研发与应用"}]),n=q({id:null,name:"",type:"",budget:0,startDate:"",endDate:"",status:"",manager:"",description:""}),$={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],type:[{required:!0,message:"请选择项目类型",trigger:"change"}],budget:[{required:!0,message:"请输入预算",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始时间",trigger:"change"}],endDate:[{required:!0,message:"请选择结束时间",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],manager:[{required:!0,message:"请输入负责人",trigger:"blur"}]},j=o=>({innovation:"success",upgrade:"warning",smart:"primary",digital:"info"})[o]||"info",I=o=>({innovation:"技术创新",upgrade:"产业升级",smart:"智能制造",digital:"数字化转型"})[o]||"未知",O=o=>({ongoing:"primary",completed:"success",paused:"warning"})[o]||"info",L=o=>({ongoing:"进行中",completed:"已完成",paused:"暂停"})[o]||"未知",U=()=>{v.value=1,y()},N=()=>{Object.keys(p).forEach(o=>{p[o]=""}),U()},R=()=>{x.value="新增工信项目",K(),f.value=!0},F=o=>{x.value="编辑工信项目",Object.assign(n,o),f.value=!0},P=o=>{b.info(`查看项目：${o.name}`)},A=o=>{se.confirm(`确定要删除项目"${o.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const t=g.value.findIndex(s=>s.id===o.id);t>-1&&(g.value.splice(t,1),b.success("删除成功"))}).catch(()=>{b.info("已取消删除")})},J=()=>{C.value.validate(o=>{if(o){if(n.id){const t=g.value.findIndex(s=>s.id===n.id);t>-1&&Object.assign(g.value[t],{...n}),b.success("编辑成功")}else{const t=Math.max(...g.value.map(s=>s.id))+1;g.value.push({...n,id:t}),b.success("新增成功")}f.value=!1}})},K=()=>{Object.keys(n).forEach(o=>{n[o]=o==="budget"?0:""}),n.id=null},G=o=>{h.value=o,y()},H=o=>{v.value=o,y()},y=()=>{D.value=!0,setTimeout(()=>{D.value=!1,k.value=g.value.length},500)};return le(()=>{y()}),(o,t)=>{const s=u("el-button"),V=u("el-input"),r=u("el-form-item"),d=u("el-option"),w=u("el-select"),M=u("el-form"),m=u("el-table-column"),z=u("el-tag"),Q=u("el-table"),W=u("el-pagination"),X=u("el-card"),Y=u("el-input-number"),T=u("el-date-picker"),Z=u("el-dialog"),ee=de("loading");return B(),ae("div",ue,[e(X,{class:"box-card"},{header:a(()=>[_("div",re,[t[16]||(t[16]=_("span",null,"工信管理",-1)),e(s,{type:"primary",onClick:R},{default:a(()=>t[15]||(t[15]=[i("新增工信项目")])),_:1,__:[15]})])]),default:a(()=>[_("div",ie,[e(M,{inline:!0,model:p,class:"search-form"},{default:a(()=>[e(r,{label:"项目名称"},{default:a(()=>[e(V,{modelValue:p.name,"onUpdate:modelValue":t[0]||(t[0]=l=>p.name=l),placeholder:"请输入项目名称",clearable:""},null,8,["modelValue"])]),_:1}),e(r,{label:"项目类型"},{default:a(()=>[e(w,{modelValue:p.type,"onUpdate:modelValue":t[1]||(t[1]=l=>p.type=l),placeholder:"请选择项目类型",clearable:"",style:{width:"180px"}},{default:a(()=>[e(d,{label:"技术创新",value:"innovation"}),e(d,{label:"产业升级",value:"upgrade"}),e(d,{label:"智能制造",value:"smart"}),e(d,{label:"数字化转型",value:"digital"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"状态"},{default:a(()=>[e(w,{modelValue:p.status,"onUpdate:modelValue":t[2]||(t[2]=l=>p.status=l),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:a(()=>[e(d,{label:"进行中",value:"ongoing"}),e(d,{label:"已完成",value:"completed"}),e(d,{label:"暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(s,{type:"primary",onClick:U},{default:a(()=>t[17]||(t[17]=[i("搜索")])),_:1,__:[17]}),e(s,{onClick:N},{default:a(()=>t[18]||(t[18]=[i("重置")])),_:1,__:[18]})]),_:1})]),_:1},8,["model"])]),oe((B(),ne(Q,{data:g.value,style:{width:"100%"}},{default:a(()=>[e(m,{prop:"id",label:"ID",width:"80"}),e(m,{prop:"name",label:"项目名称"}),e(m,{prop:"type",label:"项目类型",width:"120"},{default:a(l=>[e(z,{type:j(l.row.type)},{default:a(()=>[i(E(I(l.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"budget",label:"预算(万元)",width:"120"}),e(m,{prop:"startDate",label:"开始时间",width:"120"}),e(m,{prop:"endDate",label:"结束时间",width:"120"}),e(m,{prop:"status",label:"状态",width:"100"},{default:a(l=>[e(z,{type:O(l.row.status)},{default:a(()=>[i(E(L(l.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"manager",label:"负责人",width:"100"}),e(m,{label:"操作",width:"200",fixed:"right"},{default:a(l=>[e(s,{size:"small",onClick:S=>F(l.row)},{default:a(()=>t[19]||(t[19]=[i("编辑")])),_:2,__:[19]},1032,["onClick"]),e(s,{size:"small",type:"success",onClick:S=>P(l.row)},{default:a(()=>t[20]||(t[20]=[i("查看")])),_:2,__:[20]},1032,["onClick"]),e(s,{size:"small",type:"danger",onClick:S=>A(l.row)},{default:a(()=>t[21]||(t[21]=[i("删除")])),_:2,__:[21]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[ee,D.value]]),_("div",pe,[e(W,{"current-page":v.value,"onUpdate:currentPage":t[3]||(t[3]=l=>v.value=l),"page-size":h.value,"onUpdate:pageSize":t[4]||(t[4]=l=>h.value=l),"page-sizes":[10,20,50,100],total:k.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:G,onCurrentChange:H},null,8,["current-page","page-size","total"])])]),_:1}),e(Z,{modelValue:f.value,"onUpdate:modelValue":t[14]||(t[14]=l=>f.value=l),title:x.value,width:"600px"},{footer:a(()=>[_("span",me,[e(s,{onClick:t[13]||(t[13]=l=>f.value=!1)},{default:a(()=>t[22]||(t[22]=[i("取消")])),_:1,__:[22]}),e(s,{type:"primary",onClick:J},{default:a(()=>t[23]||(t[23]=[i("确定")])),_:1,__:[23]})])]),default:a(()=>[e(M,{model:n,rules:$,ref_key:"formRef",ref:C,"label-width":"100px"},{default:a(()=>[e(r,{label:"项目名称",prop:"name"},{default:a(()=>[e(V,{modelValue:n.name,"onUpdate:modelValue":t[5]||(t[5]=l=>n.name=l),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),e(r,{label:"项目类型",prop:"type"},{default:a(()=>[e(w,{modelValue:n.type,"onUpdate:modelValue":t[6]||(t[6]=l=>n.type=l),placeholder:"请选择项目类型",style:{width:"100%"}},{default:a(()=>[e(d,{label:"技术创新",value:"innovation"}),e(d,{label:"产业升级",value:"upgrade"}),e(d,{label:"智能制造",value:"smart"}),e(d,{label:"数字化转型",value:"digital"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"预算(万元)",prop:"budget"},{default:a(()=>[e(Y,{modelValue:n.budget,"onUpdate:modelValue":t[7]||(t[7]=l=>n.budget=l),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(r,{label:"开始时间",prop:"startDate"},{default:a(()=>[e(T,{modelValue:n.startDate,"onUpdate:modelValue":t[8]||(t[8]=l=>n.startDate=l),type:"date",placeholder:"选择开始时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(r,{label:"结束时间",prop:"endDate"},{default:a(()=>[e(T,{modelValue:n.endDate,"onUpdate:modelValue":t[9]||(t[9]=l=>n.endDate=l),type:"date",placeholder:"选择结束时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(r,{label:"状态",prop:"status"},{default:a(()=>[e(w,{modelValue:n.status,"onUpdate:modelValue":t[10]||(t[10]=l=>n.status=l),placeholder:"请选择状态",style:{width:"100%"}},{default:a(()=>[e(d,{label:"进行中",value:"ongoing"}),e(d,{label:"已完成",value:"completed"}),e(d,{label:"暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"负责人",prop:"manager"},{default:a(()=>[e(V,{modelValue:n.manager,"onUpdate:modelValue":t[11]||(t[11]=l=>n.manager=l),placeholder:"请输入负责人"},null,8,["modelValue"])]),_:1}),e(r,{label:"项目描述",prop:"description"},{default:a(()=>[e(V,{modelValue:n.description,"onUpdate:modelValue":t[12]||(t[12]=l=>n.description=l),type:"textarea",rows:3,placeholder:"请输入项目描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},_e=te(ge,[["__scopeId","data-v-41590436"]]);export{_e as default};
