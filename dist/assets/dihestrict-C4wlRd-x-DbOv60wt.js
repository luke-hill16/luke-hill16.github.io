import{Y as D,_ as I,R as _e,K as ge,r as n,a9 as be,I as F,p as H,a as u,C as e,c as l,D as w,ab as he,e as i,aa as ye,N as Ve,o as s,h as we,ae as Ce,z as De,F as Ue,a5 as J,n as ke,P as Pe,Q as ze,X as xe,J as q}from"./index-DNlctori.js";import{s as Ge}from"./_plugin-vue_export-helper-DlAUqK2U-lGy7RumW.js";const Se={class:"district-container"},Te={class:"page-header"},Ie={class:"header-actions"},qe={class:"overview-section"},je={class:"card-content"},Oe={class:"card-icon primary"},Xe={class:"card-info"},Fe={class:"card-value"},Ye={class:"card-content"},Be={class:"card-icon success"},Ke={class:"card-info"},Le={class:"card-value"},Ne={class:"card-content"},Re={class:"card-icon warning"},$e={class:"card-info"},Me={class:"card-value"},Ae={class:"card-content"},Ee={class:"card-icon info"},He={class:"card-info"},Je={class:"card-value"},Qe={class:"search-section"},We={class:"district-list"},Ze={class:"pagination-container"},el={class:"dialog-footer"},ll={key:0,class:"district-detail"},al={__name:"dihestrict",setup(tl){const Q=D(!1),j=D(!1),U=D(!1),O=D(!1),z=D(),p=D(null),y=I({name:"",level:"",region:""}),b=I({currentPage:1,pageSize:10,total:0}),d=I({id:null,name:"",level:"",region:"",postcode:"",population:0,area:0,gdp:0,companies:0,status:"normal",establishDate:"",location:"",description:""}),W={name:[{required:!0,message:"请输入区县名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],level:[{required:!0,message:"请选择行政级别",trigger:"change"}],region:[{required:!0,message:"请选择所属区域",trigger:"change"}],postcode:[{pattern:/^\d{6}$/,message:"邮政编码格式不正确",trigger:"blur"}],population:[{required:!0,message:"请输入人口数量",trigger:"blur"}],area:[{required:!0,message:"请输入面积",trigger:"blur"}]},V=I({total:0,totalPopulation:0,totalGDP:0,totalCompanies:0}),f=D([{id:1,name:"朝阳区",level:"district",region:"urban",postcode:"100020",population:345.2,area:470.8,gdp:1250.5,companies:15680,status:"normal",establishDate:"1958-05-01",location:"北京市东部",description:"北京市中心城区之一，经济发达，文化繁荣",createTime:"2020-01-01 10:00:00"},{id:2,name:"海淀区",level:"district",region:"urban",postcode:"100080",population:332.1,area:431,gdp:1180.3,companies:14250,status:"normal",establishDate:"1952-09-01",location:"北京市西北部",description:"科技教育中心，中关村科技园区所在地",createTime:"2020-01-01 10:00:00"},{id:3,name:"昌平区",level:"district",region:"suburban",postcode:"102200",population:196.8,area:1343.5,gdp:680.2,companies:8560,status:"developing",establishDate:"1999-09-16",location:"北京市北部",description:"北京市重要的生态涵养区和科技创新基地",createTime:"2020-01-01 10:00:00"},{id:4,name:"密云区",level:"district",region:"rural",postcode:"101500",population:45.6,area:2229.5,gdp:180.5,companies:2340,status:"developing",establishDate:"2015-11-17",location:"北京市东北部",description:"生态涵养区，以旅游业和农业为主",createTime:"2020-01-01 10:00:00"}]),Z=_e(()=>d.id?"编辑区县":"添加区县"),Y=o=>({district:"市辖区",county:"县级市","county-level":"县",autonomous:"自治县"})[o]||"未知",B=o=>({district:"primary",county:"success","county-level":"warning",autonomous:"info"})[o]||"",K=o=>({urban:"城区",suburban:"郊区",rural:"农村"})[o]||"未知",L=o=>({urban:"primary",suburban:"warning",rural:"success"})[o]||"",N=o=>({normal:"正常",developing:"发展中",pending:"待开发"})[o]||"未知",R=o=>({normal:"success",developing:"warning",pending:"info"})[o]||"",$=o=>o.toLocaleString(),ee=o=>(o/1e4).toFixed(1)+"万亿",le=()=>{d.id=null,U.value=!0},ae=o=>{Object.assign(d,o),U.value=!0},te=o=>{p.value=o,O.value=!0},oe=async o=>{try{await xe.confirm(`确定要删除区县"${o.name}"吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const a=f.value.findIndex(_=>_.id===o.id);a>-1&&(f.value.splice(a,1),X(),q.success("删除成功"))}catch{}},de=async()=>{if(z.value)try{if(await z.value.validate(),j.value=!0,await new Promise(o=>setTimeout(o,1e3)),d.id){const o=f.value.findIndex(a=>a.id===d.id);o>-1&&(f.value[o]={...d}),q.success("编辑成功")}else{const o={...d,id:Date.now(),createTime:new Date().toLocaleString()};f.value.unshift(o),q.success("添加成功")}X(),U.value=!1,M()}catch(o){console.error("表单验证失败:",o)}finally{j.value=!1}},M=()=>{z.value&&z.value.resetFields(),Object.assign(d,{id:null,name:"",level:"",region:"",postcode:"",population:0,area:0,gdp:0,companies:0,status:"normal",establishDate:"",location:"",description:""})},k=()=>{b.currentPage=1,console.log("搜索条件:",y)},ue=()=>{Object.assign(y,{name:"",level:"",region:""}),k()},ie=o=>{b.pageSize=o},ne=o=>{b.currentPage=o},se=()=>{q.success("区县数据导出成功")},X=()=>{V.total=f.value.length,V.totalPopulation=f.value.reduce((o,a)=>o+a.population,0),V.totalGDP=f.value.reduce((o,a)=>o+a.gdp,0),V.totalCompanies=f.value.reduce((o,a)=>o+a.companies,0)};return ge(()=>{X(),b.total=f.value.length}),(o,a)=>{const _=n("el-icon"),h=n("el-button"),S=n("el-card"),r=n("el-col"),C=n("el-row"),x=n("el-input"),c=n("el-option"),G=n("el-select"),g=n("el-table-column"),P=n("el-tag"),re=n("el-table"),pe=n("el-pagination"),m=n("el-form-item"),T=n("el-input-number"),ce=n("el-date-picker"),me=n("el-form"),A=n("el-dialog"),v=n("el-descriptions-item"),ve=n("el-descriptions"),fe=be("loading");return F(),H("div",Se,[u("div",Te,[a[22]||(a[22]=u("h2",null,"区县管理系统",-1)),u("div",Ie,[e(h,{type:"success",onClick:se},{default:l(()=>[e(_,null,{default:l(()=>[e(w(he))]),_:1}),a[20]||(a[20]=i(" 导出数据 "))]),_:1,__:[20]}),e(h,{type:"primary",onClick:le},{default:l(()=>[e(_,null,{default:l(()=>[e(w(ye))]),_:1}),a[21]||(a[21]=i(" 添加区县 "))]),_:1,__:[21]})])]),u("div",qe,[e(C,{gutter:20},{default:l(()=>[e(r,{span:6},{default:l(()=>[e(S,{class:"overview-card"},{default:l(()=>[u("div",je,[u("div",Oe,[e(_,null,{default:l(()=>[e(w(Ve))]),_:1})]),u("div",Xe,[a[23]||(a[23]=u("div",{class:"card-title"},"区县总数",-1)),u("div",Fe,s(V.total),1)])])]),_:1})]),_:1}),e(r,{span:6},{default:l(()=>[e(S,{class:"overview-card"},{default:l(()=>[u("div",Ye,[u("div",Be,[e(_,null,{default:l(()=>[e(w(we))]),_:1})]),u("div",Ke,[a[24]||(a[24]=u("div",{class:"card-title"},"总人口",-1)),u("div",Le,s($(V.totalPopulation)),1)])])]),_:1})]),_:1}),e(r,{span:6},{default:l(()=>[e(S,{class:"overview-card"},{default:l(()=>[u("div",Ne,[u("div",Re,[e(_,null,{default:l(()=>[e(w(Ce))]),_:1})]),u("div",$e,[a[25]||(a[25]=u("div",{class:"card-title"},"GDP总量",-1)),u("div",Me,s(ee(V.totalGDP)),1)])])]),_:1})]),_:1}),e(r,{span:6},{default:l(()=>[e(S,{class:"overview-card"},{default:l(()=>[u("div",Ae,[u("div",Ee,[e(_,null,{default:l(()=>[e(w(De))]),_:1})]),u("div",He,[a[26]||(a[26]=u("div",{class:"card-title"},"企业数量",-1)),u("div",Je,s($(V.totalCompanies)),1)])])]),_:1})]),_:1})]),_:1})]),u("div",Qe,[e(C,{gutter:20},{default:l(()=>[e(r,{span:6},{default:l(()=>[e(x,{modelValue:y.name,"onUpdate:modelValue":a[0]||(a[0]=t=>y.name=t),placeholder:"区县名称",clearable:"",onClear:k,onKeyup:Ue(k,["enter"])},{prefix:l(()=>[e(_,null,{default:l(()=>[e(w(J))]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(r,{span:6},{default:l(()=>[e(G,{modelValue:y.level,"onUpdate:modelValue":a[1]||(a[1]=t=>y.level=t),placeholder:"行政级别",clearable:"",onChange:k},{default:l(()=>[e(c,{label:"市辖区",value:"district"}),e(c,{label:"县级市",value:"county"}),e(c,{label:"县",value:"county-level"}),e(c,{label:"自治县",value:"autonomous"})]),_:1},8,["modelValue"])]),_:1}),e(r,{span:6},{default:l(()=>[e(G,{modelValue:y.region,"onUpdate:modelValue":a[2]||(a[2]=t=>y.region=t),placeholder:"所属区域",clearable:"",onChange:k},{default:l(()=>[e(c,{label:"城区",value:"urban"}),e(c,{label:"郊区",value:"suburban"}),e(c,{label:"农村",value:"rural"})]),_:1},8,["modelValue"])]),_:1}),e(r,{span:6},{default:l(()=>[e(h,{type:"primary",onClick:k},{default:l(()=>[e(_,null,{default:l(()=>[e(w(J))]),_:1}),a[27]||(a[27]=i(" 搜索 "))]),_:1,__:[27]}),e(h,{onClick:ue},{default:l(()=>a[28]||(a[28]=[i("重置")])),_:1,__:[28]})]),_:1})]),_:1})]),u("div",We,[ke((F(),Pe(re,{data:f.value,stripe:""},{default:l(()=>[e(g,{prop:"id",label:"ID",width:"80"}),e(g,{prop:"name",label:"区县名称"}),e(g,{prop:"level",label:"行政级别",width:"120"},{default:l(t=>[e(P,{type:B(t.row.level)},{default:l(()=>[i(s(Y(t.row.level)),1)]),_:2},1032,["type"])]),_:1}),e(g,{prop:"region",label:"所属区域",width:"100"},{default:l(t=>[e(P,{type:L(t.row.region)},{default:l(()=>[i(s(K(t.row.region)),1)]),_:2},1032,["type"])]),_:1}),e(g,{prop:"population",label:"人口(万)",width:"100"}),e(g,{prop:"area",label:"面积(km²)",width:"120"}),e(g,{prop:"gdp",label:"GDP(亿元)",width:"120"}),e(g,{prop:"companies",label:"企业数量",width:"100"}),e(g,{prop:"status",label:"状态",width:"100"},{default:l(t=>[e(P,{type:R(t.row.status)},{default:l(()=>[i(s(N(t.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(g,{label:"操作",width:"200",fixed:"right"},{default:l(t=>[e(h,{size:"small",onClick:E=>te(t.row)},{default:l(()=>a[29]||(a[29]=[i("查看")])),_:2,__:[29]},1032,["onClick"]),e(h,{size:"small",type:"primary",onClick:E=>ae(t.row)},{default:l(()=>a[30]||(a[30]=[i("编辑")])),_:2,__:[30]},1032,["onClick"]),e(h,{size:"small",type:"danger",onClick:E=>oe(t.row)},{default:l(()=>a[31]||(a[31]=[i("删除")])),_:2,__:[31]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[fe,Q.value]]),u("div",Ze,[e(pe,{"current-page":b.currentPage,"onUpdate:currentPage":a[3]||(a[3]=t=>b.currentPage=t),"page-size":b.pageSize,"onUpdate:pageSize":a[4]||(a[4]=t=>b.pageSize=t),"page-sizes":[10,20,50,100],total:b.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ie,onCurrentChange:ne},null,8,["current-page","page-size","total"])])]),e(A,{modelValue:U.value,"onUpdate:modelValue":a[18]||(a[18]=t=>U.value=t),title:Z.value,width:"700px",onClose:M},{footer:l(()=>[u("div",el,[e(h,{onClick:a[17]||(a[17]=t=>U.value=!1)},{default:l(()=>a[32]||(a[32]=[i("取消")])),_:1,__:[32]}),e(h,{type:"primary",onClick:de,loading:j.value},{default:l(()=>a[33]||(a[33]=[i("确定")])),_:1,__:[33]},8,["loading"])])]),default:l(()=>[e(me,{model:d,rules:W,ref_key:"districtFormRef",ref:z,"label-width":"120px"},{default:l(()=>[e(C,{gutter:20},{default:l(()=>[e(r,{span:12},{default:l(()=>[e(m,{label:"区县名称",prop:"name"},{default:l(()=>[e(x,{modelValue:d.name,"onUpdate:modelValue":a[5]||(a[5]=t=>d.name=t),placeholder:"请输入区县名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:l(()=>[e(m,{label:"行政级别",prop:"level"},{default:l(()=>[e(G,{modelValue:d.level,"onUpdate:modelValue":a[6]||(a[6]=t=>d.level=t),placeholder:"请选择行政级别",style:{width:"100%"}},{default:l(()=>[e(c,{label:"市辖区",value:"district"}),e(c,{label:"县级市",value:"county"}),e(c,{label:"县",value:"county-level"}),e(c,{label:"自治县",value:"autonomous"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(C,{gutter:20},{default:l(()=>[e(r,{span:12},{default:l(()=>[e(m,{label:"所属区域",prop:"region"},{default:l(()=>[e(G,{modelValue:d.region,"onUpdate:modelValue":a[7]||(a[7]=t=>d.region=t),placeholder:"请选择所属区域",style:{width:"100%"}},{default:l(()=>[e(c,{label:"城区",value:"urban"}),e(c,{label:"郊区",value:"suburban"}),e(c,{label:"农村",value:"rural"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:l(()=>[e(m,{label:"邮政编码",prop:"postcode"},{default:l(()=>[e(x,{modelValue:d.postcode,"onUpdate:modelValue":a[8]||(a[8]=t=>d.postcode=t),placeholder:"请输入邮政编码"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(C,{gutter:20},{default:l(()=>[e(r,{span:12},{default:l(()=>[e(m,{label:"人口(万)",prop:"population"},{default:l(()=>[e(T,{modelValue:d.population,"onUpdate:modelValue":a[9]||(a[9]=t=>d.population=t),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:l(()=>[e(m,{label:"面积(km²)",prop:"area"},{default:l(()=>[e(T,{modelValue:d.area,"onUpdate:modelValue":a[10]||(a[10]=t=>d.area=t),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(C,{gutter:20},{default:l(()=>[e(r,{span:12},{default:l(()=>[e(m,{label:"GDP(亿元)",prop:"gdp"},{default:l(()=>[e(T,{modelValue:d.gdp,"onUpdate:modelValue":a[11]||(a[11]=t=>d.gdp=t),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:l(()=>[e(m,{label:"企业数量",prop:"companies"},{default:l(()=>[e(T,{modelValue:d.companies,"onUpdate:modelValue":a[12]||(a[12]=t=>d.companies=t),min:0,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(C,{gutter:20},{default:l(()=>[e(r,{span:12},{default:l(()=>[e(m,{label:"区县状态",prop:"status"},{default:l(()=>[e(G,{modelValue:d.status,"onUpdate:modelValue":a[13]||(a[13]=t=>d.status=t),placeholder:"请选择区县状态",style:{width:"100%"}},{default:l(()=>[e(c,{label:"正常",value:"normal"}),e(c,{label:"发展中",value:"developing"}),e(c,{label:"待开发",value:"pending"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(r,{span:12},{default:l(()=>[e(m,{label:"成立时间",prop:"establishDate"},{default:l(()=>[e(ce,{modelValue:d.establishDate,"onUpdate:modelValue":a[14]||(a[14]=t=>d.establishDate=t),type:"date",placeholder:"选择成立时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,{label:"地理位置",prop:"location"},{default:l(()=>[e(x,{modelValue:d.location,"onUpdate:modelValue":a[15]||(a[15]=t=>d.location=t),placeholder:"请输入地理位置描述"},null,8,["modelValue"])]),_:1}),e(m,{label:"区县描述",prop:"description"},{default:l(()=>[e(x,{modelValue:d.description,"onUpdate:modelValue":a[16]||(a[16]=t=>d.description=t),type:"textarea",rows:3,placeholder:"请输入区县描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(A,{modelValue:O.value,"onUpdate:modelValue":a[19]||(a[19]=t=>O.value=t),title:"区县详情",width:"800px"},{default:l(()=>[p.value?(F(),H("div",ll,[e(ve,{column:2,border:""},{default:l(()=>[e(v,{label:"区县名称"},{default:l(()=>[i(s(p.value.name),1)]),_:1}),e(v,{label:"行政级别"},{default:l(()=>[e(P,{type:B(p.value.level)},{default:l(()=>[i(s(Y(p.value.level)),1)]),_:1},8,["type"])]),_:1}),e(v,{label:"所属区域"},{default:l(()=>[e(P,{type:L(p.value.region)},{default:l(()=>[i(s(K(p.value.region)),1)]),_:1},8,["type"])]),_:1}),e(v,{label:"邮政编码"},{default:l(()=>[i(s(p.value.postcode),1)]),_:1}),e(v,{label:"人口"},{default:l(()=>[i(s(p.value.population)+"万人",1)]),_:1}),e(v,{label:"面积"},{default:l(()=>[i(s(p.value.area)+" km²",1)]),_:1}),e(v,{label:"GDP"},{default:l(()=>[i(s(p.value.gdp)+"亿元",1)]),_:1}),e(v,{label:"企业数量"},{default:l(()=>[i(s(p.value.companies)+"家",1)]),_:1}),e(v,{label:"区县状态"},{default:l(()=>[e(P,{type:R(p.value.status)},{default:l(()=>[i(s(N(p.value.status)),1)]),_:1},8,["type"])]),_:1}),e(v,{label:"成立时间"},{default:l(()=>[i(s(p.value.establishDate),1)]),_:1}),e(v,{label:"地理位置",span:2},{default:l(()=>[i(s(p.value.location),1)]),_:1}),e(v,{label:"区县描述",span:2},{default:l(()=>[i(s(p.value.description||"暂无描述"),1)]),_:1})]),_:1})])):ze("",!0)]),_:1},8,["modelValue"])])}}},ul=Ge(al,[["__scopeId","data-v-b9520e4d"]]);export{ul as default};
