import{d as e,S as a,r as l,Z as t,s as d,t as u,z as o,I as r,j as n,c as s,P as i,q as p,x as m,N as c,X as g,b as v,$ as b}from"./index-BEF7uh_8.js";const f={class:"industry-container"},_={class:"card-header"},h={class:"search-area"},y={class:"pagination-container"},V={class:"dialog-footer"},w=e({__name:"industry",setup(e){const w=a(!1),D=a(!1),x=a("新增工信项目"),k=a(1),C=a(10),U=a(0),z=a(),q=l({name:"",type:"",status:""}),j=a([{id:1,name:"智能制造示范项目",type:"smart",budget:500,startDate:"2024-01-01",endDate:"2024-12-31",status:"ongoing",manager:"张三",description:"推进企业智能制造转型升级"},{id:2,name:"数字化转型项目",type:"digital",budget:300,startDate:"2024-02-01",endDate:"2024-08-31",status:"completed",manager:"李四",description:"企业数字化管理系统建设"},{id:3,name:"技术创新研发项目",type:"innovation",budget:800,startDate:"2024-03-01",endDate:"2025-02-28",status:"ongoing",manager:"王五",description:"新技术研发与应用"}]),I=l({id:null,name:"",type:"",budget:0,startDate:"",endDate:"",status:"",manager:"",description:""}),O={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],type:[{required:!0,message:"请选择项目类型",trigger:"change"}],budget:[{required:!0,message:"请输入预算",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始时间",trigger:"change"}],endDate:[{required:!0,message:"请选择结束时间",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],manager:[{required:!0,message:"请输入负责人",trigger:"blur"}]},S=e=>({innovation:"技术创新",upgrade:"产业升级",smart:"智能制造",digital:"数字化转型"}[e]||"未知"),T=e=>({ongoing:"进行中",completed:"已完成",paused:"暂停"}[e]||"未知"),$=()=>{k.value=1,Z()},B=()=>{Object.keys(q).forEach((e=>{q[e]=""})),$()},E=()=>{x.value="新增工信项目",M(),D.value=!0},P=()=>{z.value.validate((e=>{if(e){if(I.id){const e=j.value.findIndex((e=>e.id===I.id));e>-1&&Object.assign(j.value[e],{...I}),v.success("编辑成功")}else{const e=Math.max(...j.value.map((e=>e.id)))+1;j.value.push({...I,id:e}),v.success("新增成功")}D.value=!1}}))},M=()=>{Object.keys(I).forEach((e=>{I[e]="budget"===e?0:""})),I.id=null},N=e=>{C.value=e,Z()},R=e=>{k.value=e,Z()},Z=()=>{w.value=!0,setTimeout((()=>{w.value=!1,U.value=j.value.length}),500)};return t((()=>{Z()})),(e,a)=>{const l=d("el-button"),t=d("el-input"),M=d("el-form-item"),Z=d("el-option"),A=d("el-select"),F=d("el-form"),G=d("el-table-column"),H=d("el-tag"),J=d("el-table"),K=d("el-pagination"),L=d("el-card"),Q=d("el-input-number"),W=d("el-date-picker"),X=d("el-dialog"),Y=u("loading");return o(),r("div",f,[n(L,{class:"box-card"},{header:s((()=>[i("div",_,[a[16]||(a[16]=i("span",null,"工信管理",-1)),n(l,{type:"primary",onClick:E},{default:s((()=>a[15]||(a[15]=[p("新增工信项目")]))),_:1,__:[15]})])])),default:s((()=>[i("div",h,[n(F,{inline:!0,model:q,class:"search-form"},{default:s((()=>[n(M,{label:"项目名称"},{default:s((()=>[n(t,{modelValue:q.name,"onUpdate:modelValue":a[0]||(a[0]=e=>q.name=e),placeholder:"请输入项目名称",clearable:""},null,8,["modelValue"])])),_:1}),n(M,{label:"项目类型"},{default:s((()=>[n(A,{modelValue:q.type,"onUpdate:modelValue":a[1]||(a[1]=e=>q.type=e),placeholder:"请选择项目类型",clearable:"",style:{width:"180px"}},{default:s((()=>[n(Z,{label:"技术创新",value:"innovation"}),n(Z,{label:"产业升级",value:"upgrade"}),n(Z,{label:"智能制造",value:"smart"}),n(Z,{label:"数字化转型",value:"digital"})])),_:1},8,["modelValue"])])),_:1}),n(M,{label:"状态"},{default:s((()=>[n(A,{modelValue:q.status,"onUpdate:modelValue":a[2]||(a[2]=e=>q.status=e),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:s((()=>[n(Z,{label:"进行中",value:"ongoing"}),n(Z,{label:"已完成",value:"completed"}),n(Z,{label:"暂停",value:"paused"})])),_:1},8,["modelValue"])])),_:1}),n(M,null,{default:s((()=>[n(l,{type:"primary",onClick:$},{default:s((()=>a[17]||(a[17]=[p("搜索")]))),_:1,__:[17]}),n(l,{onClick:B},{default:s((()=>a[18]||(a[18]=[p("重置")]))),_:1,__:[18]})])),_:1})])),_:1},8,["model"])]),m((o(),c(J,{data:j.value,style:{width:"100%"}},{default:s((()=>[n(G,{prop:"id",label:"ID",width:"80"}),n(G,{prop:"name",label:"项目名称"}),n(G,{prop:"type",label:"项目类型",width:"120"},{default:s((e=>{return[n(H,{type:(a=e.row.type,{innovation:"success",upgrade:"warning",smart:"primary",digital:"info"}[a]||"info")},{default:s((()=>[p(g(S(e.row.type)),1)])),_:2},1032,["type"])];var a})),_:1}),n(G,{prop:"budget",label:"预算(万元)",width:"120"}),n(G,{prop:"startDate",label:"开始时间",width:"120"}),n(G,{prop:"endDate",label:"结束时间",width:"120"}),n(G,{prop:"status",label:"状态",width:"100"},{default:s((e=>{return[n(H,{type:(a=e.row.status,{ongoing:"primary",completed:"success",paused:"warning"}[a]||"info")},{default:s((()=>[p(g(T(e.row.status)),1)])),_:2},1032,["type"])];var a})),_:1}),n(G,{prop:"manager",label:"负责人",width:"100"}),n(G,{label:"操作",width:"200",fixed:"right"},{default:s((e=>[n(l,{size:"small",onClick:a=>{return l=e.row,x.value="编辑工信项目",Object.assign(I,l),void(D.value=!0);var l}},{default:s((()=>a[19]||(a[19]=[p("编辑")]))),_:2,__:[19]},1032,["onClick"]),n(l,{size:"small",type:"success",onClick:a=>{return l=e.row,void v.info(`查看项目：${l.name}`);var l}},{default:s((()=>a[20]||(a[20]=[p("查看")]))),_:2,__:[20]},1032,["onClick"]),n(l,{size:"small",type:"danger",onClick:a=>{return l=e.row,void b.confirm(`确定要删除项目"${l.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=j.value.findIndex((e=>e.id===l.id));e>-1&&(j.value.splice(e,1),v.success("删除成功"))})).catch((()=>{v.info("已取消删除")}));var l}},{default:s((()=>a[21]||(a[21]=[p("删除")]))),_:2,__:[21]},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[Y,w.value]]),i("div",y,[n(K,{"current-page":k.value,"onUpdate:currentPage":a[3]||(a[3]=e=>k.value=e),"page-size":C.value,"onUpdate:pageSize":a[4]||(a[4]=e=>C.value=e),"page-sizes":[10,20,50,100],total:U.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:N,onCurrentChange:R},null,8,["current-page","page-size","total"])])])),_:1}),n(X,{modelValue:D.value,"onUpdate:modelValue":a[14]||(a[14]=e=>D.value=e),title:x.value,width:"600px"},{footer:s((()=>[i("span",V,[n(l,{onClick:a[13]||(a[13]=e=>D.value=!1)},{default:s((()=>a[22]||(a[22]=[p("取消")]))),_:1,__:[22]}),n(l,{type:"primary",onClick:P},{default:s((()=>a[23]||(a[23]=[p("确定")]))),_:1,__:[23]})])])),default:s((()=>[n(F,{model:I,rules:O,ref_key:"formRef",ref:z,"label-width":"100px"},{default:s((()=>[n(M,{label:"项目名称",prop:"name"},{default:s((()=>[n(t,{modelValue:I.name,"onUpdate:modelValue":a[5]||(a[5]=e=>I.name=e),placeholder:"请输入项目名称"},null,8,["modelValue"])])),_:1}),n(M,{label:"项目类型",prop:"type"},{default:s((()=>[n(A,{modelValue:I.type,"onUpdate:modelValue":a[6]||(a[6]=e=>I.type=e),placeholder:"请选择项目类型",style:{width:"100%"}},{default:s((()=>[n(Z,{label:"技术创新",value:"innovation"}),n(Z,{label:"产业升级",value:"upgrade"}),n(Z,{label:"智能制造",value:"smart"}),n(Z,{label:"数字化转型",value:"digital"})])),_:1},8,["modelValue"])])),_:1}),n(M,{label:"预算(万元)",prop:"budget"},{default:s((()=>[n(Q,{modelValue:I.budget,"onUpdate:modelValue":a[7]||(a[7]=e=>I.budget=e),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(M,{label:"开始时间",prop:"startDate"},{default:s((()=>[n(W,{modelValue:I.startDate,"onUpdate:modelValue":a[8]||(a[8]=e=>I.startDate=e),type:"date",placeholder:"选择开始时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(M,{label:"结束时间",prop:"endDate"},{default:s((()=>[n(W,{modelValue:I.endDate,"onUpdate:modelValue":a[9]||(a[9]=e=>I.endDate=e),type:"date",placeholder:"选择结束时间",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(M,{label:"状态",prop:"status"},{default:s((()=>[n(A,{modelValue:I.status,"onUpdate:modelValue":a[10]||(a[10]=e=>I.status=e),placeholder:"请选择状态",style:{width:"100%"}},{default:s((()=>[n(Z,{label:"进行中",value:"ongoing"}),n(Z,{label:"已完成",value:"completed"}),n(Z,{label:"暂停",value:"paused"})])),_:1},8,["modelValue"])])),_:1}),n(M,{label:"负责人",prop:"manager"},{default:s((()=>[n(t,{modelValue:I.manager,"onUpdate:modelValue":a[11]||(a[11]=e=>I.manager=e),placeholder:"请输入负责人"},null,8,["modelValue"])])),_:1}),n(M,{label:"项目描述",prop:"description"},{default:s((()=>[n(t,{modelValue:I.description,"onUpdate:modelValue":a[12]||(a[12]=e=>I.description=e),type:"textarea",rows:3,placeholder:"请输入项目描述"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}},[["__scopeId","data-v-41590436"]]);export{w as default};
