import{r as le}from"./_plugin-vue_export-helper-DlAUqK2U-lGy7RumW-DNI5evPq.js";import{L as g,w as I,E as ae,r,a9 as te,b as M,$ as de,Y as e,J as t,M as f,a as s,Q as ue,O as oe,l as O,C as v,U as ne}from"./index-q8LaeBoo.js";const re={class:"industry-container"},ie={class:"card-header"},se={class:"search-area"},pe={class:"pagination-container"},me={class:"dialog-footer"},ce={__name:"industry",setup(ge){const w=g(!1),b=g(!1),D=g("新增工信项目"),_=g(1),k=g(10),C=g(0),U=g(),p=I({name:"",type:"",status:""}),c=g([{id:1,name:"智能制造示范项目",type:"smart",budget:500,startDate:"2024-01-01",endDate:"2024-12-31",status:"ongoing",manager:"张三",description:"推进企业智能制造转型升级"},{id:2,name:"数字化转型项目",type:"digital",budget:300,startDate:"2024-02-01",endDate:"2024-08-31",status:"completed",manager:"李四",description:"企业数字化管理系统建设"},{id:3,name:"技术创新研发项目",type:"innovation",budget:800,startDate:"2024-03-01",endDate:"2025-02-28",status:"ongoing",manager:"王五",description:"新技术研发与应用"}]),u=I({id:null,name:"",type:"",budget:0,startDate:"",endDate:"",status:"",manager:"",description:""}),E={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],type:[{required:!0,message:"请选择项目类型",trigger:"change"}],budget:[{required:!0,message:"请输入预算",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始时间",trigger:"change"}],endDate:[{required:!0,message:"请选择结束时间",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],manager:[{required:!0,message:"请输入负责人",trigger:"blur"}]},B=d=>({innovation:"success",upgrade:"warning",smart:"primary",digital:"info"})[d]||"info",Q=d=>({innovation:"技术创新",upgrade:"产业升级",smart:"智能制造",digital:"数字化转型"})[d]||"未知",T=d=>({ongoing:"primary",completed:"success",paused:"warning"})[d]||"info",J=d=>({ongoing:"进行中",completed:"已完成",paused:"暂停"})[d]||"未知",x=()=>{_.value=1,h()},L=()=>{Object.keys(p).forEach(d=>{p[d]=""}),x()},N=()=>{D.value="新增工信项目",A(),b.value=!0},P=d=>{D.value="编辑工信项目",Object.assign(u,d),b.value=!0},R=d=>{v.info(`查看项目：${d.name}`)},S=d=>{ne.confirm(`确定要删除项目"${d.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=c.value.findIndex(o=>o.id===d.id);l>-1&&(c.value.splice(l,1),v.success("删除成功"))}).catch(()=>{v.info("已取消删除")})},Y=()=>{U.value.validate(d=>{if(d){if(u.id){const l=c.value.findIndex(o=>o.id===u.id);l>-1&&Object.assign(c.value[l],{...u}),v.success("编辑成功")}else{const l=Math.max(...c.value.map(o=>o.id))+1;c.value.push({...u,id:l}),v.success("新增成功")}b.value=!1}})},A=()=>{Object.keys(u).forEach(d=>{u[d]=d==="budget"?0:""}),u.id=null},F=d=>{k.value=d,h()},G=d=>{_.value=d,h()},h=()=>{w.value=!0,setTimeout(()=>{w.value=!1,C.value=c.value.length},500)};return ae(()=>{h()}),(d,l)=>{const o=r("el-button"),y=r("el-input"),i=r("el-form-item"),n=r("el-option"),V=r("el-select"),z=r("el-form"),m=r("el-table-column"),$=r("el-tag"),H=r("el-table"),K=r("el-pagination"),W=r("el-card"),X=r("el-input-number"),j=r("el-date-picker"),Z=r("el-dialog"),ee=te("loading");return M(),de("div",re,[e(W,{class:"box-card"},{header:t(()=>[f("div",ie,[l[16]||(l[16]=f("span",null,"工信管理",-1)),e(o,{type:"primary",onClick:N},{default:t(()=>l[15]||(l[15]=[s("新增工信项目")])),_:1,__:[15]})])]),default:t(()=>[f("div",se,[e(z,{inline:!0,model:p,class:"search-form"},{default:t(()=>[e(i,{label:"项目名称"},{default:t(()=>[e(y,{modelValue:p.name,"onUpdate:modelValue":l[0]||(l[0]=a=>p.name=a),placeholder:"请输入项目名称",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"项目类型"},{default:t(()=>[e(V,{modelValue:p.type,"onUpdate:modelValue":l[1]||(l[1]=a=>p.type=a),placeholder:"请选择项目类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(n,{label:"技术创新",value:"innovation"}),e(n,{label:"产业升级",value:"upgrade"}),e(n,{label:"智能制造",value:"smart"}),e(n,{label:"数字化转型",value:"digital"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"状态"},{default:t(()=>[e(V,{modelValue:p.status,"onUpdate:modelValue":l[2]||(l[2]=a=>p.status=a),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:t(()=>[e(n,{label:"进行中",value:"ongoing"}),e(n,{label:"已完成",value:"completed"}),e(n,{label:"暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(o,{type:"primary",onClick:x},{default:t(()=>l[17]||(l[17]=[s("搜索")])),_:1,__:[17]}),e(o,{onClick:L},{default:t(()=>l[18]||(l[18]=[s("重置")])),_:1,__:[18]})]),_:1})]),_:1},8,["model"])]),ue((M(),oe(H,{data:c.value,style:{width:"100%"}},{default:t(()=>[e(m,{prop:"id",label:"ID",width:"80"}),e(m,{prop:"name",label:"项目名称"}),e(m,{prop:"type",label:"项目类型",width:"120"},{default:t(a=>[e($,{type:B(a.row.type)},{default:t(()=>[s(O(Q(a.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"budget",label:"预算(万元)",width:"120"}),e(m,{prop:"startDate",label:"开始时间",width:"120"}),e(m,{prop:"endDate",label:"结束时间",width:"120"}),e(m,{prop:"status",label:"状态",width:"100"},{default:t(a=>[e($,{type:T(a.row.status)},{default:t(()=>[s(O(J(a.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"manager",label:"负责人",width:"100"}),e(m,{label:"操作",width:"200",fixed:"right"},{default:t(a=>[e(o,{size:"small",onClick:q=>P(a.row)},{default:t(()=>l[19]||(l[19]=[s("编辑")])),_:2,__:[19]},1032,["onClick"]),e(o,{size:"small",type:"success",onClick:q=>R(a.row)},{default:t(()=>l[20]||(l[20]=[s("查看")])),_:2,__:[20]},1032,["onClick"]),e(o,{size:"small",type:"danger",onClick:q=>S(a.row)},{default:t(()=>l[21]||(l[21]=[s("删除")])),_:2,__:[21]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[ee,w.value]]),f("div",pe,[e(K,{"current-page":_.value,"onUpdate:currentPage":l[3]||(l[3]=a=>_.value=a),"page-size":k.value,"onUpdate:pageSize":l[4]||(l[4]=a=>k.value=a),"page-sizes":[10,20,50,100],total:C.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:F,onCurrentChange:G},null,8,["current-page","page-size","total"])])]),_:1}),e(Z,{modelValue:b.value,"onUpdate:modelValue":l[14]||(l[14]=a=>b.value=a),title:D.value,width:"600px"},{footer:t(()=>[f("span",me,[e(o,{onClick:l[13]||(l[13]=a=>b.value=!1)},{default:t(()=>l[22]||(l[22]=[s("取消")])),_:1,__:[22]}),e(o,{type:"primary",onClick:Y},{default:t(()=>l[23]||(l[23]=[s("确定")])),_:1,__:[23]})])]),default:t(()=>[e(z,{model:u,rules:E,ref_key:"formRef",ref:U,"label-width":"100px"},{default:t(()=>[e(i,{label:"项目名称",prop:"name"},{default:t(()=>[e(y,{modelValue:u.name,"onUpdate:modelValue":l[5]||(l[5]=a=>u.name=a),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),e(i,{label:"项目类型",prop:"type"},{default:t(()=>[e(V,{modelValue:u.type,"onUpdate:modelValue":l[6]||(l[6]=a=>u.type=a),placeholder:"请选择项目类型",style:{width:"100%"}},{default:t(()=>[e(n,{label:"技术创新",value:"innovation"}),e(n,{label:"产业升级",value:"upgrade"}),e(n,{label:"智能制造",value:"smart"}),e(n,{label:"数字化转型",value:"digital"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"预算(万元)",prop:"budget"},{default:t(()=>[e(X,{modelValue:u.budget,"onUpdate:modelValue":l[7]||(l[7]=a=>u.budget=a),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"开始时间",prop:"startDate"},{default:t(()=>[e(j,{modelValue:u.startDate,"onUpdate:modelValue":l[8]||(l[8]=a=>u.startDate=a),type:"date",placeholder:"选择开始时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"结束时间",prop:"endDate"},{default:t(()=>[e(j,{modelValue:u.endDate,"onUpdate:modelValue":l[9]||(l[9]=a=>u.endDate=a),type:"date",placeholder:"选择结束时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"状态",prop:"status"},{default:t(()=>[e(V,{modelValue:u.status,"onUpdate:modelValue":l[10]||(l[10]=a=>u.status=a),placeholder:"请选择状态",style:{width:"100%"}},{default:t(()=>[e(n,{label:"进行中",value:"ongoing"}),e(n,{label:"已完成",value:"completed"}),e(n,{label:"暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"负责人",prop:"manager"},{default:t(()=>[e(y,{modelValue:u.manager,"onUpdate:modelValue":l[11]||(l[11]=a=>u.manager=a),placeholder:"请输入负责人"},null,8,["modelValue"])]),_:1}),e(i,{label:"项目描述",prop:"description"},{default:t(()=>[e(y,{modelValue:u.description,"onUpdate:modelValue":l[12]||(l[12]=a=>u.description=a),type:"textarea",rows:3,placeholder:"请输入项目描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ve=le(ce,[["__scopeId","data-v-41590436"]]);export{ve as default};
