import{d as e,S as a,Z as l,s as t,z as n,I as s,P as d,j as i,c as o,q as u,X as r,N as p,$ as m,b as c,U as _,M as y}from"./index-BEF7uh_8.js";const f={class:"employee-list-container"},w={class:"header"},h=["onClick"],v={key:0,class:"employee-detail"},k={class:"card-header"},b={class:"detail-item"},g={class:"detail-item"},C={class:"detail-item"},j={class:"detail-item"},z={class:"detail-item"},x={class:"detail-item"},R={class:"card-header"},q={class:"header-actions"},T=e({__name:"employee",setup(e){const T=[{uid:"emp001",realname:"张三",email:"zhangsan@company.com",telephone:"13800138001",department:{name:"技术部"},status:1,date_joined:"2023-01-15"},{uid:"emp002",realname:"李四",email:"lisi@company.com",telephone:"13800138002",department:{name:"人事部"},status:1,date_joined:"2023-02-20"},{uid:"emp003",realname:"王五",email:"wangwu@company.com",telephone:"13800138003",department:{name:"财务部"},status:2,date_joined:"2023-03-10"},{uid:"emp004",realname:"赵六",email:"zhaoliu@company.com",telephone:"13800138004",department:{name:"市场部"},status:1,date_joined:"2023-04-05"},{uid:"emp005",realname:"钱七",email:"qianqi@company.com",telephone:"13800138005",department:{name:"技术部"},status:3,date_joined:"2023-05-12"},{uid:"emp006",realname:"孙八",email:"sunba@company.com",telephone:"13800138006",department:{name:"人事部"},status:1,date_joined:"2023-06-18"},{uid:"emp007",realname:"周九",email:"zhoujiu@company.com",telephone:"13800138007",department:{name:"财务部"},status:1,date_joined:"2023-07-22"},{uid:"emp008",realname:"吴十",email:"wushi@company.com",telephone:"13800138008",department:{name:"市场部"},status:2,date_joined:"2023-08-30"}],V=a([]),$=a(!1),B=a(null),I=async()=>{try{await new Promise((e=>setTimeout(e,500))),V.value=T,c.success("员工列表加载成功")}catch(e){c.error("获取员工列表失败")}},P=e=>{c.info(`编辑员工: ${e.realname}`)};return l(I),(e,a)=>{const l=t("el-button"),T=t("el-table-column"),U=t("el-tag"),W=t("el-table"),D=t("el-card"),M=t("el-col"),N=t("el-row"),S=t("el-dialog");return n(),s(y,null,[d("div",f,[i(D,null,{default:o((()=>[d("div",w,[a[3]||(a[3]=d("span",null,"员工列表",-1)),i(l,{type:"primary",onClick:I,size:"small",style:{float:"right"}},{default:o((()=>a[2]||(a[2]=[u("刷新")]))),_:1,__:[2]})]),i(W,{data:V.value,style:{width:"100%","margin-top":"20px"},fit:"true"},{default:o((()=>[i(T,{prop:"realname",label:"姓名","min-width":"120"},{default:o((e=>[d("span",{class:"clickable-name",onClick:a=>{return l=e.row,B.value=l,void($.value=!0);var l}},r(e.row.realname),9,h)])),_:1}),i(T,{prop:"email",label:"邮箱","min-width":"200"}),i(T,{prop:"department.name",label:"部门","min-width":"120"}),i(T,{prop:"status",label:"状态","min-width":"100"},{default:o((e=>[1===e.row.status?(n(),p(U,{key:0,type:"success"},{default:o((()=>a[4]||(a[4]=[u("已激活")]))),_:1,__:[4]})):2===e.row.status?(n(),p(U,{key:1,type:"info"},{default:o((()=>a[5]||(a[5]=[u("未激活")]))),_:1,__:[5]})):(n(),p(U,{key:2,type:"danger"},{default:o((()=>a[6]||(a[6]=[u("锁定")]))),_:1,__:[6]}))])),_:1}),i(T,{prop:"date_joined",label:"入职时间","min-width":"120"}),i(T,{label:"操作","min-width":"200"},{default:o((e=>[i(l,{size:"small",type:"primary",onClick:a=>P(e.row)},{default:o((()=>a[7]||(a[7]=[u("编辑")]))),_:2,__:[7]},1032,["onClick"]),i(l,{size:"small",type:"danger",onClick:a=>(async e=>{try{await m.confirm(`确定要删除员工 ${e.realname} 吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),V.value=V.value.filter((a=>a.uid!==e.uid)),c.success("删除成功")}catch{c.info("已取消删除")}})(e.row)},{default:o((()=>a[8]||(a[8]=[u("删除")]))),_:2,__:[8]},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})]),i(S,{modelValue:$.value,"onUpdate:modelValue":a[1]||(a[1]=e=>$.value=e),title:"员工详情",width:"900px","before-close":e.handleClose},{default:o((()=>[B.value?(n(),s("div",v,[i(D,{class:"info-card",shadow:"never"},{header:o((()=>[d("div",k,[a[10]||(a[10]=d("span",null,"基本信息",-1)),i(l,{type:"primary",size:"small",onClick:a[0]||(a[0]=e=>P(B.value))},{default:o((()=>a[9]||(a[9]=[u("编辑信息")]))),_:1,__:[9]})])])),default:o((()=>[i(N,{gutter:20},{default:o((()=>[i(M,{span:8},{default:o((()=>[d("div",b,[a[11]||(a[11]=d("label",null,"姓名：",-1)),d("span",null,r(B.value.realname),1)])])),_:1}),i(M,{span:8},{default:o((()=>[d("div",g,[a[12]||(a[12]=d("label",null,"邮箱：",-1)),d("span",null,r(B.value.email),1)])])),_:1}),i(M,{span:8},{default:o((()=>[d("div",C,[a[13]||(a[13]=d("label",null,"电话：",-1)),d("span",null,r(B.value.telephone),1)])])),_:1})])),_:1}),i(N,{gutter:20},{default:o((()=>[i(M,{span:8},{default:o((()=>{var e;return[d("div",j,[a[14]||(a[14]=d("label",null,"部门：",-1)),d("span",null,r(null==(e=B.value.department)?void 0:e.name),1)])]})),_:1}),i(M,{span:8},{default:o((()=>[d("div",z,[a[18]||(a[18]=d("label",null,"状态：",-1)),1===B.value.status?(n(),p(U,{key:0,type:"success"},{default:o((()=>a[15]||(a[15]=[u("已激活")]))),_:1,__:[15]})):2===B.value.status?(n(),p(U,{key:1,type:"info"},{default:o((()=>a[16]||(a[16]=[u("未激活")]))),_:1,__:[16]})):(n(),p(U,{key:2,type:"danger"},{default:o((()=>a[17]||(a[17]=[u("锁定")]))),_:1,__:[17]}))])])),_:1}),i(M,{span:8},{default:o((()=>[d("div",x,[a[19]||(a[19]=d("label",null,"入职时间：",-1)),d("span",null,r(B.value.date_joined),1)])])),_:1})])),_:1})])),_:1}),i(D,{class:"work-record-card",shadow:"never"},{header:o((()=>[d("div",R,[a[22]||(a[22]=d("span",null,"工作记录",-1)),d("div",q,[i(l,{type:"success",size:"small",onClick:e.addWorkRecord},{default:o((()=>a[20]||(a[20]=[u("添加记录")]))),_:1,__:[20]},8,["onClick"]),i(l,{type:"primary",size:"small",onClick:e.refreshWorkRecords},{default:o((()=>a[21]||(a[21]=[u("刷新")]))),_:1,__:[21]},8,["onClick"])])])])),default:o((()=>[i(W,{data:e.workRecords,style:{width:"100%"},stripe:""},{default:o((()=>[i(T,{prop:"date",label:"日期",width:"120"}),i(T,{prop:"type",label:"类型",width:"100"},{default:o((e=>["请假"===e.row.type?(n(),p(U,{key:0,type:"warning"},{default:o((()=>[u(r(e.row.type),1)])),_:2},1024)):"加班"===e.row.type?(n(),p(U,{key:1,type:"danger"},{default:o((()=>[u(r(e.row.type),1)])),_:2},1024)):(n(),p(U,{key:2,type:"success"},{default:o((()=>[u(r(e.row.type),1)])),_:2},1024))])),_:1}),i(T,{prop:"title",label:"标题","min-width":"150"}),i(T,{prop:"description",label:"描述","min-width":"200"}),i(T,{prop:"status",label:"状态",width:"100"},{default:o((e=>["已批准"===e.row.status?(n(),p(U,{key:0,type:"success"},{default:o((()=>[u(r(e.row.status),1)])),_:2},1024)):"待审批"===e.row.status?(n(),p(U,{key:1,type:"warning"},{default:o((()=>[u(r(e.row.status),1)])),_:2},1024)):(n(),p(U,{key:2,type:"danger"},{default:o((()=>[u(r(e.row.status),1)])),_:2},1024))])),_:1}),i(T,{prop:"approver",label:"审批人",width:"100"}),i(T,{label:"操作",width:"120",fixed:"right"},{default:o((t=>[i(l,{size:"small",type:"primary",onClick:a=>e.viewRecordDetail(t.row)},{default:o((()=>a[23]||(a[23]=[u("查看")]))),_:2,__:[23]},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})])):_("",!0)])),_:1},8,["modelValue","before-close"])],64)}}},[["__scopeId","data-v-0e3be16b"]]);export{T as default};
