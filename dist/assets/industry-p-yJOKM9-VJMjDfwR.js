import{s as ae}from"./_plugin-vue_export-helper-DlAUqK2U-lGy7RumW.js";import{Y as g,_ as O,K as le,r,a9 as te,I as S,p as de,C as e,c as t,a as b,e as i,n as ue,P as oe,o as T,J as v,X as ne}from"./index-DNlctori.js";const re={class:"industry-container"},se={class:"card-header"},ie={class:"search-area"},pe={class:"pagination-container"},me={class:"dialog-footer"},ce={__name:"industry",setup(ge){const w=g(!1),f=g(!1),D=g("新增工信项目"),_=g(1),C=g(10),k=g(0),x=g(),p=O({name:"",type:"",status:""}),c=g([{id:1,name:"智能制造示范项目",type:"smart",budget:500,startDate:"2024-01-01",endDate:"2024-12-31",status:"ongoing",manager:"张三",description:"推进企业智能制造转型升级"},{id:2,name:"数字化转型项目",type:"digital",budget:300,startDate:"2024-02-01",endDate:"2024-08-31",status:"completed",manager:"李四",description:"企业数字化管理系统建设"},{id:3,name:"技术创新研发项目",type:"innovation",budget:800,startDate:"2024-03-01",endDate:"2025-02-28",status:"ongoing",manager:"王五",description:"新技术研发与应用"}]),u=O({id:null,name:"",type:"",budget:0,startDate:"",endDate:"",status:"",manager:"",description:""}),G={name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],type:[{required:!0,message:"请选择项目类型",trigger:"change"}],budget:[{required:!0,message:"请输入预算",trigger:"blur"}],startDate:[{required:!0,message:"请选择开始时间",trigger:"change"}],endDate:[{required:!0,message:"请选择结束时间",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],manager:[{required:!0,message:"请输入负责人",trigger:"blur"}]},P=d=>({innovation:"success",upgrade:"warning",smart:"primary",digital:"info"})[d]||"info",X=d=>({innovation:"技术创新",upgrade:"产业升级",smart:"智能制造",digital:"数字化转型"})[d]||"未知",Y=d=>({ongoing:"primary",completed:"success",paused:"warning"})[d]||"info",$=d=>({ongoing:"进行中",completed:"已完成",paused:"暂停"})[d]||"未知",U=()=>{_.value=1,h()},B=()=>{Object.keys(p).forEach(d=>{p[d]=""}),U()},E=()=>{D.value="新增工信项目",R(),f.value=!0},J=d=>{D.value="编辑工信项目",Object.assign(u,d),f.value=!0},K=d=>{v.info(`查看项目：${d.name}`)},L=d=>{ne.confirm(`确定要删除项目"${d.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const a=c.value.findIndex(o=>o.id===d.id);a>-1&&(c.value.splice(a,1),v.success("删除成功"))}).catch(()=>{v.info("已取消删除")})},M=()=>{x.value.validate(d=>{if(d){if(u.id){const a=c.value.findIndex(o=>o.id===u.id);a>-1&&Object.assign(c.value[a],{...u}),v.success("编辑成功")}else{const a=Math.max(...c.value.map(o=>o.id))+1;c.value.push({...u,id:a}),v.success("新增成功")}f.value=!1}})},R=()=>{Object.keys(u).forEach(d=>{u[d]=d==="budget"?0:""}),u.id=null},A=d=>{C.value=d,h()},F=d=>{_.value=d,h()},h=()=>{w.value=!0,setTimeout(()=>{w.value=!1,k.value=c.value.length},500)};return le(()=>{h()}),(d,a)=>{const o=r("el-button"),y=r("el-input"),s=r("el-form-item"),n=r("el-option"),V=r("el-select"),z=r("el-form"),m=r("el-table-column"),q=r("el-tag"),H=r("el-table"),N=r("el-pagination"),Q=r("el-card"),W=r("el-input-number"),I=r("el-date-picker"),Z=r("el-dialog"),ee=te("loading");return S(),de("div",re,[e(Q,{class:"box-card"},{header:t(()=>[b("div",se,[a[16]||(a[16]=b("span",null,"工信管理",-1)),e(o,{type:"primary",onClick:E},{default:t(()=>a[15]||(a[15]=[i("新增工信项目")])),_:1,__:[15]})])]),default:t(()=>[b("div",ie,[e(z,{inline:!0,model:p,class:"search-form"},{default:t(()=>[e(s,{label:"项目名称"},{default:t(()=>[e(y,{modelValue:p.name,"onUpdate:modelValue":a[0]||(a[0]=l=>p.name=l),placeholder:"请输入项目名称",clearable:""},null,8,["modelValue"])]),_:1}),e(s,{label:"项目类型"},{default:t(()=>[e(V,{modelValue:p.type,"onUpdate:modelValue":a[1]||(a[1]=l=>p.type=l),placeholder:"请选择项目类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(n,{label:"技术创新",value:"innovation"}),e(n,{label:"产业升级",value:"upgrade"}),e(n,{label:"智能制造",value:"smart"}),e(n,{label:"数字化转型",value:"digital"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"状态"},{default:t(()=>[e(V,{modelValue:p.status,"onUpdate:modelValue":a[2]||(a[2]=l=>p.status=l),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:t(()=>[e(n,{label:"进行中",value:"ongoing"}),e(n,{label:"已完成",value:"completed"}),e(n,{label:"暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),e(s,null,{default:t(()=>[e(o,{type:"primary",onClick:U},{default:t(()=>a[17]||(a[17]=[i("搜索")])),_:1,__:[17]}),e(o,{onClick:B},{default:t(()=>a[18]||(a[18]=[i("重置")])),_:1,__:[18]})]),_:1})]),_:1},8,["model"])]),ue((S(),oe(H,{data:c.value,style:{width:"100%"}},{default:t(()=>[e(m,{prop:"id",label:"ID",width:"80"}),e(m,{prop:"name",label:"项目名称"}),e(m,{prop:"type",label:"项目类型",width:"120"},{default:t(l=>[e(q,{type:P(l.row.type)},{default:t(()=>[i(T(X(l.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"budget",label:"预算(万元)",width:"120"}),e(m,{prop:"startDate",label:"开始时间",width:"120"}),e(m,{prop:"endDate",label:"结束时间",width:"120"}),e(m,{prop:"status",label:"状态",width:"100"},{default:t(l=>[e(q,{type:Y(l.row.status)},{default:t(()=>[i(T($(l.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(m,{prop:"manager",label:"负责人",width:"100"}),e(m,{label:"操作",width:"200",fixed:"right"},{default:t(l=>[e(o,{size:"small",onClick:j=>J(l.row)},{default:t(()=>a[19]||(a[19]=[i("编辑")])),_:2,__:[19]},1032,["onClick"]),e(o,{size:"small",type:"success",onClick:j=>K(l.row)},{default:t(()=>a[20]||(a[20]=[i("查看")])),_:2,__:[20]},1032,["onClick"]),e(o,{size:"small",type:"danger",onClick:j=>L(l.row)},{default:t(()=>a[21]||(a[21]=[i("删除")])),_:2,__:[21]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[ee,w.value]]),b("div",pe,[e(N,{"current-page":_.value,"onUpdate:currentPage":a[3]||(a[3]=l=>_.value=l),"page-size":C.value,"onUpdate:pageSize":a[4]||(a[4]=l=>C.value=l),"page-sizes":[10,20,50,100],total:k.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:A,onCurrentChange:F},null,8,["current-page","page-size","total"])])]),_:1}),e(Z,{modelValue:f.value,"onUpdate:modelValue":a[14]||(a[14]=l=>f.value=l),title:D.value,width:"600px"},{footer:t(()=>[b("span",me,[e(o,{onClick:a[13]||(a[13]=l=>f.value=!1)},{default:t(()=>a[22]||(a[22]=[i("取消")])),_:1,__:[22]}),e(o,{type:"primary",onClick:M},{default:t(()=>a[23]||(a[23]=[i("确定")])),_:1,__:[23]})])]),default:t(()=>[e(z,{model:u,rules:G,ref_key:"formRef",ref:x,"label-width":"100px"},{default:t(()=>[e(s,{label:"项目名称",prop:"name"},{default:t(()=>[e(y,{modelValue:u.name,"onUpdate:modelValue":a[5]||(a[5]=l=>u.name=l),placeholder:"请输入项目名称"},null,8,["modelValue"])]),_:1}),e(s,{label:"项目类型",prop:"type"},{default:t(()=>[e(V,{modelValue:u.type,"onUpdate:modelValue":a[6]||(a[6]=l=>u.type=l),placeholder:"请选择项目类型",style:{width:"100%"}},{default:t(()=>[e(n,{label:"技术创新",value:"innovation"}),e(n,{label:"产业升级",value:"upgrade"}),e(n,{label:"智能制造",value:"smart"}),e(n,{label:"数字化转型",value:"digital"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"预算(万元)",prop:"budget"},{default:t(()=>[e(W,{modelValue:u.budget,"onUpdate:modelValue":a[7]||(a[7]=l=>u.budget=l),min:0,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(s,{label:"开始时间",prop:"startDate"},{default:t(()=>[e(I,{modelValue:u.startDate,"onUpdate:modelValue":a[8]||(a[8]=l=>u.startDate=l),type:"date",placeholder:"选择开始时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(s,{label:"结束时间",prop:"endDate"},{default:t(()=>[e(I,{modelValue:u.endDate,"onUpdate:modelValue":a[9]||(a[9]=l=>u.endDate=l),type:"date",placeholder:"选择结束时间",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(s,{label:"状态",prop:"status"},{default:t(()=>[e(V,{modelValue:u.status,"onUpdate:modelValue":a[10]||(a[10]=l=>u.status=l),placeholder:"请选择状态",style:{width:"100%"}},{default:t(()=>[e(n,{label:"进行中",value:"ongoing"}),e(n,{label:"已完成",value:"completed"}),e(n,{label:"暂停",value:"paused"})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"负责人",prop:"manager"},{default:t(()=>[e(y,{modelValue:u.manager,"onUpdate:modelValue":a[11]||(a[11]=l=>u.manager=l),placeholder:"请输入负责人"},null,8,["modelValue"])]),_:1}),e(s,{label:"项目描述",prop:"description"},{default:t(()=>[e(y,{modelValue:u.description,"onUpdate:modelValue":a[12]||(a[12]=l=>u.description=l),type:"textarea",rows:3,placeholder:"请输入项目描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ve=ae(ce,[["__scopeId","data-v-41590436"]]);export{ve as default};
