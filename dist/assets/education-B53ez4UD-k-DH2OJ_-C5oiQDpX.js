import{r as De}from"./_plugin-vue_export-helper-DlAUqK2U-lGy7RumW-DNI5evPq.js";import{L as m,w as q,E as Oe,r as f,a9 as Ie,b as $,$ as Z,Y as e,J as t,M as b,a as s,Q as ee,O as le,l as B,D as Ae,P as Me,C as y,U as ae}from"./index-q8LaeBoo.js";const Ee={class:"education-container"},Je={class:"tab-content"},Ne={class:"search-area"},Pe={class:"action-bar"},Fe={class:"pagination-container"},Qe={class:"tab-content"},Re={class:"search-area"},Le={class:"action-bar"},Ye={class:"pagination-container"},Ge={class:"dialog-footer"},He={class:"dialog-footer"},Ke={__name:"education",setup(Xe){const N=m("exam"),D=m(!1),w=m(!1),O=m("新增试卷"),x=m(1),I=m(10),P=m(0),F=m(),A=m(!1),k=m(!1),M=m("新增试题"),U=m(1),E=m(10),Q=m(0),R=m(),_=q({name:"",type:"",status:""}),v=q({content:"",type:"",difficulty:""}),g=m([{id:1,name:"2024年春季期中考试",type:"midterm",totalScore:100,duration:120,questionCount:25,createTime:"2024-03-15",status:"published",description:"春季学期期中考试试卷"},{id:2,name:"数学单元测试一",type:"unit",totalScore:50,duration:60,questionCount:15,createTime:"2024-03-10",status:"draft",description:"第一章函数单元测试"},{id:3,name:"高考模拟考试",type:"mock",totalScore:150,duration:180,questionCount:35,createTime:"2024-03-01",status:"ended",description:"高考模拟考试试卷"}]),h=m([{id:1,content:"下列哪个是JavaScript的基本数据类型？",type:"single",difficulty:"easy",score:5,subject:"计算机科学",createTime:"2024-03-15",answer:"A",analysis:"JavaScript的基本数据类型包括：Number、String、Boolean、Undefined、Null、Symbol、BigInt"},{id:2,content:"请简述面向对象编程的三大特性。",type:"short",difficulty:"medium",score:10,subject:"计算机科学",createTime:"2024-03-14",answer:"封装、继承、多态",analysis:"面向对象编程的三大特性是封装、继承和多态，这是面向对象编程的核心概念。"},{id:3,content:"1 + 1 = 2",type:"judge",difficulty:"easy",score:2,subject:"数学",createTime:"2024-03-13",answer:"正确",analysis:"1加1等于2是基本的数学运算。"}]),r=q({id:null,name:"",type:"",totalScore:100,duration:120,status:"draft",description:""}),u=q({id:null,content:"",type:"",difficulty:"",score:5,subject:"",optionA:"",optionB:"",optionC:"",optionD:"",answer:"",analysis:""}),te={name:[{required:!0,message:"请输入试卷名称",trigger:"blur"}],type:[{required:!0,message:"请选择试卷类型",trigger:"change"}],totalScore:[{required:!0,message:"请输入总分",trigger:"blur"}],duration:[{required:!0,message:"请输入考试时长",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},oe={content:[{required:!0,message:"请输入题目内容",trigger:"blur"}],type:[{required:!0,message:"请选择题目类型",trigger:"change"}],difficulty:[{required:!0,message:"请选择难度",trigger:"change"}],score:[{required:!0,message:"请输入分值",trigger:"blur"}],subject:[{required:!0,message:"请输入科目",trigger:"blur"}],answer:[{required:!0,message:"请输入正确答案",trigger:"blur"}]},ue=o=>({midterm:"warning",final:"danger",mock:"info",unit:"success"})[o]||"info",de=o=>({midterm:"期中考试",final:"期末考试",mock:"模拟考试",unit:"单元测试"})[o]||"未知",ie=o=>({draft:"info",published:"success",ended:"warning"})[o]||"info",ne=o=>({draft:"草稿",published:"已发布",ended:"已结束"})[o]||"未知",re=o=>({single:"primary",multiple:"success",judge:"warning",fill:"info",short:"danger"})[o]||"info",se=o=>({single:"单选题",multiple:"多选题",judge:"判断题",fill:"填空题",short:"简答题"})[o]||"未知",pe=o=>({easy:"success",medium:"warning",hard:"danger"})[o]||"info",ce=o=>({easy:"简单",medium:"中等",hard:"困难"})[o]||"未知",L=()=>{x.value=1,j()},me=()=>{Object.keys(_).forEach(o=>{_[o]=""}),L()},Y=()=>{U.value=1,S()},fe=()=>{Object.keys(v).forEach(o=>{v[o]=""}),Y()},be=()=>{O.value="新增试卷",Ue(),w.value=!0},ye=o=>{O.value="编辑试卷",Object.assign(r,o),w.value=!0},_e=o=>{y.info(`查看试卷：${o.name}`)},ve=o=>{y.info(`管理试卷"${o.name}"的题目`)},ge=o=>{ae.confirm(`确定要删除试卷"${o.name}"吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=g.value.findIndex(n=>n.id===o.id);l>-1&&(g.value.splice(l,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},he=()=>{M.value="新增试题",je(),k.value=!0},Ve=o=>{M.value="编辑试题",Object.assign(u,o),k.value=!0},we=o=>{y.info(`查看试题：${o.content.substring(0,20)}...`)},ke=o=>{ae.confirm("确定要删除这道试题吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const l=h.value.findIndex(n=>n.id===o.id);l>-1&&(h.value.splice(l,1),y.success("删除成功"))}).catch(()=>{y.info("已取消删除")})},Ce=()=>{F.value.validate(o=>{if(o){if(r.id){const l=g.value.findIndex(n=>n.id===r.id);l>-1&&Object.assign(g.value[l],{...r}),y.success("编辑成功")}else{const l=Math.max(...g.value.map(n=>n.id))+1;g.value.push({...r,id:l,questionCount:0,createTime:new Date().toISOString().split("T")[0]}),y.success("新增成功")}w.value=!1}})},xe=()=>{R.value.validate(o=>{if(o){if(u.id){const l=h.value.findIndex(n=>n.id===u.id);l>-1&&Object.assign(h.value[l],{...u}),y.success("编辑成功")}else{const l=Math.max(...h.value.map(n=>n.id))+1;h.value.push({...u,id:l,createTime:new Date().toISOString().split("T")[0]}),y.success("新增成功")}k.value=!1}})},Ue=()=>{Object.keys(r).forEach(o=>{r[o]=o==="totalScore"?100:o==="duration"?120:o==="status"?"draft":""}),r.id=null},je=()=>{Object.keys(u).forEach(o=>{u[o]=o==="score"?5:""}),u.id=null},Se=o=>{I.value=o,j()},ze=o=>{x.value=o,j()},Te=o=>{E.value=o,S()},qe=o=>{U.value=o,S()},j=()=>{D.value=!0,setTimeout(()=>{D.value=!1,P.value=g.value.length},500)},S=()=>{A.value=!0,setTimeout(()=>{A.value=!1,Q.value=h.value.length},500)};return Oe(()=>{j(),S()}),(o,l)=>{const n=f("el-input"),i=f("el-form-item"),d=f("el-option"),V=f("el-select"),p=f("el-button"),z=f("el-form"),c=f("el-table-column"),T=f("el-tag"),G=f("el-table"),H=f("el-pagination"),K=f("el-tab-pane"),$e=f("el-tabs"),Be=f("el-card"),J=f("el-input-number"),X=f("el-dialog"),W=Ie("loading");return $(),Z("div",Ee,[e(Be,{class:"box-card"},{header:t(()=>l[32]||(l[32]=[b("div",{class:"card-header"},[b("span",null,"教育管理")],-1)])),default:t(()=>[e($e,{modelValue:N.value,"onUpdate:modelValue":l[10]||(l[10]=a=>N.value=a),type:"card",class:"education-tabs"},{default:t(()=>[e(K,{label:"试卷管理",name:"exam"},{default:t(()=>[b("div",Je,[b("div",Ne,[e(z,{inline:!0,model:_,class:"search-form"},{default:t(()=>[e(i,{label:"试卷名称"},{default:t(()=>[e(n,{modelValue:_.name,"onUpdate:modelValue":l[0]||(l[0]=a=>_.name=a),placeholder:"请输入试卷名称",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"试卷类型"},{default:t(()=>[e(V,{modelValue:_.type,"onUpdate:modelValue":l[1]||(l[1]=a=>_.type=a),placeholder:"请选择试卷类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"期中考试",value:"midterm"}),e(d,{label:"期末考试",value:"final"}),e(d,{label:"模拟考试",value:"mock"}),e(d,{label:"单元测试",value:"unit"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"状态"},{default:t(()=>[e(V,{modelValue:_.status,"onUpdate:modelValue":l[2]||(l[2]=a=>_.status=a),placeholder:"请选择状态",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"草稿",value:"draft"}),e(d,{label:"已发布",value:"published"}),e(d,{label:"已结束",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(p,{type:"primary",onClick:L},{default:t(()=>l[33]||(l[33]=[s("搜索")])),_:1,__:[33]}),e(p,{onClick:me},{default:t(()=>l[34]||(l[34]=[s("重置")])),_:1,__:[34]})]),_:1})]),_:1},8,["model"])]),b("div",Pe,[e(p,{type:"primary",onClick:be},{default:t(()=>l[35]||(l[35]=[s("新增试卷")])),_:1,__:[35]})]),ee(($(),le(G,{data:g.value,style:{width:"100%"}},{default:t(()=>[e(c,{prop:"id",label:"ID",width:"80"}),e(c,{prop:"name",label:"试卷名称"}),e(c,{prop:"type",label:"试卷类型",width:"120"},{default:t(a=>[e(T,{type:ue(a.row.type)},{default:t(()=>[s(B(de(a.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"totalScore",label:"总分",width:"80"}),e(c,{prop:"duration",label:"考试时长(分钟)",width:"120"}),e(c,{prop:"questionCount",label:"题目数量",width:"100"}),e(c,{prop:"createTime",label:"创建时间",width:"120"}),e(c,{prop:"status",label:"状态",width:"100"},{default:t(a=>[e(T,{type:ie(a.row.status)},{default:t(()=>[s(B(ne(a.row.status)),1)]),_:2},1032,["type"])]),_:1}),e(c,{label:"操作",width:"250",fixed:"right"},{default:t(a=>[e(p,{size:"small",onClick:C=>ye(a.row)},{default:t(()=>l[36]||(l[36]=[s("编辑")])),_:2,__:[36]},1032,["onClick"]),e(p,{size:"small",type:"success",onClick:C=>_e(a.row)},{default:t(()=>l[37]||(l[37]=[s("查看")])),_:2,__:[37]},1032,["onClick"]),e(p,{size:"small",type:"warning",onClick:C=>ve(a.row)},{default:t(()=>l[38]||(l[38]=[s("管理题目")])),_:2,__:[38]},1032,["onClick"]),e(p,{size:"small",type:"danger",onClick:C=>ge(a.row)},{default:t(()=>l[39]||(l[39]=[s("删除")])),_:2,__:[39]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[W,D.value]]),b("div",Fe,[e(H,{"current-page":x.value,"onUpdate:currentPage":l[3]||(l[3]=a=>x.value=a),"page-size":I.value,"onUpdate:pageSize":l[4]||(l[4]=a=>I.value=a),"page-sizes":[10,20,50,100],total:P.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Se,onCurrentChange:ze},null,8,["current-page","page-size","total"])])])]),_:1}),e(K,{label:"试题管理",name:"question"},{default:t(()=>[b("div",Qe,[b("div",Re,[e(z,{inline:!0,model:v,class:"search-form"},{default:t(()=>[e(i,{label:"题目内容"},{default:t(()=>[e(n,{modelValue:v.content,"onUpdate:modelValue":l[5]||(l[5]=a=>v.content=a),placeholder:"请输入题目内容",clearable:""},null,8,["modelValue"])]),_:1}),e(i,{label:"题目类型"},{default:t(()=>[e(V,{modelValue:v.type,"onUpdate:modelValue":l[6]||(l[6]=a=>v.type=a),placeholder:"请选择题目类型",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"单选题",value:"single"}),e(d,{label:"多选题",value:"multiple"}),e(d,{label:"判断题",value:"judge"}),e(d,{label:"填空题",value:"fill"}),e(d,{label:"简答题",value:"short"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"难度"},{default:t(()=>[e(V,{modelValue:v.difficulty,"onUpdate:modelValue":l[7]||(l[7]=a=>v.difficulty=a),placeholder:"请选择难度",clearable:"",style:{width:"180px"}},{default:t(()=>[e(d,{label:"简单",value:"easy"}),e(d,{label:"中等",value:"medium"}),e(d,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),_:1}),e(i,null,{default:t(()=>[e(p,{type:"primary",onClick:Y},{default:t(()=>l[40]||(l[40]=[s("搜索")])),_:1,__:[40]}),e(p,{onClick:fe},{default:t(()=>l[41]||(l[41]=[s("重置")])),_:1,__:[41]})]),_:1})]),_:1},8,["model"])]),b("div",Le,[e(p,{type:"primary",onClick:he},{default:t(()=>l[42]||(l[42]=[s("新增试题")])),_:1,__:[42]})]),ee(($(),le(G,{data:h.value,style:{width:"100%"}},{default:t(()=>[e(c,{prop:"id",label:"ID",width:"80"}),e(c,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),e(c,{prop:"type",label:"题目类型",width:"100"},{default:t(a=>[e(T,{type:re(a.row.type)},{default:t(()=>[s(B(se(a.row.type)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"difficulty",label:"难度",width:"80"},{default:t(a=>[e(T,{type:pe(a.row.difficulty)},{default:t(()=>[s(B(ce(a.row.difficulty)),1)]),_:2},1032,["type"])]),_:1}),e(c,{prop:"score",label:"分值",width:"80"}),e(c,{prop:"subject",label:"科目",width:"100"}),e(c,{prop:"createTime",label:"创建时间",width:"120"}),e(c,{label:"操作",width:"200",fixed:"right"},{default:t(a=>[e(p,{size:"small",onClick:C=>Ve(a.row)},{default:t(()=>l[43]||(l[43]=[s("编辑")])),_:2,__:[43]},1032,["onClick"]),e(p,{size:"small",type:"success",onClick:C=>we(a.row)},{default:t(()=>l[44]||(l[44]=[s("查看")])),_:2,__:[44]},1032,["onClick"]),e(p,{size:"small",type:"danger",onClick:C=>ke(a.row)},{default:t(()=>l[45]||(l[45]=[s("删除")])),_:2,__:[45]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[W,A.value]]),b("div",Ye,[e(H,{"current-page":U.value,"onUpdate:currentPage":l[8]||(l[8]=a=>U.value=a),"page-size":E.value,"onUpdate:pageSize":l[9]||(l[9]=a=>E.value=a),"page-sizes":[10,20,50,100],total:Q.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Te,onCurrentChange:qe},null,8,["current-page","page-size","total"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(X,{modelValue:w.value,"onUpdate:modelValue":l[18]||(l[18]=a=>w.value=a),title:O.value,width:"700px"},{footer:t(()=>[b("span",Ge,[e(p,{onClick:l[17]||(l[17]=a=>w.value=!1)},{default:t(()=>l[46]||(l[46]=[s("取消")])),_:1,__:[46]}),e(p,{type:"primary",onClick:Ce},{default:t(()=>l[47]||(l[47]=[s("确定")])),_:1,__:[47]})])]),default:t(()=>[e(z,{model:r,rules:te,ref_key:"examFormRef",ref:F,"label-width":"100px"},{default:t(()=>[e(i,{label:"试卷名称",prop:"name"},{default:t(()=>[e(n,{modelValue:r.name,"onUpdate:modelValue":l[11]||(l[11]=a=>r.name=a),placeholder:"请输入试卷名称"},null,8,["modelValue"])]),_:1}),e(i,{label:"试卷类型",prop:"type"},{default:t(()=>[e(V,{modelValue:r.type,"onUpdate:modelValue":l[12]||(l[12]=a=>r.type=a),placeholder:"请选择试卷类型",style:{width:"100%"}},{default:t(()=>[e(d,{label:"期中考试",value:"midterm"}),e(d,{label:"期末考试",value:"final"}),e(d,{label:"模拟考试",value:"mock"}),e(d,{label:"单元测试",value:"unit"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"总分",prop:"totalScore"},{default:t(()=>[e(J,{modelValue:r.totalScore,"onUpdate:modelValue":l[13]||(l[13]=a=>r.totalScore=a),min:0,max:200,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"考试时长(分钟)",prop:"duration"},{default:t(()=>[e(J,{modelValue:r.duration,"onUpdate:modelValue":l[14]||(l[14]=a=>r.duration=a),min:30,max:300,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"状态",prop:"status"},{default:t(()=>[e(V,{modelValue:r.status,"onUpdate:modelValue":l[15]||(l[15]=a=>r.status=a),placeholder:"请选择状态",style:{width:"100%"}},{default:t(()=>[e(d,{label:"草稿",value:"draft"}),e(d,{label:"已发布",value:"published"}),e(d,{label:"已结束",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"试卷说明",prop:"description"},{default:t(()=>[e(n,{modelValue:r.description,"onUpdate:modelValue":l[16]||(l[16]=a=>r.description=a),type:"textarea",rows:3,placeholder:"请输入试卷说明"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(X,{modelValue:k.value,"onUpdate:modelValue":l[31]||(l[31]=a=>k.value=a),title:M.value,width:"800px"},{footer:t(()=>[b("span",He,[e(p,{onClick:l[30]||(l[30]=a=>k.value=!1)},{default:t(()=>l[48]||(l[48]=[s("取消")])),_:1,__:[48]}),e(p,{type:"primary",onClick:xe},{default:t(()=>l[49]||(l[49]=[s("确定")])),_:1,__:[49]})])]),default:t(()=>[e(z,{model:u,rules:oe,ref_key:"questionFormRef",ref:R,"label-width":"100px"},{default:t(()=>[e(i,{label:"题目内容",prop:"content"},{default:t(()=>[e(n,{modelValue:u.content,"onUpdate:modelValue":l[19]||(l[19]=a=>u.content=a),type:"textarea",rows:4,placeholder:"请输入题目内容"},null,8,["modelValue"])]),_:1}),e(i,{label:"题目类型",prop:"type"},{default:t(()=>[e(V,{modelValue:u.type,"onUpdate:modelValue":l[20]||(l[20]=a=>u.type=a),placeholder:"请选择题目类型",style:{width:"100%"}},{default:t(()=>[e(d,{label:"单选题",value:"single"}),e(d,{label:"多选题",value:"multiple"}),e(d,{label:"判断题",value:"judge"}),e(d,{label:"填空题",value:"fill"}),e(d,{label:"简答题",value:"short"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"难度",prop:"difficulty"},{default:t(()=>[e(V,{modelValue:u.difficulty,"onUpdate:modelValue":l[21]||(l[21]=a=>u.difficulty=a),placeholder:"请选择难度",style:{width:"100%"}},{default:t(()=>[e(d,{label:"简单",value:"easy"}),e(d,{label:"中等",value:"medium"}),e(d,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"分值",prop:"score"},{default:t(()=>[e(J,{modelValue:u.score,"onUpdate:modelValue":l[22]||(l[22]=a=>u.score=a),min:1,max:50,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"科目",prop:"subject"},{default:t(()=>[e(n,{modelValue:u.subject,"onUpdate:modelValue":l[23]||(l[23]=a=>u.subject=a),placeholder:"请输入科目"},null,8,["modelValue"])]),_:1}),u.type==="single"||u.type==="multiple"?($(),Z(Ae,{key:0},[e(i,{label:"选项A",prop:"optionA"},{default:t(()=>[e(n,{modelValue:u.optionA,"onUpdate:modelValue":l[24]||(l[24]=a=>u.optionA=a),placeholder:"请输入选项A"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项B",prop:"optionB"},{default:t(()=>[e(n,{modelValue:u.optionB,"onUpdate:modelValue":l[25]||(l[25]=a=>u.optionB=a),placeholder:"请输入选项B"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项C",prop:"optionC"},{default:t(()=>[e(n,{modelValue:u.optionC,"onUpdate:modelValue":l[26]||(l[26]=a=>u.optionC=a),placeholder:"请输入选项C"},null,8,["modelValue"])]),_:1}),e(i,{label:"选项D",prop:"optionD"},{default:t(()=>[e(n,{modelValue:u.optionD,"onUpdate:modelValue":l[27]||(l[27]=a=>u.optionD=a),placeholder:"请输入选项D"},null,8,["modelValue"])]),_:1})],64)):Me("",!0),e(i,{label:"正确答案",prop:"answer"},{default:t(()=>[e(n,{modelValue:u.answer,"onUpdate:modelValue":l[28]||(l[28]=a=>u.answer=a),placeholder:"请输入正确答案"},null,8,["modelValue"])]),_:1}),e(i,{label:"解析",prop:"analysis"},{default:t(()=>[e(n,{modelValue:u.analysis,"onUpdate:modelValue":l[29]||(l[29]=a=>u.analysis=a),type:"textarea",rows:3,placeholder:"请输入题目解析"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},el=De(Ke,[["__scopeId","data-v-e0c16c50"]]);export{el as default};
