import{defineComponent as a,ref as e,reactive as s,onMounted as o,openBlock as n,createElementBlock as l,createElementVNode as i,unref as t,normalizeStyle as r,toDisplayString as p,createCommentVNode as d,createTextVNode as u,withDirectives as c,vModelText as m}from"vue";import{u as f,a as v}from"./index-BOpLbFaH.js";import"./http-Dy8u1s8a.js";import{ElMessage as b}from"element-plus";import"./axios-DjXdQO6G.js";const g=""+new URL("login-5W55mbw4.png",import.meta.url).href,w={class:"dowebok"},x={class:"container-login100"},k={class:"wrap-login100"},y={class:"login100-pic js-tilt","data-tilt":""},h=["src"],j={class:"login100-from validate-form"},z={key:0,class:"dev-mode-notice",style:{background:"#fff3cd",border:"1px solid #ffeaa7",padding:"15px","margin-bottom":"20px","border-radius":"4px","font-size":"14px",color:"#856404"}},A={style:{margin:"10px 0"}},U={key:0},Z={key:1},C={class:"wrap-input100 validate-input"},R={class:"wrap-input100 validate-input"},_={class:"container-login100-form-btn"},q=a({name:"login"}),T=Object.assign(q,{setup(a){const q=f(),T=v(),V="admin@qq.com",D="123456",G=e(!0);let I=s({email:V,password:D});const L=!1,M=()=>{G.value=!G.value,G.value?(I.email=V,I.password=D,b.info("已切换到模拟登录模式")):(I.email="",I.password="",b.info("已切换到真实后端登录模式"))},O=async()=>{if(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9])+/.test(I.email))if(/^[0-9a-zA-Z_-]{6,20}/.test(I.password))try{let a;a=await(async a=>new Promise((e=>{setTimeout((()=>{e({token:"mock-token-"+Date.now(),user:{id:1,email:a,username:a.split("@")[0],name:"测试用户",role:"admin"}})}),1e3)})))(I.email,I.password),b.success("模拟登录成功！");let e=a.token,s=a.user;q.setUserToken(s,e),T.push({name:"frame"})}catch(a){b.error("模拟登录失败")}else b.info("密码格式不满足!");else b.info("邮箱格式不满足!")},P=()=>{I.email=V,I.password=D,b.info("已填入测试账号")};return o((()=>{})),(a,e)=>(n(),l("div",w,[i("div",x,[i("div",k,[i("div",y,[i("img",{src:t(g),alt:"IMG"},null,8,h)]),i("div",j,[e[9]||(e[9]=i("span",{class:"login100-form-title"},"员工登录的",-1)),t(L)?(n(),l("div",z,[e[3]||(e[3]=i("strong",null,"🧪 开发模式",-1)),e[4]||(e[4]=i("br",null,null,-1)),i("div",A,[i("button",{onClick:M,style:r({background:G.value?"#28a745":"#dc3545",color:"white",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",marginRight:"10px"})},p(G.value?"✅ 模拟登录":"🔗 真实登录"),5),G.value?(n(),l("button",{key:0,onClick:P,style:{background:"#007bff",color:"white",border:"none",padding:"'5px 10px'","border-radius":"3px",cursor:"pointer"}}," 📝 填入测试账号 ")):d("",!0)]),G.value?(n(),l("div",U,[u(" 测试账号："+p(V),1),e[2]||(e[2]=i("br",null,null,-1)),u(" 测试密码："+p(D),1)])):(n(),l("div",Z," 请输入真实的后端账号密码 "))])):d("",!0),i("div",C,[c(i("input",{class:"input100",type:"text",name:"email",placeholder:"邮箱","onUpdate:modelValue":e[0]||(e[0]=a=>t(I).email=a)},null,512),[[m,t(I).email]]),e[5]||(e[5]=i("span",{class:"focus-input100"},null,-1)),e[6]||(e[6]=i("span",{class:"symbol-input100"},[i("i",{class:"iconfont icon-fa-envelope","aria-hidden":"true"})],-1))]),i("div",R,[c(i("input",{class:"input100",type:"password",name:"password",placeholder:"密码","onUpdate:modelValue":e[1]||(e[1]=a=>t(I).password=a)},null,512),[[m,t(I).password]]),e[7]||(e[7]=i("span",{class:"focus-input100"},null,-1)),e[8]||(e[8]=i("span",{class:"symbol-input100"},[i("i",{class:"iconfont icon-fa-envelope","aria-hidden":"true"})],-1))]),i("div",_,[i("button",{class:"login100-form-btn",onClick:O},p(G.value&&t(L)?"模拟登录":"登录"),1)])])])])]))}});export{T as default};
